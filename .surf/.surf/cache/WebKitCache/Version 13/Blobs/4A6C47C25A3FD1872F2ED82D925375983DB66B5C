if (self.CavalryLogger) { CavalryLogger.start_js(["z1Kq6"]); }

__d("CommerceSelfServeUI",[],(function(a,b,c,d,e,f){e.exports={MIN_SHIPPING_OPTIONS:1,MAX_SHIPPING_OPTIONS:5}}),null);
__d("PagesManagerProductToolsConstants",[],(function(a,b,c,d,e,f){e.exports={MAX_FEATURED_ITEM_COUNT:10}}),null);
__d("AdsCurrencyInput_DEPRECATED.react",["AdsAbstractCurrencyInput.react","BUITextInput_DEPRECATED.react","React","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.focusInput=function(){this.refs.input.focusInput()}.bind(this),this.onUnderlyingValueChange=function(a,c){b("ifRequired")("AdsCMLoggerInternal",function(b){b.log("ADS_CM_CURRENCY_INPUT_CHANGE",null,{old_value:c,new_value:a})}),this.props.onUnderlyingValueChange&&this.props.onUnderlyingValueChange(a,c)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("AdsAbstractCurrencyInput.react"),babelHelpers["extends"]({},this.props,{ref:"input",textInputClass:b("BUITextInput_DEPRECATED.react"),onUnderlyingValueChange:this.onUnderlyingValueChange}))};a.propTypes={"data-testid":c.string,currency:c.string.isRequired,disabled:c.bool,eventType:c.oneOf(["change","blur"]),invalidInputIsNull:c.bool,negativeIsNull:c.bool,nonnegative:c.bool,value:c.number,withDecimals:c.bool,withISO:c.bool,onDataUpdate:c.func.isRequired,onKeyUp:c.func,onMultiplePaste:c.func,onUnderlyingValueChange:c.func};a.defaultProps={onKeyUp:null,xuiError:null};e.exports=a}),null);
__d("AdsNumberInput.react",["cx","fbt","AdsTextInput.react","React","intlNumUtils","joinClasses","mergeDeep"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={focused:!1,formatError:!1},this.$1=function(){this.setState({focused:!1,formatError:!1})}.bind(this),this.$2=function(a){var c=a;a=this.$5(a);a>=0&&(c=c.substring(0,a));a=b("intlNumUtils").parseNumber(c);a!=null&&this.props.onChange(a)}.bind(this),this.$3=function(){this.setState({focused:!0})}.bind(this),this.$4=function(a){a=this.$5(a);a=a>=0;this.setState({formatError:a})}.bind(this),c}a.prototype.render=function(){__p&&__p();var a=this.props.errors||{};this.state.formatError&&(a=b("mergeDeep")(a,{NON_NUMERIC_INPUT:h._("This input can only contain numbers")}));var c=this.props,d=c.value;c=babelHelpers.objectWithoutPropertiesLoose(c,["value"]);d!=null&&(d=this.props.withNumberDelimiters?b("intlNumUtils").formatNumberWithThousandDelimiters(d):b("intlNumUtils").formatNumber(d));if(d!=null&&!this.state.focused){var e=this.props.prefix||"",f=this.props.suffix||"";d=e+d+f}e="_x62";return b("React").createElement(b("AdsTextInput.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,e),errors:a,value:d,onBlur:this.$1,onChange:this.$2,onFocus:this.$3,onImmediateChange:this.$4}))};a.prototype.$5=function(a){return a.search(/[^0-9\,\.\ ]/)};a.defaultProps={withNumberDelimiters:!1};e.exports=a}),null);
__d("CommerceCurrencyInputUtils",["Currency"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=100;a={convertPEFormatToPBFormat:function(a,c){a=a;if(a){c=b("Currency").getOffset(c);a=c>0?a*c/g:a}return a},convertPBFormatToPEFormat:function(a,c){a=a;if(a){c=b("Currency").getOffset(c);a=c>0?a*g/c:a}return a}};e.exports=a}),null);
__d("CommerceSelfServeProductTaxRatesTable.react",["ix","cx","fbt","invariant","xuiglyph","AdsNumberInput.react","CommerceUSAStates","Image.react","React","SUIAtlasTheme","SUICheckboxInput.react","SUITextInput.react","XUIButton.react","XUITable.react"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);l=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=l.constructor).call.apply(a,[this].concat(e)),this.state={newRateLocationError:!1,newTaxRateLocation:"",newTaxRatePercentage:0,newIsAppliedToShipping:!1,showNewRateRow:!1},this.$1=function(a,c){return b("React").createElement("tr",{key:"tax_rate_"+a},b("React").createElement("td",null,b("React").createElement("span",null,a)),b("React").createElement("td",null,b("React").createElement(b("AdsNumberInput.react"),{value:this.$3(c.tax_rate,3),suffix:"%",className:"_2263",onChange:function(b){b!==null&&(b=this.$4(b,3),this.$5(a,b,c.is_applied_to_shipping))}.bind(this)})),b("React").createElement("td",null,b("React").createElement(b("SUICheckboxInput.react"),{label:c.is_applied_to_shipping?i._("Yes"):i._("No"),onChange:function(b){this.$5(a,c.tax_rate,b)}.bind(this),theme:b("SUIAtlasTheme"),value:c.is_applied_to_shipping})),b("React").createElement("td",{className:"_5rpt"},b("React").createElement(b("Image.react"),{className:"_ksy _3-9b",src:g("88982"),onClick:function(){this.$6(a)}.bind(this)})))}.bind(this),this.$2=function(){return b("React").createElement("tr",{key:"new_tax_rate_row"},b("React").createElement("td",null,b("React").createElement(b("SUITextInput.react"),{className:"_2263",onChange:function(a){this.setState({newTaxRateLocation:a.toUpperCase()})}.bind(this),theme:b("SUIAtlasTheme"),value:this.state.newTaxRateLocation})),b("React").createElement("td",null,b("React").createElement(b("AdsNumberInput.react"),{value:this.$3(this.state.newTaxRatePercentage,3),suffix:"%",className:"_2263",onChange:function(a){a!==null&&(a=this.$4(a,3),this.setState({newTaxRatePercentage:a}))}.bind(this)})),b("React").createElement("td",null,b("React").createElement(b("SUICheckboxInput.react"),{label:this.state.newIsAppliedToShipping?i._("Yes"):i._("No"),onChange:function(a){this.setState({newIsAppliedToShipping:a})}.bind(this),theme:b("SUIAtlasTheme"),value:this.state.newIsAppliedToShipping})),b("React").createElement("td",{className:"_5rpt"},b("React").createElement(b("XUIButton.react"),{label:i._("Confirm"),use:"confirm",disabled:!this.$7(this.state.newTaxRateLocation),onClick:this.$8})))}.bind(this),this.$6=function(a){var b=this.$9(a),c=this.props.taxRates;delete c[b][a];this.props.onChangeTaxRates(c)}.bind(this),this.$5=function(a,b,c){var d=this.$9(a),e=this.props.taxRates;e[d][a]={tax_rate:b,is_applied_to_shipping:c};this.props.onChangeTaxRates(e)}.bind(this),this.$8=function(){var a=this.state.newTaxRateLocation;this.$5(a,this.state.newTaxRatePercentage,this.state.newIsAppliedToShipping);this.setState({newTaxRatePercentage:0,newTaxRateLocation:"",newIsAppliedToShipping:!1})}.bind(this),this.$9=function(a){this.$7(a)||j(0,4506);if(this.$10(a))return"zip_code";else return"state_abbr"}.bind(this),this.$3=function(a,b){a=Math.round(a*Math.pow(10,b+2));return a/Math.pow(10,b)},this.$4=function(a,b){a=Math.round(a*Math.pow(10,b));return a/Math.pow(10,b+2)},this.$7=function(a){return this.$10(a)||this.$11(a)}.bind(this),this.$10=function(a){var b=/^[0-9]{5}$/;return a.match(b)!==null},this.$11=function(a){var c="STATE_";return c+a in b("CommerceUSAStates")},c}a.prototype.render=function(){"use strict";var a=[];for(var c in this.props.taxRates){var d=this.props.taxRates[c];for(var e in d)a[a.length]=this.$1(e,d[e])}a[a.length]=this.$2();return b("React").createElement("div",null,b("React").createElement(b("XUITable.react"),{outerBorder:!0},b("React").createElement("thead",null,b("React").createElement("tr",null,b("React").createElement("th",null,i._("Location")),b("React").createElement("th",null,i._("Tax rate")),b("React").createElement("th",null,i._("Apply tax to delivery cost?")),b("React").createElement("th",null))),b("React").createElement("tbody",null,a)))};a.propTypes={taxRates:c.object.isRequired,onChangeTaxRates:c.func.isRequired};e.exports=a}),null);
__d("SEBottomButton.react",["FDSButton.react","FDSText.react","React","suiMargin"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){var a=this.props.superText?b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-99 _3-8-",size:"body3"},this.props.superText):null,c=this.props.superDisclaimerText?b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-99 _3-8-",size:"body3"},this.props.superDisclaimerText):null,d=this.props.subDisclaimerText?b("React").createElement(b("FDSText.react"),{color:"placeholder",display:"block",margin:"_3-8y",size:"body3"},this.props.subDisclaimerText):null,e=this.props.subText?b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-8y",size:"body3",textAlign:"center"},this.props.subText):null;return b("React").createElement(b("React").Fragment,null,a,c,b("React").createElement(b("FDSButton.react"),{isDisabled:this.props.isDisabled,label:this.props.label,margin:"_3-8y",size:"large",use:this.props.use,width:"100%",onClick:this.props.onClick}),d,e)};function a(){g.apply(this,arguments)}a.defaultProps={use:"primary"};e.exports=a}),null);
__d("SEModalContent.react",["cx","FDSText.react","Image.react","React","SEBottomButton.react","suiMargin"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.renderImage=function(){return this.props.imageSrc?b("React").createElement(b("Image.react"),{className:"_3-98",src:this.props.imageSrc}):null};a.prototype.renderPrimaryButton=function(){return this.props.primaryButton?b("React").createElement(b("SEBottomButton.react"),{label:this.props.primaryButton.label,onClick:this.props.primaryButton.onClick}):null};a.prototype.renderSecondaryButton=function(){return this.props.secondaryButton?b("React").createElement(b("SEBottomButton.react"),{label:this.props.secondaryButton.label,use:"default",onClick:this.props.secondaryButton.onClick}):null};a.prototype.renderSubtitle=function(){return this.props.subtitle!==null?b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",margin:"_3-96",size:"body3",textAlign:"center"},this.props.subtitle):null};a.prototype.renderTitle=function(){return b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"header1",textAlign:"center",weight:"bold"},this.props.title)};a.prototype.render=function(){return b("React").createElement("div",{className:this.props.className},this.renderImage(),this.renderTitle(),this.renderSubtitle(),this.renderPrimaryButton(),this.renderSecondaryButton())};function a(){h.apply(this,arguments)}a.defaultProps={className:"_3d5h"};e.exports=a}),null);
__d("CommerceMerchantSettingsUpdateMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"data",type:"CommerceMerchantSettingsInput!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"data",type:"CommerceMerchantSettingsInput!"},{kind:"Variable",name:"page_id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:"alertEmail",name:"merchant_alert_email",args:null,storageKey:null},d={kind:"ScalarField",alias:"contactEmail",name:"contact_email",args:null,storageKey:null},e={kind:"ScalarField",alias:"merchantCategoryCode",name:"merchant_category_code",args:null,storageKey:null},f={kind:"ScalarField",alias:"returnPolicy",name:"current_return_policy_time",args:null,storageKey:null},g={kind:"LinkedField",alias:"stateTaxes",name:"state_tax_registration_numbers",storageKey:null,args:null,concreteType:"StateTaxRegistrationNumberOutput",plural:!0,selections:[{kind:"ScalarField",alias:"stateCode",name:"state_code",args:null,storageKey:null},{kind:"ScalarField",alias:"registrationNumber",name:"tax_registration_number",args:null,storageKey:null}]},h={kind:"ScalarField",alias:"supportContactsConfirmed",name:"support_contacts_confirmed",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"mutation",name:"CommerceMerchantSettingsUpdateMutation",id:"2131083083592733",text:null,metadata:{},fragment:{kind:"Fragment",name:"CommerceMerchantSettingsUpdateMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"update_commerce_merchant_settings",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[c,d,e,f,g,h]}]}]},operation:{kind:"Operation",name:"CommerceMerchantSettingsUpdateMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"update_commerce_merchant_settings",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[c,d,e,f,g,h,i]},i]}]}}}();e.exports=a}),null);
__d("CommerceMerchantSettingsUpdateMutation",["RelayModern","CommerceMerchantSettingsUpdateMutation.graphql"],(function(a,b,c,d,e,f){"use strict";var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("CommerceMerchantSettingsUpdateMutation.graphql")};function a(a,b){return g(a,babelHelpers["extends"]({mutation:h},b))}e.exports={commit:a}}),null);
__d("MerchantPaymentsPageProfilePhoto_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"MerchantPaymentsPageProfilePhoto_page",type:"Page",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"profileSize",type:"Int"},{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"LinkedField",alias:"photo",name:"profile_photo",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"profileSize",type:"Int"},{kind:"Variable",name:"scale",variableName:"scale",type:"Float"},{kind:"Variable",name:"width",variableName:"profileSize",type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]}]};e.exports=a}),null);
__d("MerchantPaymentsPageProfilePhoto.react",["cssVar","Image.react","PUIFacepileItem.react","React","RelayModern","MerchantPaymentsPageProfilePhoto_page.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i="/images/pages/empty-page-profile-60.png";h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a;a=((a=this.props)!=null?(a=a.page)!=null?(a=a.photo)!=null?(a=a.image)!=null?a.uri:a:a:a:a)||i;return b("React").createElement(b("PUIFacepileItem.react"),{badge:this.props.badge,badgeColor:"#4080ff",itemStyle:"circle",size:"large"},b("React").createElement(b("Image.react"),{src:a}))};function a(){h.apply(this,arguments)}e.exports=c(a,{page:function(){return b("MerchantPaymentsPageProfilePhoto_page.graphql")}})}),null);
__d("ShopOnboardingSupportContactsSetupDialog_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"ScalarField",alias:null,name:"response_enabled",args:null,storageKey:null}];return{kind:"Fragment",name:"ShopOnboardingSupportContactsSetupDialog_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"MerchantPaymentsPageProfilePhoto_page",args:null},{kind:"LinkedField",alias:"adminInfo",name:"admin_info",storageKey:null,args:null,concreteType:"PageAdminInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"instant_reply_response",storageKey:null,args:null,concreteType:"PageSimpleSavedResponse",plural:!1,selections:a},{kind:"LinkedField",alias:null,name:"away_response",storageKey:null,args:null,concreteType:"PageSimpleSavedResponse",plural:!1,selections:a}]}]}}();e.exports=a}),null);
__d("ShopOnboardingSupportContactsSetupDialog.react",["ix","cx","fbt","BusinessDialogHeader.react","BusinessOnboardingInputGroup.react","CommerceMerchantSettingsUpdateMutation","Link.react","MerchantPaymentsPageProfilePhoto.react","PagesMessagingSettingFieldKey","PagesMessagingSettingSectionKey","PresmaSettingFrameworkUtils","PresmaSettingsKeys","React","RelayFBEnvironment","RelayModern","SEBottomButton.react","SUIBusinessThemeContainer.react","SUICheckboxInput.react","SUIModal.react","SUIModalFillViewportHeight","SUIText.react","SUITextArea.react","SUITextInput.react","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogTitle.react","asset","isEmail","nullthrows","suiMargin","ShopOnboardingSupportContactsSetupDialog_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=534,l=445,m="https://www.facebook.com/help/211403042968780";d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.isSettingsLoaded=!1,this.state={awayMessage:null,confirmedEmail:null,confirmedEmailError:null,dialogShown:!0,email:null,emailError:null,emailsValidAndMatch:!1,instantReplyMessage:null,isAwayMessageEnabled:!1,isInstantReplyEnabled:!1,isMessengerEnabled:!0,showCancelConfirmation:!1},this.titleProps={color:"secondary",display:"block",size:"body2",style:{marginBottom:"4px"},textAlign:"left",weight:"bold"},this.emailChanged=function(a){this.setState(function(c){return{email:a,emailsValidAndMatch:!!(b("isEmail")(a)&&c.confirmedEmail&&a===c.confirmedEmail)}})}.bind(this),this.confirmedEmailChanged=function(a){this.setState(function(c){return{confirmedEmail:a,emailsValidAndMatch:!!(b("isEmail")(a)&&c.email&&c.email===a)}})}.bind(this),this.validateFields=function(){var a=null,c=null;!this.state.email||!b("isEmail")(this.state.email)?a=i._("Enter a valid email address"):this.state.email!==this.state.confirmedEmail&&(c=i._("Make sure that the email addresses match"));this.setState({emailError:a,confirmedEmailError:c})}.bind(this),this.resetEmailError=function(){this.setState({emailError:null})}.bind(this),this.resetConfirmedEmailError=function(){this.setState({confirmedEmailError:null})}.bind(this),this.saveAndClose=function(){var a=this.props.pageID;this.setState({dialogShown:!1});b("CommerceMerchantSettingsUpdateMutation").commit(b("RelayFBEnvironment"),{variables:{pageID:b("nullthrows")(a),data:{contact_email:this.state.email,support_contacts_confirmed:!0}}});b("PresmaSettingFrameworkUtils").updateGenericSettingValue({presmaSettingsKey:b("PresmaSettingsKeys").MESSAGING,sectionKey:b("PagesMessagingSettingSectionKey").INSTANT_REPLIES,pageID:a,fieldKey:b("PagesMessagingSettingFieldKey").IS_ENABLED},this.state.isMessengerEnabled&&this.state.isInstantReplyEnabled);b("PresmaSettingFrameworkUtils").updateGenericSettingValue({presmaSettingsKey:b("PresmaSettingsKeys").MESSAGING,sectionKey:b("PagesMessagingSettingSectionKey").AWAY_STATUS,pageID:a,fieldKey:b("PagesMessagingSettingFieldKey").IS_ENABLED},this.state.isMessengerEnabled&&this.state.isAwayMessageEnabled);this.state.isMessengerEnabled&&this.state.isInstantReplyEnabled&&b("PresmaSettingFrameworkUtils").updateGenericSettingValue({presmaSettingsKey:b("PresmaSettingsKeys").MESSAGING,sectionKey:b("PagesMessagingSettingSectionKey").INSTANT_REPLIES,pageID:a,fieldKey:b("PagesMessagingSettingFieldKey").AUTO_REPLY_MESSAGE},this.state.instantReplyMessage);this.state.isMessengerEnabled&&this.state.isAwayMessageEnabled&&b("PresmaSettingFrameworkUtils").updateGenericSettingValue({presmaSettingsKey:b("PresmaSettingsKeys").MESSAGING,sectionKey:b("PagesMessagingSettingSectionKey").AWAY_STATUS,pageID:a,fieldKey:b("PagesMessagingSettingFieldKey").AUTO_REPLY_MESSAGE},this.state.awayMessage);this.props.onCompleted&&this.props.onCompleted()}.bind(this),this.tryToCancelDialog=function(){this.setState({showCancelConfirmation:!0})}.bind(this),this.cancelDialog=function(){this.setState({showCancelConfirmation:!1,dialogShown:!1}),this.props.onCancelled&&this.props.onCancelled()}.bind(this),this.undoCancelDialog=function(){this.setState({showCancelConfirmation:!1})}.bind(this),c}a.prototype.getHeader=function(a){return b("React").createElement(b("BusinessDialogHeader.react"),{image:b("React").createElement(b("MerchantPaymentsPageProfilePhoto.react"),{badge:g("407222"),page:a}),subtitle:i._("Enter an email address that you check regularly so that your customers can contact you and get the help they need. Learn about our {terms and conditions link}.",[i._param("terms and conditions link",b("React").createElement(b("Link.react"),{href:m,target:"_blank"},i._("merchants' responsibilities")))]),title:i._("What's the best way for your customers to contact you?"),useNewStyle:!0})};a.prototype.getInputEmailAddress=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Email address")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUITextInput.react"),{errorMessage:this.state.emailError,name:"email",value:this.state.email,onBlur:this.validateFields,onChange:this.emailChanged,onFocus:this.resetEmailError})))};a.prototype.getInputEmailAddressConfirmation=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Confirm email address")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUITextInput.react"),{errorMessage:this.state.confirmedEmailError,name:"confirmedEmail",value:this.state.confirmedEmail,onBlur:this.validateFields,onChange:this.confirmedEmailChanged,onFocus:this.resetConfirmedEmailError})))};a.prototype.getEnableMessenger=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Messenger")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUICheckboxInput.react"),{label:i._("Enable Messenger for more immediate responses."),value:!!this.state.isMessengerEnabled,onChange:function(){this.setState(function(a){return{isMessengerEnabled:!a.isMessengerEnabled}})}.bind(this)})))};a.prototype.getSectionInstantReply=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Instant reply")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUICheckboxInput.react"),{disabled:!this.state.isMessengerEnabled,label:i._("This greeting is sent the first time customers start a conversation with you."),value:!!this.state.isInstantReplyEnabled,onChange:function(){this.setState(function(a){return{isInstantReplyEnabled:!a.isInstantReplyEnabled}})}.bind(this)}),b("React").createElement(b("SUITextArea.react"),{disabled:!this.state.isMessengerEnabled||!this.state.isInstantReplyEnabled,margin:"_3-8x",placeholder:"Hi Ryan, thanks for getting in touch.",value:this.state.instantReplyMessage,onChange:function(a){this.setState({instantReplyMessage:a})}.bind(this)})))};a.prototype.getSectionAwayMessage=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIText.react"),this.titleProps,i._("Away message")),b("React").createElement(b("BusinessOnboardingInputGroup.react"),{useNewStyle:!0},b("React").createElement(b("SUICheckboxInput.react"),{disabled:!this.state.isMessengerEnabled,label:i._("Let people know that you'll be less responsive outside working hours."),value:!!this.state.isAwayMessageEnabled,onChange:function(){this.setState(function(a){return{isAwayMessageEnabled:!a.isAwayMessageEnabled}})}.bind(this)}),b("React").createElement(b("SUITextArea.react"),{disabled:!this.state.isMessengerEnabled||!this.state.isAwayMessageEnabled,margin:"_3-8x",placeholder:"Thanks for getting in touch! We'll get back to you soon.",value:this.state.awayMessage,onChange:function(a){this.setState({awayMessage:a})}.bind(this)})))};a.prototype.getSaveButton=function(){return b("React").createElement(b("SEBottomButton.react"),{isDisabled:!this.state.emailsValidAndMatch,label:i._("Save"),onClick:this.saveAndClose})};a.prototype.getCancelConfirmationDialog=function(){return b("React").createElement(b("XUIDialog.react"),{shown:this.state.showCancelConfirmation,width:l},b("React").createElement(b("XUIDialogTitle.react"),null,i._("Your product won't be added")),b("React").createElement(b("XUIDialogBody.react"),null,i._("If you leave this page without setting up customer support, your product won't be added.")),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.cancelDialog}),b("React").createElement(b("XUIDialogButton.react"),{action:"confirm",label:"Return to Page",size:"large",use:"confirm",onClick:this.undoCancelDialog})))};a.prototype.loadMessageSettings=function(a){var b;if(this.isSettingsLoaded)return;b=((b=a)!=null?(b=b.away_response)!=null?b.response_enabled:b:b)||!1;a=((a=a)!=null?(a=a.instant_reply_response)!=null?a.response_enabled:a:a)||!1;this.setState({isAwayMessageEnabled:b,isInstantReplyEnabled:a});this.isSettingsLoaded=!0};a.prototype.render=function(){if(!this.state.dialogShown)return null;this.props.onDialogLoaded&&this.props.onDialogLoaded();this.loadMessageSettings(b("nullthrows")(this.props.page.adminInfo));return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIModal.react"),{behaviors:{LayerHideOnBlur:null,SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:null,isFullBleed:!0,isShown:!this.state.showCancelConfirmation,label:"Set Up Customer Suppot Contact Info",width:k,onHide:this.tryToCancelDialog},this.getHeader(b("nullthrows")(this.props.page)),b("React").createElement("div",{className:"_4wos"},this.getInputEmailAddress(),this.getInputEmailAddressConfirmation(),this.getEnableMessenger(),this.getSectionInstantReply(),this.getSectionAwayMessage(),this.getSaveButton()))),this.getCancelConfirmationDialog())};e.exports=c(a,{page:function(){return b("ShopOnboardingSupportContactsSetupDialog_page.graphql")}})}),null);
__d("ShopOnboardingSupportContactsSetupDialogContainerQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"profileSize",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[{kind:"ScalarField",alias:null,name:"response_enabled",args:null,storageKey:null}];return{kind:"Request",operationKind:"query",name:"ShopOnboardingSupportContactsSetupDialogContainerQuery",id:"1681675708620766",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopOnboardingSupportContactsSetupDialogContainerQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopOnboardingSupportContactsSetupDialog_page",args:null}]}]},operation:{kind:"Operation",name:"ShopOnboardingSupportContactsSetupDialogContainerQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"photo",name:"profile_photo",storageKey:null,args:null,concreteType:"Photo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"profileSize",type:"Int"},{kind:"Variable",name:"scale",variableName:"scale",type:"Float"},{kind:"Variable",name:"width",variableName:"profileSize",type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]},c]},{kind:"LinkedField",alias:"adminInfo",name:"admin_info",storageKey:null,args:null,concreteType:"PageAdminInfo",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"instant_reply_response",storageKey:null,args:null,concreteType:"PageSimpleSavedResponse",plural:!1,selections:d},{kind:"LinkedField",alias:null,name:"away_response",storageKey:null,args:null,concreteType:"PageSimpleSavedResponse",plural:!1,selections:d}]},c]}]}}}();e.exports=a}),null);
__d("ShopOnboardingSupportContactsSetupDialogContainer.react",["PixelRatio","PUIFacepileItem.react","React","RelayFBEnvironment","RelayModern","ShopOnboardingSupportContactsSetupDialog.react","ShopOnboardingSupportContactsSetupDialogContainerQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("RelayModern").QueryRenderer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(i,{environment:b("RelayFBEnvironment"),query:h||(h=function(){return b("ShopOnboardingSupportContactsSetupDialogContainerQuery.graphql")}),render:function(a){var c=a.props;a=a.error;return a||!c?null:b("React").createElement(b("ShopOnboardingSupportContactsSetupDialog.react"),babelHelpers["extends"]({pageID:this.props.pageID,onCancelled:this.props.onCancelled,onCompleted:this.props.onCompleted,onDialogLoaded:this.props.onDialogLoaded},c))}.bind(this),variables:{pageID:this.props.pageID,profileSize:b("PUIFacepileItem.react").FACEPILE_SIZE.large,scale:b("PixelRatio").get()}})};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsAddButton.react",["ix","cx","Image.react","React","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{className:"_3-8_",src:g("550827")}),this.props.label)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedShippingProfileCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_shipping_profile_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"FixedShippingProfileCreateData!"}],concreteType:"FixedShippingProfileCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",id:"2005279382835539",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopSettingsAddShippingProfileCreateShippingProfileMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ShopSettingsAddShippingProfileRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"ShopSettingsAddShippingProfileRefetchQuery",id:"1712325772213065",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopSettingsAddShippingProfileRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsAddShippingProfile_settings",args:null}]}]}]},operation:{kind:"Operation",name:"ShopSettingsAddShippingProfileRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[c]},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]},c]}]}}}();e.exports=a}),null);
__d("ShopSettingsAddShippingProfile_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsAddShippingProfile_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"ShopSettingsConfirmShopVisibility_settings",args:null}]};e.exports=a}),null);
__d("CommerceRefType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNKNOWN:0,SHARE:1,EMAIL_PRODUCT_ITEM:2,EMAIL_UPSELL:3,CONFIRMATION_UPSELL:4,SETTINGS_PRODUCT_ITEM:5,PAGE_CARD:6,STORE_SHARE:8,PAGE_TAB:9,NOTIFICATION:10,SAVED:11,SHOPPING:12,STORE_MANAGEMENT:13,MESSENGER_COMMERCE:14,NEW_STORE_CREATED_NOTIFICATION:15,ADD_SECTION_MODAL:16,QP:17,MARKETPLACE:18,URL_COPY:19,MARKETPLACE_SEARCH:20,MARKETPLACE_BROWSE:21,EVENT_TICKETING:22,OFFER:23,OPS:24,INSIGHTS:25,SELF_SERVE_CTA:26,PRODUCT_REVIEW_NOTIF:27,PUBLISHING_TOOLS:28,SELF_SERVE_ONBOARDING:29,SERIALIZER_GEN_CART:30,SERIALIZER_GET_ITEM:31,BOOKMARKS:32,SYML_SIDEBAR:33,GLOBAL_SEARCH:34,PRODUCT_TAG:35,NEWSFEED_CHAINING:36,MINI_PRODUCT_CARD:37,MINI_PRODUCT_END_CARD:38,PAGE_STORE_FRONT_CTA:39,SHOPPING_SEARCH:40,DEALS:41,PDFY:42,SHOPPING_BOOKMARK_QP:43,ABANDONED_CART_NOTIFICATION:44,CATEGORY_VIEW:45,LIVE_VIDEO:46,GLOBAL_SEARCH_MODULE_SEE_MORE:47,PRODUCT_TAGGING_FEED:48,DAILY_DEALS:49,B2C_MARKETPLACE_TAB:50,PAGE_BEST_PRACTICE_CARD:51,TPFY:52,DPA_AD:53,MARKETPLACE_WWW:54,SSFY:55,CATALOG_MANAGER:56,DPA_ONSITE_CHECKOUT:57})}),null);
__d("ShopSettingsConfirmShopVisibility_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsConfirmShopVisibility_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null}]};e.exports=a}),null);
__d("XCommerceProductsParam",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_ID:"ad_id",GROUP_ID:"group_id",ITEM_ID:"item_id",REF_ID:"rid",REF_TYPE:"rt",REF_STORY_LOCATION:"location",IS_SPONSORED:"is_sponsored",MARKETPLACE_INITIAL_TRACKING:"marketplace_initial_tracking",MARKETPLACE_REFERRAL_STORY_TYPE:"marketplace_referral_story_type",MARKETPLACE_TRACKING:"marketplace_tracking",SHARE_ID_DEPRECATED:"share_id",DAILY_DEALS_REFERRAL_STORY_TYPE:"referral_story_type",DAILY_DEALS_REFERRAL_SURFACE_TYPE:"ref",DAILY_DEALS_REFERRAL_CODE:"referral_code",RAKUTEN_SITEID:"siteID",RAKUTEN_RANMID:"ranMID",RAKUTEN_RANEAID:"ranEAID",RAKUTEN_RANSITEID:"ranSiteID"})}),null);
__d("XPagesProfileShopController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/shop/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},rid:{type:"Int"},rt:{type:"Enum",enumType:0},location:{type:"Enum",enumType:1},share_id:{type:"Int"},marketplace_initial_tracking:{type:"String"},marketplace_referral_story_type:{type:"Enum",enumType:1},marketplace_tracking:{type:"String"},ref:{type:"String"},referral_story_type:{type:"Enum",enumType:1},referral_code:{type:"String"},cid:{type:"Int"},obs:{type:"String"},hsi:{type:"Int"},offer_id:{type:"Int"},updated_cids:{type:"IntVector"},new_pids_count:{type:"IntVector"},new_pids:{type:"IntVector"},search_text:{type:"String"},__nodl:{type:"Exists",defaultValue:!1},qr:{type:"String"},qr_code_id:{type:"FBID"},scan_session_id:{type:"String"},mt_nav:{type:"Bool",defaultValue:!1},referrer:{type:"String"},msite_tab_async:{type:"Bool",defaultValue:!1},_sref_:{type:"Int"},_vref_:{type:"Int"}})}),null);
__d("ShopSettingsConfirmShopVisibility.react",["cx","fbt","ix","CommerceRefType","React","RelayModern","SEModalContent.react","SUIModal.react","XCommerceProductsParam","XPagesProfileShopController","goURI","ShopSettingsConfirmShopVisibility_settings.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;d=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=550;f=babelHelpers.inherits(a,b("React").Component);j=f&&f.prototype;function a(){var a,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return d=(a=j.constructor).call.apply(a,[this].concat(f)),this.state={isShopVisibleToVisitorsPreviously:(c=this.props)!=null?(c=c.settings)!=null?c.canVisitorSeeShopTab:c:c},this.onShopLinkClick=function(){var a=b("XPagesProfileShopController").getURIBuilder().setEnum(b("XCommerceProductsParam").REF_TYPE,b("CommerceRefType").PUBLISHING_TOOLS).setString("page_token",this.props.pageID).getURI();b("goURI")(a)}.bind(this),d}a.prototype.render=function(){var a;a=this.props.isShown&&((a=this.props)!=null?(a=a.settings)!=null?a.canVisitorSeeShopTab:a:a)&&!this.state.isShopVisibleToVisitorsPreviously;return!a?null:b("React").createElement(b("SUIModal.react"),{footer:null,isShown:this.props.isShown,label:"Confirm shop is now visible to visitors",width:k,onHide:this.props.onHide},b("React").createElement(b("SEModalContent.react"),{className:"_6sya",imageSrc:i("94361"),primaryButton:{label:h._("Done"),onClick:this.props.onHide},secondaryButton:{label:h._("See My Shop"),onClick:this.onShopLinkClick},subtitle:h._("You've updated your delivery options and your shop is now visible to customers."),title:h._("Your delivery options are set!")}))};e.exports=d(a,{settings:function(){return b("ShopSettingsConfirmShopVisibility_settings.graphql")}})}),null);
__d("CommerceStringUtils",[],(function(a,b,c,d,e,f){"use strict";var g=/^\d+$/;a={isEmpty:function(a){return a==null||a.trim()===""},isInteger:function(a){return a!=null&&g.test(a)}};e.exports=a}),null);
__d("ShopSettingsShippingOptionInput.react",["cx","fbt","AdsCurrencyInput.react","CommerceStringUtils","FlexLayout.react","React","SUIText.react","SUITextInput.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=babelHelpers.inherits(j,b("React").PureComponent);i=a&&a.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null},b}j.validate=function(a){__p&&__p();var c=a.additionalItemCost,d=a.arrivalMin,e=a.arrivalMax,f=a.baseCost;a=a.name;var g={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null},i=Number(e||0),j=Number(d||0),k=h._("This field is required"),l=h._("Please input a number");c||(g.additionalItemCostError=k);f||(g.baseCostError=k);a||(g.nameError=k);!d?g.arrivalMinError=k:b("CommerceStringUtils").isInteger(d)||(g.arrivalMinError=l);!e?g.arrivalMaxError=k:b("CommerceStringUtils").isInteger(e)||(g.arrivalMaxError=l);i<0&&(g.arrivalMaxError=h._("The maximum estimated delivery time must be greater than zero"));j<0&&(g.arrivalMinError=h._("The minimum estimated delivery time must be greater than zero"));j>i&&(g.arrivalMinError=h._("The minimum estimated delivery time must be less than the maximum"));i>7&&(g.arrivalMaxError=h._("Items must be delivered within seven days of dispatch"));return g};j.getDerivedStateFromProps=function(a,b){return a.showErrors?j.validate(a):{additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null,nameError:null}};j.prototype.render=function(){return b("React").createElement("div",{className:"_11gz"},b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Delivery type")),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.nameError,name:"name",placeholder:h._("For example, standard delivery"),value:this.props.name,width:300,onChange:function(a){return this.props.onChange("name",a)}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Estimated days to delivery")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("You're responsible for dispatching items within three working days of when an order was placed."))),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMinError,name:"arrivalMin",placeholder:h._("Min."),style:{marginRight:"8px"},value:this.props.arrivalMin,width:60,onChange:function(a){return this.props.onChange("arrivalMin",a)}.bind(this)}),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMaxError,name:"arrivalMax",placeholder:h._("Max."),value:this.props.arrivalMax,width:60,onChange:function(a){return this.props.onChange("arrivalMax",a)}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Price")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("This is the base price of this delivery option."))),b("React").createElement(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.baseCostError,value:Number(this.props.baseCost),width:128,onDataUpdate:function(a){this.props.onChange("baseCost",String(a))}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Price per additional item")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("This is the amount added for every additional item in the order when this delivery option is selected."))),b("React").createElement(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.additionalItemCostError,value:Number(this.props.additionalItemCost),width:128,onDataUpdate:function(a){this.props.onChange("additionalItemCost",String(a))}.bind(this)}))))};e.exports=j}),null);
__d("ShopSettingsTableFooter.react",["FDSDivider.react","React","suiMargin"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSDivider.react"),{margin:"_3-97"}),this.props.children)};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsTableFooterLink.react",["React","SUILink.react","SUIText.react","suiMargin"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("SUILink.react"),{display:"block",margin:"_3-97",showUnderline:"never",onClick:this.props.onClick},b("React").createElement(b("SUIText.react"),{color:"interactive",size:"body3",weight:"bold"},this.props.children))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsAddShippingProfile.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModalFooter.react","FDSModalHeader.react","LeftRight.react","React","RelayFBEnvironment","RelayModern","ShopSettingsAddButton.react","ShopSettingsConfirmShopVisibility.react","ShopSettingsShippingOptionInput.react","ShopSettingsTableFooter.react","ShopSettingsTableFooterLink.react","SUIModal.react","SUINotice.react","SUIText.react","SUITextInput.react","XUICardSection.react","nullthrows","suiMargin","ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql","ShopSettingsAddShippingProfile_settings.graphql","ShopSettingsAddShippingProfileRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("RelayModern").commitMutation;a=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var k=function(){return b("ShopSettingsAddShippingProfileCreateShippingProfileMutation.graphql")};c=babelHelpers.inherits(l,b("React").Component);i=c&&c.prototype;function l(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,isSaving:!1,shippingProfileName:h._("Default delivery profile"),shippingProfileNameError:null,shippingOptions:[l.emptyShippingOption()],showErrors:!1,showShopVisibilityConfirmationModal:!1},this.onAddShippingOption=function(){this.setState(function(a){return{shippingOptions:[].concat(a.shippingOptions,[l.emptyShippingOption()])}})}.bind(this),this.onShopVisibilityConfirmationModalHide=function(){this.setState({showShopVisibilityConfirmationModal:!1})}.bind(this),this.onSave=function(){__p&&__p();if(this.state.isSaving||!this.validate())return;this.setState({isSaving:!0});var a=b("nullthrows")(this.props.settings.currency),c={name:this.state.shippingProfileName,page_id:this.props.pageID,shipping_options:this.state.shippingOptions.map(function(b){return{name:b.name,cost:{amount_in_hundredths:Number(b.baseCost),currency:a},cost_per_additional_item:{amount_in_hundredths:Number(b.additionalItemCost),currency:a},estimated_days_until_arrival:{max_days_to_arrival:b.arrivalMax,min_days_to_arrival:b.arrivalMin}}})};j(b("RelayFBEnvironment"),{mutation:k,onCompleted:function(){this.setState({isSaving:!1}),this.refetchShopVisibility()}.bind(this),onError:function(a){var b=null;switch(a.name){case"NetworkTransportError":b=h._("Couldn't connect to the server. Please try again later.");break;default:b=h._("An unexpected error occurred. Please try again later.")}this.setState({errorMessage:b,isSaving:!1})}.bind(this),variables:{input:c}})}.bind(this),c}l.emptyShippingOption=function(){return{additionalItemCost:"0",arrivalMin:null,arrivalMax:null,baseCost:"0",name:""}};l.prototype.validate=function(){__p&&__p();var a={errorMessage:null,shippingProfileNameError:null,showErrors:!0},c=!0;this.state.shippingProfileName||(c=!1,a.shippingProfileNameError=h._("This field is required"));var d=this.state.shippingOptions.map(function(a){a=b("ShopSettingsShippingOptionInput.react").validate(a);return!Object.values(a).reduce(function(a,b){return a||b!==null},!1)}).reduce(function(a,b){return a&&b},!0);c=c&&d;c||(a.errorMessage=h._("There are errors in this form. Please correct them."));this.setState(a);return c};l.prototype.refetchShopVisibility=function(){var a;((a=this.props.settings)!=null?(a=a.shippingProfile)!=null?a.id:a:a)==null?this.props.relay.refetch({pageID:this.props.pageID},null,function(){this.setState({showShopVisibilityConfirmationModal:!0}),this.props.onHide()}.bind(this)):this.props.onHide()};l.prototype.renderInputFields=function(){var a=this.props.isProfileEnabled?b("React").createElement(b("ShopSettingsAddButton.react"),{label:h._("Add delivery option")}):b("React").createElement(b("ShopSettingsAddButton.react"),{label:h._("Add another")});return b("React").createElement(b("React").Fragment,null,this.renderShippingProfileInputField(),this.renderShippingOptions(),b("React").createElement(b("XUICardSection.react"),{className:"_2m6g"},b("React").createElement(b("ShopSettingsTableFooter.react"),null,b("React").createElement(b("ShopSettingsTableFooterLink.react"),{onClick:this.onAddShippingOption},a))))};l.prototype.renderShippingOptions=function(){var a,c=((a=this.props)!=null?(a=a.settings)!=null?a.currency:a:a)||"USD";a=this.state.shippingOptions.map(function(a,d){return b("React").createElement("div",{className:(this.props.isProfileEnabled?"":"_68il")+(this.props.isProfileEnabled?" _1ci1":""),key:d},b("React").createElement(b("ShopSettingsShippingOptionInput.react"),babelHelpers["extends"]({},a,{currency:c,showErrors:this.state.showErrors,onChange:function(a,b){var c=this.state.shippingOptions;c[d][a]=b;this.setState({shippingOptions:c})}.bind(this)})))}.bind(this));return b("React").createElement(b("XUICardSection.react"),{className:"_2m6g"},a)};l.prototype.renderShippingProfileInputField=function(){return!this.props.isProfileEnabled?null:b("React").createElement(b("XUICardSection.react"),{className:"_2m6h"},this.state.errorMessage?b("React").createElement(b("SUINotice.react"),{margin:"_3-96",type:"error"},this.state.errorMessage):null,b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Delivery profile name")),b("React").createElement(b("SUITextInput.react"),{disabled:!0,display:"inline",errorMessage:this.state.shippingProfileNameError,name:"shippingProfileName",value:this.state.shippingProfileName.toString(),width:300,onChange:function(a){return this.setState({shippingProfileName:a,shippingProfileNameError:a===null||a.length===0?h._("This field is required"):null})}.bind(this)})))};l.prototype.render=function(){var a=this.props.isProfileEnabled?h._("Add delivery profile"):h._("Add delivery options");return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),null)}),header:b("React").createElement(b("FDSModalHeader.react"),{title:a}),isShown:this.props.isShown,label:a,width:600,onHide:this.props.onHide},this.renderInputFields()),b("React").createElement(b("ShopSettingsConfirmShopVisibility.react"),{isShown:this.state.showShopVisibilityConfirmationModal,pageID:this.props.pageID,settings:this.props.settings,onHide:this.onShopVisibilityConfirmationModalHide}))};e.exports=a(l,{settings:function(){return b("ShopSettingsAddShippingProfile_settings.graphql")}},function(){return b("ShopSettingsAddShippingProfileRefetchQuery.graphql")})}),null);
__d("OnsiteCommerceMerchantFixedShippingOptionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({STANDARD:"STANDARD",RUSH:"RUSH",EXPEDITED:"EXPEDITED"})}),null);
__d("ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"FixedCostShippingOptionCreateData!"}],concreteType:"FixedCostShippingOptionCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",id:"1726666037381461",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationCreateOptionMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedShippingProfileCreateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_shipping_profile_create",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"FixedShippingProfileCreateData!"}],concreteType:"FixedShippingProfileCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",id:"2273534789339989",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationCreateProfileMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionUpdateData!",defaultValue:null}],b=[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_update",storageKey:null,args:[{kind:"Variable",name:"data",variableName:"input",type:"FixedCostShippingOptionUpdateData!"}],concreteType:"FixedCostShippingOptionUpdateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"mutation",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",id:"1624117297705899",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:b},operation:{kind:"Operation",name:"ShopCreateTieredShippingOptionMutationEditOptionMutation",argumentDefinitions:a,selections:b}}}();e.exports=a}),null);
__d("ShopCreateTieredShippingOptionMutation",["fbt","RelayModern","ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql","ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql","ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=function(){return b("ShopCreateTieredShippingOptionMutationCreateOptionMutation.graphql")},j=function(){return b("ShopCreateTieredShippingOptionMutationEditOptionMutation.graphql")},k=function(){return b("ShopCreateTieredShippingOptionMutationCreateProfileMutation.graphql")};function a(a,b){__p&&__p();var c=b.variables;b=babelHelpers.objectWithoutPropertiesLoose(b,["variables"]);if(c.fixed_cost_shipping_option_id!==null){var d=j;return h(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:babelHelpers["extends"]({fixed_cost_shipping_option_id:c.fixed_cost_shipping_option_id},c.shipping_option)}}))}else if(c.fixed_cost_shipping_profile_id!==null){d=i;return h(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:babelHelpers["extends"]({fixed_cost_shipping_profile_id:c.fixed_cost_shipping_profile_id},c.shipping_option)}}))}else{d=k;return h(a,babelHelpers["extends"]({mutation:d},b,{variables:{input:{name:g._("Default delivery profile"),page_id:c.page_id,shipping_options:[c.shipping_option]}}}))}}e.exports={commit:a}}),null);
__d("ShopSettingsAddTieredShippingOptionRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",id:"1879139458867365",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsAddTieredShippingOption_settings",args:null}]}]}]},operation:{kind:"Operation",name:"ShopSettingsAddTieredShippingOptionRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]},c]}]}}}();e.exports=a}),null);
__d("ShopSettingsAddTieredShippingOption_settings.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"ShopSettingsAddTieredShippingOption_settings",type:"CommerceMerchantSettings",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"ShopSettingsConfirmShopVisibility_settings",args:null}]};e.exports=a}),null);
__d("ShopSettingsTieredShippingOptionInput.react",["cx","fbt","AdsCurrencyInput.react","CommerceStringUtils","FlexLayout.react","React","SUIText.react","SUITextInput.react","XUICardSection.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=babelHelpers.inherits(j,b("React").PureComponent);i=a&&a.prototype;function j(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null},b}j.validate=function(a){__p&&__p();var c=a.additionalItemCost,d=a.arrivalMin,e=a.arrivalMax;a=a.baseCost;var f={additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null},g=Number(e||0),i=Number(d||0),j=h._("This field is required"),k=h._("Please input a number");c||(f.additionalItemCostError=j);a||(f.baseCostError=j);!d?f.arrivalMinError=j:b("CommerceStringUtils").isInteger(d)||(f.arrivalMinError=k);!e?f.arrivalMaxError=j:b("CommerceStringUtils").isInteger(e)||(f.arrivalMaxError=k);g<=0&&(f.arrivalMaxError=h._("The maximum estimated delivery time must be greater than zero"));i<0&&(f.arrivalMinError=h._("The minimum estimated delivery time must be greater than or equal to zero"));i>=g&&(f.arrivalMinError=h._("The minimum estimated delivery time must be less than the maximum"));g>7&&(f.arrivalMaxError=h._("Items must be delivered within seven days of dispatch"));return f};j.getDerivedStateFromProps=function(a,b){return a.showErrors?j.validate(a):{additionalItemCostError:null,arrivalMinError:null,arrivalMaxError:null,baseCostError:null}};j.prototype.render=function(){return b("React").createElement("div",{className:"_11gz"},b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Estimated days to delivery")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("You're responsible for dispatching items within three working days of when an order was placed."))),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMinError,name:"arrivalMin",placeholder:h._("Min."),style:{marginRight:"8px"},value:this.props.arrivalMin,width:60,onChange:function(a){return this.props.onChange("arrivalMin",a)}.bind(this)}),b("React").createElement(b("SUITextInput.react"),{display:"inline",errorMessage:this.state.arrivalMaxError,name:"arrivalMax",placeholder:h._("Max."),value:this.props.arrivalMax,width:60,onChange:function(a){return this.props.onChange("arrivalMax",a)}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Price")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("This is the base price of this delivery option."))),b("React").createElement(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.baseCostError,value:Number(this.props.baseCost),width:128,onDataUpdate:function(a){this.props.onChange("baseCost",String(a))}.bind(this)}))),b("React").createElement(b("XUICardSection.react"),{className:"_11g_"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{display:"block",weight:"bold"},h._("Price per additional item")),b("React").createElement(b("SUIText.react"),{color:"secondary",display:"block",style:{marginRight:"8px"}},h._("This is the amount added for every additional item in the order when this delivery option is selected."))),b("React").createElement(b("AdsCurrencyInput.react"),{currency:this.props.currency,errorMessage:this.state.additionalItemCostError,value:Number(this.props.additionalItemCost),width:128,onDataUpdate:function(a){this.props.onChange("additionalItemCost",String(a))}.bind(this)}))))};e.exports=j}),null);
__d("ShopsOnboardingLoadingOverlay",["cx","CenteredContainer.react","React","SUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return!this.props.isLoading?null:b("React").createElement(b("CenteredContainer.react"),{className:"_3hja",fullHeight:!0,horizontal:!0,vertical:!0},b("React").createElement(b("SUISpinner.react"),{background:"light",size:"large"}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ShopSettingsAddTieredShippingOption.react",["cx","fbt","AdsCurrencyFormatter","CurrencyConstants","FDSButton.react","FDSCancelButton.react","FDSModalFooter.react","FDSModalHeader.react","OnsiteCommerceMerchantFixedShippingOptionType","React","RelayFBEnvironment","RelayModern","ShopCreateTieredShippingOptionMutation","ShopSettingsConfirmShopVisibility.react","ShopSettingsTieredShippingOptionInput.react","ShopsOnboardingLoadingOverlay","SUIModal.react","SUINotice.react","nullthrows","suiMargin","ShopSettingsAddTieredShippingOption_settings.graphql","ShopSettingsAddTieredShippingOptionRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var j={additionalItemCost:"0",arrivalMax:"",arrivalMin:"",baseCost:"0"};d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,isEditMode:!1,isSaving:!1,shippingOption:babelHelpers["extends"]({},j),shippingTier:null,showErrors:!1,showShopVisibilityConfirmationModal:!1},this.onSave=function(){__p&&__p();var a;if(this.state.isSaving)return;if(!this.validate()){this.setState({errorMessage:h._("There are errors in this form. Please correct them."),showErrors:!0});return}var c=this.state.shippingOption.baseCost,d=Number(this.state.shippingOption.additionalItemCost),e=Number(this.state.shippingOption.arrivalMax),f=Number(this.state.shippingOption.arrivalMin),g=this.getCurrency();a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;var i=this.state.isEditMode?null:b("nullthrows")(this.state.shippingTier);this.setState({errorMessage:null});var j=this.props.onSave;if(j){j({cost:{amount:c,amountInHundredths:Number(c),formatted:b("AdsCurrencyFormatter").formatCurrency(g,Number(c))},costPerAdditionalItem:{amountInHundredths:d},estimatedDaysToArrival:{max:e,min:f},id:this.state.isEditMode?b("nullthrows")(a):i,shippingTier:i});this.refetchShopVisibility();return}j=this.props.shippingProfileID;c={cost:{amount_in_hundredths:Number(c),currency:g},cost_per_additional_item:{amount_in_hundredths:d,currency:g},estimated_days_until_arrival:{max_days_to_arrival:e,min_days_to_arrival:f},shipping_tier:i};this.setState({isSaving:!0});b("ShopCreateTieredShippingOptionMutation").commit(b("RelayFBEnvironment"),{onCompleted:function(){this.refetchShopVisibility()}.bind(this),onError:function(a){a=h._("An unexpected error occurred. Please try again later.");this.setState({errorMessage:a,isSaving:!1})}.bind(this),variables:{fixed_cost_shipping_option_id:a,fixed_cost_shipping_profile_id:j,shipping_option:c,page_id:this.props.pageID}})}.bind(this),this.onShopVisibilityConfirmationModalHide=function(){this.setState({showShopVisibilityConfirmationModal:!1})}.bind(this),c}a.getDerivedStateFromProps=function(a,b){__p&&__p();var c,d,e,f,g;if(!a.shippingOptionTier&&!a.option)return babelHelpers["extends"]({},b,{shippingTier:null});g=((g=a)!=null?(g=g.option)!=null?g.shippingTier:g:g)||a.shippingOptionTier;if(g===b.shippingTier)return b;f=(((f=a)!=null?(f=f.option)!=null?(f=f.costPerAdditionalItem)!=null?f.amountInHundredths:f:f:f)||j.additionalItemCost).toString();e=(((e=a)!=null?(e=e.option)!=null?(e=e.estimatedDaysToArrival)!=null?e.max:e:e:e)||j.arrivalMax).toString();d=(((d=a)!=null?(d=d.option)!=null?(d=d.estimatedDaysToArrival)!=null?d.min:d:d:d)||j.arrivalMin).toString();c=(((c=a)!=null?(c=c.option)!=null?(c=c.cost)!=null?c.amountInHundredths:c:c:c)||j.baseCost).toString();return babelHelpers["extends"]({},b,{errorMessage:null,isEditMode:a.shippingOptionTier===null,shippingOption:{additionalItemCost:f,arrivalMax:e,arrivalMin:d,baseCost:c},shippingTier:g,showErrors:!1})};a.prototype.getCurrency=function(){return this.props.currency||b("CurrencyConstants").ISO_CURRENCY_UNITED_STATES_DOLLAR};a.prototype.getShippingTier=function(){};a.prototype.getTitle=function(){return this.state.isEditMode?this.getEditTitle():this.getAddTitle()};a.prototype.getAddTitle=function(){switch(this.state.shippingTier){case b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD:return h._("Add standard delivery");case b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED:return h._("Add expedited delivery");case b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH:return h._("Add express delivery");default:return h._("Add delivery option")}};a.prototype.getEditTitle=function(){switch(this.state.shippingTier){case b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD:return h._("Edit standard delivery");case b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED:return h._("Edit expedited delivery");case b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH:return h._("Edit express delivery");default:return h._("Edit delivery option")}};a.prototype.refetchShopVisibility=function(){this.props.shippingProfileID==null?this.props.relay.refetch({pageID:this.props.pageID},null,function(){this.setState({isSaving:!1,showShopVisibilityConfirmationModal:!0}),this.props.onHide()}.bind(this)):(this.setState({isSaving:!1}),this.props.onHide())};a.prototype.validate=function(){var a=b("ShopSettingsTieredShippingOptionInput.react").validate(this.state.shippingOption);return!Object.values(a).some(Boolean)};a.prototype.renderInputFields=function(){return b("React").createElement("div",{className:"_1hes"},this.state.errorMessage?b("React").createElement(b("SUINotice.react"),{margin:"_3-96",type:"error"},this.state.errorMessage):null,b("React").createElement(b("ShopSettingsTieredShippingOptionInput.react"),babelHelpers["extends"]({},this.state.shippingOption,{currency:this.getCurrency(),showErrors:this.state.showErrors,onChange:function(a,b){this.setState(function(c){c=babelHelpers["extends"]({},c.shippingOption);c[a]=b;return{shippingOption:c}})}.bind(this)})))};a.prototype.render=function(){var a=this.getTitle();return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("SUIModal.react"),{footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:this.state.isSaving,label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),{onClick:this.props.onHide})}),header:b("React").createElement(b("FDSModalHeader.react"),{title:a}),isShown:this.state.shippingTier!==null,label:a,width:600,onHide:this.props.onHide},this.renderInputFields(),b("React").createElement(b("ShopsOnboardingLoadingOverlay"),{isLoading:this.state.isSaving})),b("React").createElement(b("ShopSettingsConfirmShopVisibility.react"),{isShown:this.state.showShopVisibilityConfirmationModal,pageID:this.props.pageID,settings:(a=this.props)!=null?a.settings:a,onHide:this.onShopVisibilityConfirmationModalHide}))};e.exports=c(a,{settings:function(){return b("ShopSettingsAddTieredShippingOption_settings.graphql")}},function(){return b("ShopSettingsAddTieredShippingOptionRefetchQuery.graphql")})}),null);
__d("ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FixedCostShippingOptionDeleteData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"FixedCostShippingOptionDeleteData!"}],c=[{kind:"LinkedField",alias:null,name:"account_user",storageKey:null,args:null,concreteType:"User",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}];return{kind:"Request",operationKind:"mutation",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",id:"1668759909905096",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_delete",storageKey:null,args:b,concreteType:"FixedCostShippingOptionDeleteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:c}]}]},operation:{kind:"Operation",name:"ShopDeleteTieredShippingOptionMutationDeleteMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"fixed_cost_shipping_option_delete",storageKey:null,args:b,concreteType:"FixedCostShippingOptionDeleteResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:c},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null}]}]}}}();e.exports=a}),null);
__d("ShopDeleteTieredShippingOptionMutation",["RelayModern","ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("ShopDeleteTieredShippingOptionMutationDeleteMutation.graphql")};function a(a,b){var c=b.shippingOptionID;b=babelHelpers.objectWithoutPropertiesLoose(b,["shippingOptionID"]);return g(a,babelHelpers["extends"]({mutation:h},b,{variables:{input:{fixed_cost_shipping_option_id:c}}}))}e.exports={commit:a}}),null);
__d("ShopSettingsDeleteTieredShippingOption.react",["cx","fbt","FDSButton.react","FDSCancelButton.react","FDSModalFooter.react","FDSText.react","React","RelayFBEnvironment","ShopDeleteTieredShippingOptionMutation","ShopsOnboardingLoadingOverlay","SUIModal.react","SUINotice.react","nullthrows","suiMargin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,isSaving:!1},this.onConfirm=function(){__p&&__p();this.setState({errorMessage:null});var a=this.props.onDelete;if(a){a(b("nullthrows")(this.props.shippingOptionID));this.props.onHide();return}this.setState({isSaving:!0});b("ShopDeleteTieredShippingOptionMutation").commit(b("RelayFBEnvironment"),{onCompleted:function(){this.setState({isSaving:!1}),this.props.onHide()}.bind(this),onError:function(a){a=h._("An unexpected error occurred. Please try again later.");this.setState({errorMessage:a,isSaving:!1})}.bind(this),shippingOptionID:b("nullthrows")((a=this.props)!=null?a.shippingOptionID:a)})}.bind(this),this.onHide=function(){this.setState({errorMessage:null}),this.props.onHide()}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerHideOnBlur:null},footer:b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{isDisabled:this.state.isSaving,label:h._("Yes"),use:"primary",onClick:this.onConfirm}),secondaryButton:b("React").createElement(b("FDSCancelButton.react"),{onClick:this.onHide})}),isShown:this.props.shippingOptionID!==null,label:h._("Are you sure that you want to delete this delivery option?"),onHide:this.props.onHide},b("React").createElement("div",{className:"_1hes"},this.state.errorMessage&&b("React").createElement(b("SUINotice.react"),{margin:"_3-96",type:"error"},this.state.errorMessage),b("React").createElement(b("FDSText.react"),{display:"block",weight:"bold"},h._("Are you sure that you want to delete this delivery option?"))),b("React").createElement(b("ShopsOnboardingLoadingOverlay"),{isLoading:this.state.isSaving}))};e.exports=a}),null);
__d("CommerceSelfServeReturnPolicyOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({RETURN_7_DAYS:7,RETURN_14_DAYS:14,RETURN_21_DAYS:21,RETURN_30_DAYS:30,RETURN_45_DAYS_DEPRECATED:45,RETURN_60_DAYS:60})}),null);
__d("ShopSettingsReturnPolicyModal.react",["cx","fbt","AlignmentEnum","CommerceSelfServeReturnPolicyOptions","CommerceStringUtils","FDSButton.react","FDSModal.react","FDSModalFooter.react","FDSModalHeader.react","FDSSection.react","LayerHideSources","Link.react","React","SellerExperienceConfig","SUIBusinessThemeContainer.react","SUIText.react","SUITextInput.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("CommerceSelfServeReturnPolicyOptions").RETURN_30_DAYS,k=10;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={errorMessage:null,value:this.getDefaultValue(this.props.defaultValue)},this.onHide=function(){this.props.onHide(b("LayerHideSources").LAYER_CANCEL_BUTTON)}.bind(this),this.onChange=function(a){this.setState({errorMessage:null,value:a})}.bind(this),this.onSave=function(){if(!this.validateInput())return;this.props.onSave(Number.parseInt(this.state.value,k))}.bind(this),this.onBlur=function(a){this.validateInput()}.bind(this),this.onFocus=function(a){this.setState({errorMessage:null})}.bind(this),c}a.prototype.getDefaultValue=function(a){return""+((a=a)!=null?a:j)};a.prototype.validateInput=function(){var a=this.state.value,c=null;if(!b("CommerceStringUtils").isInteger(a))c=h._("Please input a number");else{a=Number.parseInt(a,k);var d=b("SellerExperienceConfig").returnPolicyMin;a<d&&(c=h._("Return policy must be longer than {minimal days} days",[h._param("minimal days",d)]))}this.setState({errorMessage:c});return c==null};a.prototype.renderHeader=function(){return b("React").createElement(b("FDSModalHeader.react"),{title:h._("Returns policy")})};a.prototype.renderFooter=function(){return b("React").createElement(b("FDSModalFooter.react"),{primaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Save"),use:"primary",onClick:this.onSave}),secondaryButton:b("React").createElement(b("FDSButton.react"),{label:h._("Cancel"),onClick:this.onHide})})};a.prototype.render=function(){return b("React").createElement(b("FDSModal.react"),{footer:this.renderFooter(),header:this.renderHeader(),isShown:this.props.isShown,onHide:this.props.onHide},b("React").createElement(b("FDSSection.react"),null,b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_31_h"},b("React").createElement("div",{className:"_31_i"},b("React").createElement(b("SUIText.react"),{display:"block",size:"body1",weight:"bold"},h._("Number of days")),b("React").createElement(b("SUIText.react"),{color:"secondary",size:"meta1"},h._("Items must be returned to you within the time period you enter, calculated from the day on which your item is delivered to the customer. {Learn More link}.",[h._param("Learn More link",b("React").createElement(b("Link.react"),{href:"/business/help/211403042968780#returns",target:"_blank"},h._("Learn more")))]))),b("React").createElement(b("SUITextInput.react"),{errorMessage:this.state.errorMessage,textAlign:b("AlignmentEnum").right,value:this.state.value,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus})))))};e.exports=a}),null);
__d("ShopSettingsTieredShippingOptionRow.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","React","ShopSettingsAddButton.react","SUILink.react","XUICardSection.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.onEditClick=function(){var a;a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===void 0)return;this.props.onEditClick(a)}.bind(this),this.onDeleteClick=function(){var a;a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===void 0)return;this.props.onDeleteClick(a)}.bind(this),b}a.prototype.render=function(){var a;a=(a=this.props)!=null?a.option:a;var c=a?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("503832")}),isDisabled:this.props.isLastOption,label:i._("Remove"),labelIsHidden:!0,size:"small",tooltip:this.props.isLastOption?i._("You need to offer at least one delivery option"):null,onClick:this.onDeleteClick}),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("490346")}),label:i._("Edit"),labelIsHidden:!0,margin:"_3-9a",size:"small",onClick:this.onEditClick})):b("React").createElement(b("SUILink.react"),{display:"block",showUnderline:"never",onClick:this.props.onAddClick},b("React").createElement(b("FDSText.react"),{color:"highlight",size:"body3",weight:"bold"},b("React").createElement(b("ShopSettingsAddButton.react"),{label:i._("Add")})));return b("React").createElement(b("XUICardSection.react"),{className:"_1dmy"},b("React").createElement("div",{className:"_1dmz"},this.props.title),k(a),c)};function k(a){var c,d;if(!a)return null;d=Number(((d=a)!=null?(d=d.cost)!=null?d.amount:d:d)||0);c=(c=a)!=null?(c=c.cost)!=null?c.formatted:c:c;d=d===0?i._("FREE"):c;a=(c=a)!=null?c.estimatedDaysToArrival:c;c=a?i._("{min days}-{max days} days",[i._param("min days",a.min),i._param("max days",a.max)]):null;return b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_1dm-"},d),b("React").createElement("div",{className:"_1dm-"},c))}e.exports=a}),null);
__d("PageProductComposerTieredShippingOptionRow.react",["ix","cx","fbt","FDSButton.react","FDSText.react","FlexLayout.react","Image.react","React","SUICard.react","asset","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.onEditClick=function(){var a;a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===void 0)return;this.props.onEditClick(a)}.bind(this),this.onDeleteClick=function(){var a;a=(a=this.props)!=null?(a=a.option)!=null?a.id:a:a;if(a===null||a===void 0)return;this.props.onDeleteClick(a)}.bind(this),b}a.prototype.render=function(){var a;a=(a=this.props)!=null?a.option:a;var c=a?b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("503832")}),isDisabled:this.props.isLastOption,label:i._("Remove"),labelIsHidden:!0,onClick:this.onDeleteClick,size:"small",tooltip:this.props.isLastOption?i._("You need to offer at least one delivery option"):null}),b("React").createElement(b("FDSButton.react"),{icon:b("React").createElement(b("Image.react"),{src:g("490346")}),label:i._("Edit"),labelIsHidden:!0,margin:"_3-9a",onClick:this.onEditClick,size:"small"})):b("React").createElement(b("FDSButton.react"),{label:i._("Add"),onClick:this.props.onAddClick,size:"small"});return b("React").createElement(b("SUICard.react"),{margin:"_3-8n"},b("React").createElement(b("FlexLayout.react"),{align:"center",className:"_2ph_",justify:"all"},b("React").createElement(b("FlexLayout.react"),{direction:"vertical"},b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",size:"body3"},this.props.title),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},k(a))),b("React").createElement(b("FlexLayout.react"),null,c)))};function k(a){var c,d;if(!a)return null;d=Number(((d=a)!=null?(d=d.cost)!=null?d.amount:d:d)||0);c=(c=a)!=null?(c=c.cost)!=null?c.formatted:c:c;d=d===0?i._("FREE"):c;a=(c=a)!=null?c.estimatedDaysToArrival:c;c=a?i._("{min days}-{max days} days",[i._param("min days",a.min),i._param("max days",a.max)]):null;return b("React").createElement(b("React").Fragment,null,d,b("React").createElement("span",{"aria-hidden":"true",className:"_3-8r"},"\xb7"),c)}e.exports=a}),null);
__d("ShopSettingsTieredShippingOptionsRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"ShopSettingsTieredShippingOptionsRefetchQuery",id:"1877864822268145",text:null,metadata:{},fragment:{kind:"Fragment",name:"ShopSettingsTieredShippingOptionsRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"ShopSettingsTieredShippingOptions_page",args:null}]}]},operation:{kind:"Operation",name:"ShopSettingsTieredShippingOptionsRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[c,{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"amount",name:"amount_with_offset",args:null,storageKey:null},d,{kind:"ScalarField",alias:"formatted",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[d]},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]}]}]}}}();e.exports=a}),null);
__d("ShopSettingsTieredShippingOptions_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null};return{kind:"Fragment",name:"ShopSettingsTieredShippingOptions_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[a,{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"amount",name:"amount_with_offset",args:null,storageKey:null},b,{kind:"ScalarField",alias:"formatted",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[b]},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},a,{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null}]}]}]},{kind:"FragmentSpread",name:"ShopSettingsAddTieredShippingOption_settings",args:null}]}]}}();e.exports=a}),null);
__d("ShopSettingsTieredShippingOptions.react",["fbt","OnsiteCommerceMerchantFixedShippingOptionType","PageProductComposerTieredShippingOptionRow.react","React","RelayModern","ShopSettingsAddTieredShippingOption.react","ShopSettingsDeleteTieredShippingOption.react","ShopSettingsTieredShippingOptionRow.react","keyMirror","nullthrows","ShopSettingsTieredShippingOptions_page.graphql","ShopSettingsTieredShippingOptionsRefetchQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var i=b("keyMirror")({COMPOSER:null,SETTINGS:null});d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={editOptionID:null,modalShippingTier:null,optionsCount:0,shippingOptionID:null},this.onEditClick=function(a){this.setState({editOptionID:a})}.bind(this),this.onHideAddShippingOptionModal=function(){this.refetchOptions(),this.setState({editOptionID:null,modalShippingTier:null})}.bind(this),this.onHideDeleteShippingOptionModal=function(){this.refetchOptions(),this.setState({shippingOptionID:null})}.bind(this),this.onShowDeleteShippingOptionModal=function(a){this.setState(function(b){return{optionsCount:b.optionsCount-1,shippingOptionID:a}})}.bind(this),this.renderTierRow=function(a){var c;c=this.props.options||((c=this.props)!=null?(c=c.page)!=null?(c=c.settings)!=null?(c=c.shippingProfile)!=null?(c=c.options)!=null?c.nodes:c:c:c:c:c)||[];c=this.convertToTieredShippingOption(c.find(function(b){return b.shippingTier===a}));var d=this.props.placement===i.SETTINGS;d=d?b("ShopSettingsTieredShippingOptionRow.react"):b("PageProductComposerTieredShippingOptionRow.react");return b("React").createElement(d,{isLastOption:this.state.optionsCount<=1,key:a,option:c,title:this.getText(a),onAddClick:function(){this.onShowAddShippingOptionModal(a)}.bind(this),onDeleteClick:this.onShowDeleteShippingOptionModal,onEditClick:this.onEditClick})}.bind(this),c}a.getDerivedStateFromProps=function(a,b){a=(a.options||((a=a)!=null?(a=a.page)!=null?(a=a.settings)!=null?(a=a.shippingProfile)!=null?(a=a.options)!=null?a.nodes:a:a:a:a:a)||[]).length;return babelHelpers["extends"]({},b,{optionsCount:a})};a.prototype.convertToTieredShippingOption=function(a){var b;return!a?null:{cost:{amount:(b=a)!=null?(b=b.cost)!=null?b.amount:b:b,amountInHundredths:(b=a)!=null?(b=b.cost)!=null?b.amountInHundredths:b:b,formatted:(b=a)!=null?(b=b.cost)!=null?b.formatted:b:b},costPerAdditionalItem:{amountInHundredths:(b=a)!=null?(b=b.costPerAdditionalItem)!=null?b.amountInHundredths:b:b},estimatedDaysToArrival:{max:(b=a)!=null?(b=b.estimatedDaysToArrival)!=null?b.max:b:b,min:(b=a)!=null?(b=b.estimatedDaysToArrival)!=null?b.min:b:b},id:a.id,shippingTier:a.shippingTier}};a.prototype.getText=function(a){switch(a){case b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD:return g._("Standard delivery");case b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED:return g._("Expedited delivery");case b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH:return g._("Express delivery")}return null};a.prototype.onShowAddShippingOptionModal=function(a){this.setState({modalShippingTier:a})};a.prototype.refetchOptions=function(){var a;this.props.relay.refetch({pageID:b("nullthrows")((a=this.props)!=null?(a=a.page)!=null?a.id:a:a)},null,function(){this.updateOptionsCount()}.bind(this))};a.prototype.updateOptionsCount=function(){var a;a=(this.props.options||((a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?(a=a.shippingProfile)!=null?(a=a.options)!=null?a.nodes:a:a:a:a:a)||[]).length;this.setState({optionsCount:a})};a.prototype.render=function(){var a,c,d;d=(d=this.props)!=null?(d=d.page)!=null?d.id:d:d;if(!d)return null;c=this.props.options||((c=this.props)!=null?(c=c.page)!=null?(c=c.settings)!=null?(c=c.shippingProfile)!=null?(c=c.options)!=null?c.nodes:c:c:c:c:c)||[];c=this.convertToTieredShippingOption(c.find(function(a){return a.id===this.state.editOptionID}.bind(this)));return b("React").createElement(b("React").Fragment,null,this.props.shippingTiers.map(this.renderTierRow),b("React").createElement(b("ShopSettingsAddTieredShippingOption.react"),{currency:(a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?a.currency:a:a:a,option:c,pageID:d,settings:(a=this.props)!=null?(a=a.page)!=null?a.settings:a:a,shippingOptionTier:this.state.modalShippingTier,shippingProfileID:(c=this.props)!=null?(c=c.page)!=null?(c=c.settings)!=null?(c=c.shippingProfile)!=null?c.id:c:c:c:c,onHide:this.onHideAddShippingOptionModal,onSave:this.props.onSave}),b("React").createElement(b("ShopSettingsDeleteTieredShippingOption.react"),{shippingOptionID:this.state.shippingOptionID,onDelete:this.props.onDelete,onHide:this.onHideDeleteShippingOptionModal}))};a.defaultProps={placement:i.COMPOSER};e.exports=c(a,{page:function(){return b("ShopSettingsTieredShippingOptions_page.graphql")}},function(){return b("ShopSettingsTieredShippingOptionsRefetchQuery.graphql")})}),null);
__d("BUIFormSelector.react",["BUIForm.react","React","XUISelector.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("XUISelector.react").Option;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.density;a=babelHelpers.objectWithoutPropertiesLoose(a,["density"]);var d;switch(c){case"breathy":case"svelt":d="xlarge";break;case"snug":d="large";break;case"taut":d="medium";break}return b("React").createElement(b("XUISelector.react"),babelHelpers["extends"]({},a,{size:d}))};function a(){g.apply(this,arguments)}a.Option=c;e.exports=a}),null);
__d("PageProductComposerDialogLoaderQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:"amountInHundredths",name:"amount_in_hundredths",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"PageProductComposerDialogLoaderQuery",id:"1629372170504484",text:null,metadata:{},fragment:{kind:"Fragment",name:"PageProductComposerDialogLoaderQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"PageProductComposerDialog_page",args:null}]}]},operation:{kind:"Operation",name:"PageProductComposerDialogLoaderQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"isTieredShippingEnabled",name:"is_tiered_shipping_enabled",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[c,{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FixedCostShippingProfileToShippingOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"formattedAmount",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"estimatedDaysUntilArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"maxDaysToArrival",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"minDaysToArrival",name:"min_days_to_arrival",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"amount",name:"amount_with_offset",args:null,storageKey:null},d,{kind:"ScalarField",alias:"formatted",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"costPerAdditionalItem",name:"cost_per_additional_item",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[d]},{kind:"LinkedField",alias:"estimatedDaysToArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"max",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"min",name:"min_days_to_arrival",args:null,storageKey:null}]},c,{kind:"ScalarField",alias:"shippingTier",name:"shipping_service_tier",args:null,storageKey:null}]}]}]},{kind:"ScalarField",alias:"supportContactsConfirmed",name:"support_contacts_confirmed",args:null,storageKey:null},c,{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null}]},c]}]}}}();e.exports=a}),null);
__d("PageProductComposerDialog_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"PageProductComposerDialog_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"ScalarField",alias:"isTieredShippingEnabled",name:"is_tiered_shipping_enabled",args:null,storageKey:null},{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]},{kind:"ScalarField",alias:"supportContactsConfirmed",name:"support_contacts_confirmed",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"PageProductComposerShopLevelShippingOptions_page",args:null},{kind:"FragmentSpread",name:"PageProductComposerTieredShippingOptions_page",args:null}]};e.exports=a}),null);
__d("PageProductComposerShippingOptionRow_shippingOption.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"PageProductComposerShippingOptionRow_shippingOption",type:"FixedCostShippingOption",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"formattedAmount",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"estimatedDaysUntilArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"maxDaysToArrival",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"minDaysToArrival",name:"min_days_to_arrival",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("PageProductComposerShopLevelShippingOptionsRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"pageID",type:"ID!",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"pageID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"PageProductComposerShopLevelShippingOptionsRefetchQuery",id:"1796740013695113",text:null,metadata:{},fragment:{kind:"Fragment",name:"PageProductComposerShopLevelShippingOptionsRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[{kind:"FragmentSpread",name:"PageProductComposerShopLevelShippingOptions_page",args:null}]}]},operation:{kind:"Operation",name:"PageProductComposerShopLevelShippingOptionsRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"page",storageKey:null,args:b,concreteType:"Page",plural:!1,selections:[c,{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FixedCostShippingProfileToShippingOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"cost",storageKey:null,args:null,concreteType:"CurrencyAmount",plural:!1,selections:[{kind:"ScalarField",alias:"formattedAmount",name:"formatted_amount",args:null,storageKey:null}]},{kind:"LinkedField",alias:"estimatedDaysUntilArrival",name:"estimated_days_until_arrival",storageKey:null,args:null,concreteType:"EstimatedDaysUntilArrival",plural:!1,selections:[{kind:"ScalarField",alias:"maxDaysToArrival",name:"max_days_to_arrival",args:null,storageKey:null},{kind:"ScalarField",alias:"minDaysToArrival",name:"min_days_to_arrival",args:null,storageKey:null}]}]}]}]},c]},{kind:"ScalarField",alias:"currency",name:"default_currency",args:null,storageKey:null},{kind:"ScalarField",alias:"canVisitorSeeShopTab",name:"can_visitor_see_shop_tab",args:null,storageKey:null},c]}]}]}}}();e.exports=a}),null);
__d("PageProductComposerShopLevelShippingOptions_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"PageProductComposerShopLevelShippingOptions_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:"settings",name:"preferred_merchant_settings",storageKey:null,args:null,concreteType:"CommerceMerchantSettings",plural:!1,selections:[{kind:"LinkedField",alias:"shippingProfile",name:"universal_shipping_profile",storageKey:null,args:null,concreteType:"FixedCostShippingProfile",plural:!1,selections:[{kind:"LinkedField",alias:"options",name:"fixed_cost_shipping_options",storageKey:"fixed_cost_shipping_options(first:1000)",args:[{kind:"Literal",name:"first",value:1e3,type:"Int"}],concreteType:"FixedCostShippingProfileToShippingOptionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"FixedCostShippingProfileToShippingOptionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FixedCostShippingOption",plural:!1,selections:[a,{kind:"FragmentSpread",name:"PageProductComposerShippingOptionRow_shippingOption",args:null}]}]}]}]},{kind:"FragmentSpread",name:"ShopSettingsAddShippingProfile_settings",args:null}]}]}}();e.exports=a}),null);
__d("PageProductComposerTieredShippingOptions_page.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"PageProductComposerTieredShippingOptions_page",type:"Page",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"ShopSettingsTieredShippingOptions_page",args:null}]};e.exports=a}),null);
__d("CurrencyInput.atlas",["cx","Currency","NumberInput.atlas","React","Text.atlas","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i;b("React").Element;c=b("React").PureComponent;d={isZeroValidValue:!1};f=babelHelpers["extends"]({},d,{isZeroValidValue:!1});g=babelHelpers.inherits(a,c);h=g&&g.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.binding.update(a)}.bind(this),b}a.prototype.render=function(){return b("React").createElement(j,{className:this.props.className,currency:this.props.currency,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onChange:this.$1,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,value:this.props.binding.value})};a.defaultProps=f;g=babelHelpers.inherits(j,c);i=g&&g.prototype;function j(a,b){i.constructor.call(this,a,b),this.$1=function(a){this.props.onChange&&this.props.onChange(a||0)}.bind(this),this.$1=this.$1.bind(this)}j.prototype.render=function(){var a=this.props.value;a||(a=this.props.isZeroValidValue?0:null);var c=null,d=null;if(this.props.currency){var e=b("Currency").getSymbol(this.props.currency),f=e.length>1;c=b("React").createElement(b("Text.atlas"),{className:"_3mef"+(a===null?" _35ka":"")},e);d="_35kc"+(f?"":" _4l4k")+(f?" _4l4l":"")}return b("React").createElement("div",{className:b("joinClasses")(this.props.className,d)},b("React").createElement(b("NumberInput.atlas"),{className:"_ty0",disabled:this.props.disabled,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,onValueUpdated:this.$1,value:a}),c)};j.defaultProps=d;j.FormWrapper=a;e.exports=j}),null);
__d("CommerceInventoryToggle.react",["cx","fbt","FBToggleSwitch.react","React","SUIBusinessTheme","SUISimplePopover.react"],(function(a,b,c,d,e,f,g,h){"use strict";a=b("React").PropTypes;c=b("React").createClass({displayName:"CommerceInventoryToggle",propTypes:{disabled:a.bool.isRequired,inventory:a.number.isRequired,setInventoryInfo:a.func},render:function(){var a=this.props.inventory>0?h._("In stock"):h._("Out of stock");return b("React").createElement("div",{className:"_3-95"},b("React").createElement("div",{className:"_2pim"},b("React").createElement(b("FBToggleSwitch.react"),{disabled:this.props.disabled,animate:!0,checked:this.props.inventory>0,onToggle:this.props.setInventoryInfo}),b("React").createElement("span",{className:"_3jn"},a,b("React").createElement(b("SUISimplePopover.react"),{content:h._("Mark this product as in stock or out of stock"),contentWidthUseSparingly:318,position:"above",theme:b("SUIBusinessTheme")}))))}});e.exports=c}),null);
__d("CommerceInventoryAvailabilityOptions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INVENTORY_IN_STOCK:100,INVENTORY_OUT_OF_STOCK:0})}),null);
__d("CommerceProductVariantType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COLOR:"Color",CUSTOM:"Custom",EDITION:"Edition",FIT:"Fit",FLAVOR:"Flavor",FORMAT:"Format",LENGTH:"Length",MATERIAL:"Material",MODEL:"Model",PLATFORM:"Platform",SCENT:"Scent",SIZE:"Size",WIDTH:"Width"})}),null);
__d("CommerceSelfServeSection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CHECKOUT_URL:"checkout_url",COMMERCE_INSIGHTS:"commerce_insights",FEATURED_PRODUCT_TOGGLE:"featured_product_toggle",INVENTORY:"inventory",IN_STOCK_TOGGLE:"in_stock_toggle",PRODUCT_VISIBILITY:"product_visibility",RETURN_POLICY:"return_policy",SHIPPING_OPTIONS:"shipping_options",TAX_CATEGORY:"tax_category",TAX_TABLE:"tax_table",VARIANTS:"variants",MINIMUM_PRICE_ERROR:"minimum_price_error",SALE_PRICE:"sale_price",CATEGORY:"category"})}),null);
__d("PageCommerceProductVariantPage.react",["ix","cx","fbt","glyph","invariant","AccessibleTableParts.react","AdsCurrencyInput_DEPRECATED.react","CommerceCurrencyInputUtils","CommerceInventoryAvailabilityOptions","CommerceInventoryToggle.react","CommerceProductVariantType","CommerceSelfServeSection","CommerceUI","DummySearchSource","FreeformSearchSource","Image.react","Layout.react","Link.react","NumberInput.atlas","React","SearchableEntry","SUIBusinessTheme","SUISimplePopover.react","XUISingleSelector.react","XUITable.react","XUITokenizer.react","isEmpty"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();a=b("React").PropTypes;var l=b("AccessibleTableParts.react").BodyRow,m=b("AccessibleTableParts.react").HeadRow,n=b("Layout.react").Column,o=b("Layout.react").FillColumn,p=b("XUISingleSelector.react").Option;c=b("React").createClass({displayName:"PageCommerceProductVariantPage",propTypes:{currencyCode:a.string.isRequired,defaultVariantPrice:a.number,getPriceError:a.func.isRequired,isOnSale:a.bool.isRequired,inventoryType:a.string.isRequired,setVariantInfo:a.func.isRequired,variants:a.arrayOf(a.shape({label:a.string,options:a.arrayOf(a.string)})).isRequired,variantItems:a.objectOf(a.shape({properties:a.object,price:a.number.isRequired,salePrice:a.number.isRequired,inventory:a.number,productID:a.number})).isRequired},_cachedItems:{},_deepClone:function(a){return JSON.parse(JSON.stringify(a))},getInitialState:function(){this._cachedItems=this._deepClone(this.props.variantItems);return{searchSource:new(b("FreeformSearchSource"))(new(b("DummySearchSource"))(),function(a){return a},0)}},render:function(){var a=null;this.props.variants.length<b("CommerceUI").MAX_VARIANTS&&(a=b("React").createElement(b("Link.react"),{onClick:this._addNewVariantInput},i._("Add option")));return b("React").createElement("div",{className:"_3-8j"},b("React").createElement("div",{ref:"variant_input_list"},this.props.variants.map(function(a,b){return this._getVariantInput(a,b,this._getVariantLabels())}.bind(this))),a,this._getVariantsTable())},_getVariantInput:function(a,c,d){return b("React").createElement("div",{key:"variant"+c,className:"_3-95"},b("React").createElement(b("Layout.react"),null,b("React").createElement(n,null,this._getVariantOptions(a,c,d)),b("React").createElement(o,{className:"_2pis"},b("React").createElement(b("XUITokenizer.react"),{entries:this._getTokenizerEntries(a),searchSource:this.state.searchSource,onRemoveEntryAttempt:this._onRemoveVariantOptionAttempt.bind(this,a,c),onAddEntryAttempt:this._onAddVariantOptionAttempt.bind(this,a,c),tokenizeQueryString:this._tokenizeQueryString.bind(this,a,c),selectOnBlur:!0})),b("React").createElement(n,null,b("React").createElement(b("Image.react"),{className:"_11dw",onClick:this._removeVariant.bind(this,a,c),src:g("101449")}))))},_getVariantsTable:function(){__p&&__p();if(b("isEmpty")(this.props.variants))return null;var a=[];for(var c in this.props.variantItems){var d=this.props.variantItems[c],e=d.properties,f=[];this.props.variants.forEach(function(a,c){a=e&&e[a.label]?e[a.label]:"";f.push(b("React").createElement("td",{className:"_2ncv",key:c},a))});f.push(b("React").createElement("td",{width:"50",key:c+"inventory"},this._getInventoryInput(c,d.inventory)));var g=b("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(d.price,this.props.currencyCode),h=b("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(d.salePrice,this.props.currencyCode);f.push(b("React").createElement("td",{width:"50",key:c+"price"},b("React").createElement(b("AdsCurrencyInput_DEPRECATED.react"),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantPrice.bind(this,c),value:g!==null?g:0,xuiError:this.props.getPriceError(d.price)})));this.props.isOnSale&&f.push(b("React").createElement("td",{width:"50",key:c+"salePrice"},b("React").createElement(b("AdsCurrencyInput_DEPRECATED.react"),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantSalePrice.bind(this,c),value:h!==null?h:0,xuiError:this.props.getPriceError(d.salePrice)})));a.push(b("React").createElement(l,{key:c},f))}var j=[];this.props.variants.forEach(function(a,c){j.push(b("React").createElement("th",{key:a.label+c},this._getVariantLabelDescription(String(a.label))))}.bind(this));j.push(b("React").createElement("th",{key:"inventory"},i._("Inventory")));j.push(b("React").createElement("th",{key:"price"},i._("Price")));this.props.isOnSale&&j.push(b("React").createElement("th",{key:"salePrice"},i._("Sale price"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("You can disable individual \"sale prices\" by setting them as equal to regular \"prices\"."),contentWidthUseSparingly:318,position:"below",theme:b("SUIBusinessTheme")})));return b("React").createElement(b("XUITable.react"),{outerBorder:!0,className:"_2ncw"},b("React").createElement("thead",null,b("React").createElement(m,null,j)),b("React").createElement("tbody",null,a))},_updateVariantPrice:function(a,c){c=b("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(c,this.props.currencyCode);this._updateVariantItem(a,"price",c)},_getInventoryInput:function(a,c){return this.props.inventoryType===b("CommerceSelfServeSection").IN_STOCK_TOGGLE?b("React").createElement(b("CommerceInventoryToggle.react"),{disabled:!1,inventory:c!==null?c:0,setInventoryInfo:function(c){c=c?b("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK:b("CommerceInventoryAvailabilityOptions").INVENTORY_OUT_OF_STOCK;this._updateVariantItem(a,"inventory",c)}.bind(this)}):b("React").createElement(b("NumberInput.atlas"),{isZeroValidValue:!0,name:"inventory",nonnegative:!0,value:c,formatNumber:!1,onValueUpdated:this._updateVariantItem.bind(this,a,"inventory")})},_updateVariantSalePrice:function(a,c){c=b("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(c,this.props.currencyCode);this._updateVariantItem(a,"salePrice",c)},_updateVariantItem:function(a,b,c){var d=this.props.variantItems;d[a][b]=c;this._cachedItems[a][b]=c;this.props.setVariantInfo({variantItems:d})},_getVariantItems:function(a){__p&&__p();var b={};if(a.length===0)return b;this._getVariantCombos(a.slice(0)).forEach(function(a){var c=[];for(var d in a)c.push(d+a[d]);c.sort();c=JSON.stringify(c);c in this._cachedItems?b[c]=this._deepClone(this._cachedItems[c]):(b[c]={properties:a,price:this.props.defaultVariantPrice,salePrice:this.props.defaultVariantPrice,inventory:0},this._cachedItems[c]=this._deepClone(b[c]))}.bind(this));return b},_getVariantCombos:function(a){__p&&__p();if(a.length===0)return[{}];var b=[],c=a.shift(),d=this._getVariantCombos(a.slice(0));if(c.options.length==0)return d;c.options.forEach(function(a){d.forEach(function(d){d=Object.assign({},d);d[c.label]=a;b.push(d)})});return b},_getTokenizerEntries:function(a){return a.options.map(function(a){return new(b("SearchableEntry"))({uniqueID:a,title:a})})},_onRemoveVariantOptionAttempt:function(a,b,c){c=c.getTitle().trim();c=a.options.indexOf(c);c>=0&&a.options.splice(c,1);this._updateVariant(a,b)},_onAddVariantOptionAttempt:function(a,b,c){c=c.getTitle().trim();if(a.options.indexOf(c)>=0||c.length===0)return;a.options.push(c);this._updateVariant(a,b)},_updateVariant:function(a,b){var c=this.props.variants;c[b]=a;b=this._getVariantItems(c);this.props.setVariantInfo({variants:c,variantItems:b})},_tokenizeQueryString:function(a,c,d){if(!d||!d.includes(","))return null;d=d.split(",").filter(function(a){return a!==""});var e=d.pop();d.map(function(d){this._onAddVariantOptionAttempt(a,c,new(b("SearchableEntry"))({uniqueID:d,title:d}))}.bind(this));return new(b("SearchableEntry"))({uniqueID:e,title:e})},_addNewVariantInput:function(){var a=this.props.variants;a.push(this._getDefaultVariant());this.props.setVariantInfo({variants:a,variantItems:this._getVariantItems(a)})},_removeVariant:function(a,b){a=this.props.variants;a.splice(b,1);this.props.setVariantInfo({variants:a,variantItems:this._getVariantItems(a)})},_getVariantLabels:function(){return this.props.variants.map(function(a){return String(a.label)})},_getDefaultVariant:function(){var a=this._getVariantLabels(),c;for(var d in b("CommerceProductVariantType")){var e=b("CommerceProductVariantType")[d];if(a.indexOf(e)===-1){c=e;break}}return{label:c,options:[]}},_getVariantOptions:function(a,c,d){var e=[];for(var f in b("CommerceProductVariantType")){var g=b("CommerceProductVariantType")[f];if(a.label!==g&&d.indexOf(g)!==-1)continue;e.push(b("React").createElement(p,{key:f+c,value:g},this._getVariantLabelDescription(g)))}return b("React").createElement(b("XUISingleSelector.react"),{className:"_11dy",onChange:this._onSelectorChange.bind(this,a,c),value:a.label,size:"large"},e)},_getVariantLabelDescription:function(a){__p&&__p();var c=a.toUpperCase();Object.prototype.hasOwnProperty.call(b("CommerceProductVariantType"),c)||k(0,4640);switch(b("CommerceProductVariantType")[c]){case b("CommerceProductVariantType").SIZE:return i._("Size");case b("CommerceProductVariantType").COLOR:return i._("Colour");case b("CommerceProductVariantType").MATERIAL:return i._("Material");case b("CommerceProductVariantType").LENGTH:return i._("Length");case b("CommerceProductVariantType").FIT:return i._("Fit");case b("CommerceProductVariantType").WIDTH:return i._("Width");case b("CommerceProductVariantType").SCENT:return i._("Scent");case b("CommerceProductVariantType").FLAVOR:return i._("Flavour");case b("CommerceProductVariantType").MODEL:return i._("Model");case b("CommerceProductVariantType").FORMAT:return i._("Format");case b("CommerceProductVariantType").PLATFORM:return i._("Platform");case b("CommerceProductVariantType").EDITION:return i._("Edition");default:return a}},_onSelectorChange:function(a,b,c){var d=this.props.variants;d[b].label=c.value;this.props.setVariantInfo({variants:d,variantItems:this._getVariantItems(d)});a.label=c.value;this._updateVariant(a,b)}});e.exports=c}),null);
__d("XPagesManagerProductDeleteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/products/product_delete/",{catalog_item_ids:{type:"FBIDVector"}})}),null);
__d("XPagesManagerProductUpdateInventoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/products/update_inventory/",{product_group_ids:{type:"IntVector"},inventory_in_stock:{type:"Bool",defaultValue:!1}})}),null);
__d("PageProductActions",["fbt","ActorURI","AsyncRequest","PageContentTabCommonConfig","PageContentTabDispatcher","PageContentTabLoadingDialog","XPagesManagerProductDeleteController","XPagesManagerProductUpdateInventoryController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={deleteProducts:function(a,c,d){b("PageContentTabLoadingDialog").show();var e=b("ActorURI").create(b("XPagesManagerProductDeleteController").getURIBuilder().setFBIDVector("catalog_item_ids",a).getURI(),c);new(b("AsyncRequest"))(e).setMethod("POST").setHandler(function(d){a.forEach(function(a){return b("PageContentTabDispatcher").handlePostRemoved(c,a)})}).setFinallyHandler(function(){b("PageContentTabLoadingDialog").hide(),d&&d()}).send()},deleteProductsWithConfirmation:function(a,c,d){var e=a.length===1?g._("Deleting this product will remove it from your shop"):g._("Deleting these products will remove them from your shop");b("PageContentTabCommonConfig").showConfirmationDialog(g._({"Product":"Delete product?","Products":"Delete products?"},[g._enum(a.length===1?"Product":"Products",{Product:"Product",Products:"Products"})]),e,g._({"product":"Delete Product","products":"Delete Products"},[g._enum(a.length===1?"product":"products",{product:"product",products:"products"})]),h.deleteProducts.bind(h,a,c,d),null)},MarkStockWithConfirmation:function(a,c,d,e){var f=c.map(function(a){return a.id}),i=!1;c.forEach(function(a){a.products.data.length>1&&(i=!0)});var j=null;d?j=i?g._({"product":"Mark product as in stock. All variants will be affected","products":"Mark products as in stock. All variants will be affected"},[g._enum(f.length===1?"product":"products",{product:"product",products:"products"})]):g._({"product":"Mark product as in stock","products":"Mark products as in stock"},[g._enum(f.length===1?"product":"products",{product:"product",products:"products"})]):j=i?g._({"product":"Mark product as out of stock. All variants will be affected","products":"Mark products as out of stock. All variants will be affected"},[g._enum(f.length===1?"product":"products",{product:"product",products:"products"})]):g._({"product":"Mark product as out of stock","products":"Mark products as out of stock"},[g._enum(f.length===1?"product":"products",{product:"product",products:"products"})]);f=d?g._("Mark as in stock"):g._("Mark as out of stock");var k=d?g._("Mark as in stock"):g._("Mark as out of stock");b("PageContentTabCommonConfig").showConfirmationDialog(f,j,k,h.MarkStockProducts.bind(h,a,d,c,e),null,null)},MarkStockProducts:function(a,c,d,e){__p&&__p();b("PageContentTabLoadingDialog").show();var f=d.map(function(a){return a.id});f=b("ActorURI").create(b("XPagesManagerProductUpdateInventoryController").getURIBuilder().setIntVector("product_group_ids",f).setBool("inventory_in_stock",c).getURI(),a);new(b("AsyncRequest"))(f).setMethod("POST").setHandler(function(a){var c=a.payload;d.forEach(function(a){if(a.id in c){var d=a.products.data[0];d.inventory=c[a.id];d.commerce_settings&&(d.commerce_settings.inventory=d.inventory,d.commerce_settings.total_inventory=d.inventory);b("PageContentTabDispatcher").handlePostChanged(a)}})}).setFinallyHandler(function(){b("PageContentTabLoadingDialog").hide(),e&&e()}).send()}};e.exports=h}),null);
__d("CustomizationTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TEXT:"text"})}),null);
__d("PageProductComposerCustomizationOptionsInputs.react",["ix","cx","fbt","CommerceUI","CustomizationTypes","FDSText.react","Image.react","Layout.react","Link.react","React","XUITextInput.react","asset","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("Layout.react").Column,l=b("Layout.react").FillColumn,m=120;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){return function(b){var c=this.props.customizations;c=c.update(a,function(a){return babelHelpers["extends"]({},a,{prompt:b.target.value})});this.props.onCustomizationsChange(c)}.bind(this)}.bind(this),this.$2=function(a,c){var d="customization"+c;return b("React").createElement("div",{className:"_3-95",key:d},b("React").createElement(b("Layout.react"),null,b("React").createElement(l,null,b("React").createElement(b("XUITextInput.react"),{className:"_2mfs",disabled:this.props.isDisabled,maxLength:m,name:d,onChange:this.$1(c),placeholder:i._("Enter a customisation prompt"),value:a.prompt})),b("React").createElement(k,null,b("React").createElement(b("Image.react"),{className:"_73ks",onClick:this.$3(c),src:g("497560")}))))}.bind(this),this.$3=function(a){return function(b){b=this.props.customizations;b=b.remove(a);this.props.onCustomizationsChange(b)}.bind(this)}.bind(this),this.$4=function(){var a=this.props.customizations;a=a.push({prompt:"",type:b("CustomizationTypes").TEXT});this.props.onCustomizationsChange(a)}.bind(this),c}a.prototype.render=function(){var a=this.props.customizations.size<b("CommerceUI").MAX_CUSTOMIZATIONS?b("React").createElement(b("FDSText.react"),{size:"meta1"},b("React").createElement(b("Link.react"),{onClick:this.$4},i._("Add customisation option"))):null;return b("React").createElement("div",{className:"_4qx"},b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},i._("Add customisations that can be made to your product. The text entered here will be directly shown as prompts when a customer places an order.")),b("React").createElement("div",{className:"_3-8w"},this.props.customizations.map(this.$2)),a)};e.exports=a}),null);
__d("BOFSellerLoggingSources",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_SECTION:"AddSection",DEV_TEST:"DevTest",FINISH_SETUP_BANNER:"FinishSetupBanner",GRAPH_API:"GraphApi",MARKETPLACE_COMPOSER:"MarketplaceComposer",NLU_BANNER:"NLUBanner",PAGE_CARD:"PageCard",PAGE_COMPOSER:"PageComposer",PRODUCT_FEED:"ProductFeed",PRODUCT_TAGGING_TYPEAHEAD:"ProductTaggingTypeahead",PUBLISHING_TOOLS:"PublishingTools",QP:"QP",SHOP_EDIT:"ShopEdit",SHOP_TAB:"ShopTab",STRIPE_REDIRECT:"StripeRedirect"})}),null);
__d("CommerceB2CUnsupportedCurrencies",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CNY:"CNY",CUC:"CUC",FBZ:"FBZ",IRR:"IRR",KPW:"KPW",SDG:"SDG",SYP:"SYP"})}),null);
__d("CommerceCurrencySelector.react",["CommerceB2CUnsupportedCurrencies","CurrencyConfig","React","XUISingleSelector.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("XUISingleSelector.react").Option;c=b("React").PropTypes;var i=200,j="FBZ";g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.$1=function(a){return Object.values(b("CommerceB2CUnsupportedCurrencies")).indexOf(a)!==-1};a.prototype.$2=function(){var a=b("CurrencyConfig").allCurrenciesByCode,c=Object.keys(a);return c.map(function(b){return a[b]}).filter(function(a){return a.iso!==j&&a.name!==null}).sort(function(a,b){return a.name.localeCompare(b.name)})};a.prototype.render=function(){var a=this.$2(),c=this.props.selectedCurrency;a=a.filter(function(a){return!this.$1(a.iso)}.bind(this));this.$1(c)&&(c="USD");a=a.map(function(a){return b("React").createElement(h,{key:a.iso,value:a.iso},a.name)});return b("React").createElement(b("XUISingleSelector.react"),{maxheight:i,onChange:this.props.onChange,size:this.props.size,value:c},a)};function a(){g.apply(this,arguments)}a.propTypes={onChange:c.func.isRequired,selectedCurrency:c.string.isRequired,selectedPaymentProvider:c.number,size:c.oneOf(["small","medium","large","xlarge","xxlarge"])};e.exports=a}),null);
__d("CommerceSelfServeProductTaxCategories",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:0,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD:49e5,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:49e6,TAX_ITEM_CODE_COMMERCE_CLOTHING:531e5,TAX_ITEM_CODE_COMMERCE_SHOES:5311e4,TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:5312e4,TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:5313e4,TAX_ITEM_CODE_COMMERCE_JEWELRY:541e5,TAX_ITEM_CODE_COMMERCE_WATCHES:54111500,TAX_ITEM_CODE_COMMERCE_OTHERS:-1})}),null);
__d("PageProductComposerMarketplaceCategorySelector.react",["cx","fbt","BUIFormSelector.react","React","XUIGrayText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("BUIFormSelector.react").Option;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=this.props.categories.map(function(a){return b("React").createElement(j,{value:a.id,key:a.id},a.text)});return b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("XUIGrayText.react"),{className:"_3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},h._("Product category")),b("React").createElement(b("BUIFormSelector.react"),{density:"snug",onChange:function(a){return this.props.onCategoryClick(a.value)}.bind(this),value:this.props.value},a))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PageProductComposerReturnPolicy.react",["ix","cx","fbt","BUIFormSelector.react","CommerceSelfServeReturnPolicyOptions","FDSText.react","Image.react","Link.react","React","ShopSettingsReturnPolicyModal.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("BUIFormSelector.react").Option,l=-1,m=0,n="/business/help/211403042968780",o=[b("CommerceSelfServeReturnPolicyOptions").RETURN_30_DAYS];c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){__p&&__p();var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={isDialogShown:!1,returnPolicyTimeOptions:o},this.onChange=function(a){if(a.value===l){this.setState({isDialogShown:!0});return}this.props.onReturnPolicyTimeChange({value:a.value})}.bind(this),this.onDialogHide=function(){this.setState({isDialogShown:!1}),this.props.onReturnPolicyTimeChange({value:this.props.selectedReturnPolicyTime})}.bind(this),this.onDialogSave=function(a){this.setState({isDialogShown:!1}),this.props.onReturnPolicyTimeChange({value:a})}.bind(this),b}a.getDerivedStateFromProps=function(a,b){b=b.returnPolicyTimeOptions;a.selectedReturnPolicyTime!==m&&!b.includes(a.selectedReturnPolicyTime)&&b.push(a.selectedReturnPolicyTime);return{returnPolicyTimeOptions:b}};a.prototype.render=function(){var a=null;this.props.settingsURI&&(a=b("React").createElement(b("Link.react"),{className:"_3-9a",href:this.props.settingsURI,target:"_blank"},b("React").createElement(b("Image.react"),{src:g("512570")})));var c=this.state.returnPolicyTimeOptions.sort(function(a,b){return a-b}).map(function(a){return b("React").createElement(k,{key:a,value:a},i._("{Number of days} days",[i._param("Number of days",a)]))});this.props.isFinalSaleEnabled&&c.push(b("React").createElement(k,{key:m,value:m},i._("Final sale")));c.push(b("React").createElement(k,{key:l,value:l},i._("Create custom")));var d=this.state.isDialogShown?b("React").createElement(b("ShopSettingsReturnPolicyModal.react"),{isShown:this.state.isDialogShown,onHide:this.onDialogHide,onSave:this.onDialogSave}):null;return b("React").createElement("div",{className:"_4qx _2pid"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Returns policy"),a),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},i._("Items must be returned to you within the time period you choose below, calculated from the day on which your item is delivered to the customer. {Learn More link}.",[i._param("Learn More link",b("React").createElement(b("Link.react"),{href:n,target:"_blank"},i._("Learn more")))]))),b("React").createElement(b("BUIFormSelector.react"),{density:"snug",disabled:this.props.isDisabled,onChange:this.onChange,value:this.props.selectedReturnPolicyTime},c),d)};e.exports=a}),null);
__d("PageProductComposerShippingOptions.react",["ix","cx","fbt","CommerceSelfServeUI","CurrencyInput.atlas","FDSText.react","Image.react","Link.react","React","XUIText.react","XUITextInput.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$2=function(){var a=this.props.shippingOptions;a[a.length]=this.$1();this.props.onShippingOptionsChange(a)}.bind(this),b}a.prototype.UNSAFE_componentWillMount=function(){this.props.shippingOptions.length===0&&this.props.onShippingOptionsChange([this.$1()])};a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.shippingOptions.length===0&&this.props.onShippingOptionsChange([this.$1()])};a.prototype.$1=function(){return{shipping_country:"US",shipping_price_currency:this.props.currencyCode,shipping_price_value:0,shipping_service:null}};a.prototype.$3=function(a){var b=this.props.shippingOptions;b.splice(a,1);this.props.onShippingOptionsChange(b);b=a>0?a-1:0;this.refs[b].focusInput()};a.prototype.$4=function(a,b){var c=this.props.shippingOptions;c[a].shipping_service=b;this.props.onShippingOptionsChange(c)};a.prototype.$5=function(a,b){var c=this.props.shippingOptions;c[a].shipping_price_value=b;this.props.onShippingOptionsChange(c)};a.prototype.render=function(){__p&&__p();var a=this.props.shippingOptions.length,c=[];this.props.shippingOptions.forEach(function(d){var e=d.shipping_service,f=c.length;c[f]=b("React").createElement("tr",{className:"_5b1f",key:"option-"+f},b("React").createElement("td",{className:"_b3y"},b("React").createElement(b("XUITextInput.react"),{className:"_2mfs",disabled:this.props.disabled,height:"tall",onChange:function(a){return this.$4(f,a.target.value)}.bind(this),placeholder:i._("Delivery method name"),ref:f,value:e})),b("React").createElement("td",{className:"_b3z"},b("React").createElement(b("CurrencyInput.atlas"),{className:"_5rpn",currency:d.shipping_price_currency,disabled:this.props.disabled,isZeroValidValue:!0,onChange:function(a){return this.$5(f,a*100)}.bind(this),value:Number(d.shipping_price_value)/100})),a>b("CommerceSelfServeUI").MIN_SHIPPING_OPTIONS?b("React").createElement("td",{className:"_b3-"},b("React").createElement(b("Link.react"),{onClick:function(a){this.props.disabled?null:this.$3(f)}.bind(this)},b("React").createElement(b("Image.react"),{src:g("437201")}))):null)}.bind(this));var d=b("React").createElement(b("XUIText.react"),{size:"meta1"},i._("Add delivery method"));if(a>=b("CommerceSelfServeUI").MAX_SHIPPING_OPTIONS){var e=i._("You've reached the maximum number of delivery options.");e=b("React").createElement(b("Link.react"),{"data-hover":"tooltip","data-tooltip-content":e,onClick:function(a){return a.stopPropagation()}},d)}else e=b("React").createElement(b("Link.react"),{onClick:this.props.disabled?null:this.$2},d);d=null;this.props.settingsURI&&(d=b("React").createElement(b("Link.react"),{className:"_3-9a",href:this.props.settingsURI,target:"_blank"},b("React").createElement(b("Image.react"),{src:g("512570")})));var f=null;this.props.hideTitle||(f=b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Delivery options"),d),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},i._("Customers will only be charged one delivery fee per order, even if they order more than one of this item."))));return b("React").createElement("div",{className:"_4qx _2pid"},f,b("React").createElement("table",{className:"_b40"},b("React").createElement("tbody",null,c)),b("React").createElement("div",{className:"_2pic _2pir"},e))};e.exports=a}),null);
__d("PageProductComposerShippingOptionRow.react",["cx","fbt","FDSText.react","React","RelayModern","PageProductComposerShippingOptionRow_shippingOption.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props.shippingOption,c=a.cost,d=a.name;a=a.estimatedDaysUntilArrival;return b("React").createElement("div",{className:"_1vm_"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3"},d),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3"},(d=c)!=null?d.formattedAmount:d),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body3"},h._("{minDaysToArrival}-{maxDaysToArrival} days",[h._param("minDaysToArrival",(c=a)!=null?c.minDaysToArrival:c),h._param("maxDaysToArrival",(d=a)!=null?d.maxDaysToArrival:d)])))};function a(){i.apply(this,arguments)}e.exports=c(a,{shippingOption:function(){return b("PageProductComposerShippingOptionRow_shippingOption.graphql")}})}),null);
__d("PageProductComposerShopLevelShippingOptions.react",["ix","cx","fbt","FDSButton.react","FDSText.react","Image.react","Link.react","PageProductComposerShippingOptionRow.react","React","RelayModern","ShopSettingsAddShippingProfile.react","SUIBusinessThemeContainer.react","asset","nullthrows","PageProductComposerShopLevelShippingOptions_page.graphql","PageProductComposerShopLevelShippingOptionsRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").PureComponent);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.state={showAddProfileModal:!1},this.onHideAddProfileModal=function(){this.props.relay.refetch({pageID:this.props.page.id}),this.setState({showAddProfileModal:!1})}.bind(this),this.onShowAddProfileModal=function(){this.setState({showAddProfileModal:!0})}.bind(this),b}a.prototype.render=function(){__p&&__p();var a,c;c=(c=this.props)!=null?(c=c.page)!=null?c.id:c:c;if(!c)return null;var d=this.props.settingsURI?b("React").createElement(b("Link.react"),{className:"_3-9a",href:this.props.settingsURI,target:"_blank"},b("React").createElement(b("Image.react"),{src:g("512570")})):null,e=b("nullthrows")(this.props.page.settings);a=((a=e)!=null?(a=a.shippingProfile)!=null?(a=a.options)!=null?a.edges:a:a:a)||[];var f=a.length>0;c=b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSButton.react"),{label:i._("Add Delivery Option"),onClick:this.onShowAddProfileModal}),b("React").createElement(b("ShopSettingsAddShippingProfile.react"),{isProfileEnabled:!1,isShown:this.state.showAddProfileModal,onHide:this.onHideAddProfileModal,pageID:c,settings:e}));e=a.map(function(a){return!a.node?null:b("React").createElement(b("PageProductComposerShippingOptionRow.react"),{key:a.node.id,shippingOption:a.node})});a=f?e:c;return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_4qx _2pid"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Delivery options"),d),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},i._("Any delivery option that you add will be available for all of your items. You're responsible for dispatching items within three days of when an order is placed."))),a))};e.exports=c(a,{page:function(){return b("PageProductComposerShopLevelShippingOptions_page.graphql")}},function(){return b("PageProductComposerShopLevelShippingOptionsRefetchQuery.graphql")})}),null);
__d("PageProductComposerTaxCategorySelector.react",["ix","cx","fbt","invariant","BUIFormSelector.react","CommerceSelfServeProductTaxCategories","FDSText.react","Image.react","Link.react","React","asset","forEachObject"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("BUIFormSelector.react").Option;k=babelHelpers.inherits(a,b("React").PureComponent);k&&k.prototype;a.prototype.getTaxCategoryDescription=function(a){__p&&__p();Object.prototype.hasOwnProperty.call(b("CommerceSelfServeProductTaxCategories"),a)||j(0,3786);switch(b("CommerceSelfServeProductTaxCategories")[a]){case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:return i._("Sport and recreation");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_CLOTHING:return i._("Clothing");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SHOES:return i._("Shoes");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:return i._("Luggage\/Bags");case b("CommerceSelfServeProductTaxCategories").TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:return i._("Personal care");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_JEWELRY:return i._("Jewellery");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_WATCHES:return i._("Watches");case b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS:return i._("Other physical goods");default:j(0,3787)}};a.prototype.render=function(){var a=null;this.props.settingsURI&&(a=b("React").createElement(b("Link.react"),{className:"_3-9a",href:this.props.settingsURI,target:"_blank"},b("React").createElement(b("Image.react"),{src:g("512570")})));var c=this.props.isManagedNmorShop?i._("This category is used to calculate tax for your item. Select the category that best describes your product."):i._("This category is used to calculate taxes. You can also enter a tax rate under \"Custom product taxes\" in the advanced options."),d=[];b("forEachObject")(b("CommerceSelfServeProductTaxCategories"),function(a,c){a!==b("CommerceSelfServeProductTaxCategories").NONE&&a!==b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD&&d.push(b("React").createElement(l,{key:"UNSPSC_"+a,value:a},this.getTaxCategoryDescription(c)))}.bind(this));return b("React").createElement("div",{className:"_4qx _2pid"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"meta1",weight:"bold"},i._("Product category"),a),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"meta1"},c)),b("React").createElement(b("BUIFormSelector.react"),{density:"snug",onChange:this.props.onTaxCategoryChange,value:this.props.taxCategory},d))};function a(){k.apply(this,arguments)}a.defaultProps={taxCategory:b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS};e.exports=a}),null);
__d("PageProductComposerTieredShippingOptions.react",["ix","cx","fbt","CommerceExceptionHandlerMixin.react","FDSText.react","Image.react","OnsiteCommerceMerchantFixedShippingOptionType","React","RelayModern","ShopSettingsTieredShippingOptions.react","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUILink.react","asset","suiMargin","PageProductComposerTieredShippingOptions_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=[b("OnsiteCommerceMerchantFixedShippingOptionType").STANDARD,b("OnsiteCommerceMerchantFixedShippingOptionType").EXPEDITED,b("OnsiteCommerceMerchantFixedShippingOptionType").RUSH];j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.getErrorSummary=function(){if(this.props.error==null)return null;var a=[this.props.error];return b("React").createElement("div",{className:"_3-8y _3-97"},b("CommerceExceptionHandlerMixin.react").renderErrorMessages(a))};a.prototype.render=function(){var a=this.getErrorSummary();return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_4qx _2pid"},b("React").createElement("div",{className:"_3-94"},b("React").createElement(b("FDSText.react"),{display:"block",size:"body3",weight:"bold"},i._("Delivery options"),b("React").createElement(l,{href:this.props.settingsURI})),b("React").createElement(b("FDSText.react"),{color:"secondary",size:"body3"},i._("Any delivery option that you add will be available for all of your items. You're responsible for dispatching items within three days of when an order is placed. {=Learn more.}",[i._param("=Learn more.",b("React").createElement(b("SUILink.react"),{href:"/business/help/211403042968780",target:"_blank",theme:b("SUIBusinessTheme")},i._("Learn more.")))])),a),b("React").createElement(b("ShopSettingsTieredShippingOptions.react"),{page:this.props.page,shippingTiers:k})))};function a(){j.apply(this,arguments)}function l(a){a=a.href;return!a?null:b("React").createElement(b("SUILink.react"),{href:a,margin:"_3-9a",target:"_blank",theme:b("SUIBusinessTheme")},b("React").createElement(b("Image.react"),{src:g("512570")}))}e.exports=c(a,{page:function(){return b("PageProductComposerTieredShippingOptions_page.graphql")}})}),null);
__d("PageProductReviewNUX.react",["cx","fbt","React","ReactLayeredComponentMixin_DEPRECATED","XUICloseButton.react","XUIDialog.react","XUIDialogBody.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIGrayText.react","classWithMixins","mixin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=500;d=babelHelpers.inherits(a,b("classWithMixins")(b("React").Component,b("mixin")(b("ReactLayeredComponentMixin_DEPRECATED"))));i=d&&d.prototype;function a(){i.constructor.call(this),this.state={dialogShown:!0}}a.prototype.render=function(){return b("React").createElement("span",null)};a.prototype.renderLayers=function(){return!this.state.dialogShown?{}:{dialog:b("React").createElement(b("XUIDialog.react"),{width:j,onToggle:function(a){return this.$PageProductReviewNux1.bind(this,a)}.bind(this),shown:this.state.dialogShown,layerHideOnBlur:!1},b("React").createElement("div",{className:"_2pie _2pij"},b("React").createElement(b("XUICloseButton.react"),{label:this.props.closeButtonText,className:"layerCancel rfloat"})),b("React").createElement(b("XUIDialogBody.react"),{className:"_4o_9"},b("React").createElement("h1",{className:"_4o_a"},this.$PageProductReviewNux2()),b("React").createElement(b("XUIGrayText.react"),{size:"header4"},this.$PageProductReviewNux3())),b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogOkayButton.react"),{use:"confirm",action:"button",onClick:this.$PageProductReviewNux1.bind(this,!1)})))}};a.prototype.$PageProductReviewNux2=function(){return h._("You've just added your first product!")};a.prototype.$PageProductReviewNux3=function(){return h._("All products are processed before they are visible to your customers. You will receive a notification when this is done, usually within a few minutes.")};a.prototype.$PageProductReviewNux1=function(a){this.setState({dialogShown:a}),!a&&this.props.onDialogClosed&&this.props.onDialogClosed()};a.propTypes={onDialogClosed:c.func};e.exports=a}),null);
__d("ProductVisibilitySelector.react",["fbt","BUIFormSelector.react","ProductVisibility","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("BUIFormSelector.react").Option;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props,c=a.onChange,d=a.value;a=babelHelpers.objectWithoutPropertiesLoose(a,["onChange","value"]);return b("React").createElement(b("BUIFormSelector.react"),babelHelpers["extends"]({onChange:function(a){return c(a.value)},value:d},a),b("React").createElement(i,{value:b("ProductVisibility").PUBLISHED},g._("Public")),b("React").createElement(i,{value:b("ProductVisibility").STAGING},g._("Unpublished")))};function a(){h.apply(this,arguments)}a.propTypes=babelHelpers["extends"]({onChange:c.func.isRequired,value:c.string.isRequired},b("BUIFormSelector.react").propTypes);e.exports=a}),null);
__d("ShopManagementTab",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BALANCE:"balance",EDUCATION:"education",ORDERS:"orders",PERFORMANCE:"performance",PRODUCTS:"products",SETTINGS:"settings"})}),null);
__d("XCommerceSelfServeParam",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EXPLANATION:"explanation",PAGE_ID:"page_id",AMOUNT:"amount",BUSINESS_ID:"business_id",ADDRESS:"address",STREET_1:"street1",STREET_2:"street2",CITY:"city",STATE:"region",ZIP:"postalCode",ACCEPTED_TOS:"accepted_tos",ALERT_EMAIL:"alert_email",COLLECTION_NAME:"collection_name",CONTACT_EMAIL:"contact_email",COUNTRY_CODE:"country_code",MANAGED_STRIPE_LE_TYPE:"managed_stripe_le_type",PAYMENT_PROVIDER:"payment_provider",PAYPAL_MERCHANT_EMAIL:"paypal_merchant_email",RETURN_POLICY_TIME:"return_policy_time",SECONDARY_CTA:"secondary_product_cta",SETTINGS_ID:"settings_id",SHIPPING_POLICY_TIME:"shipping_policy_time",STATE_TAX_REGISTRATION_NUMBERS:"state_tax_registration_numbers",STRIPE_DEFERRED_EMAIL:"stripe_deferred_email",TAX_NEXUS_LOCATIONS:"tax_nexus_locations",VISIBILITY:"visibility",CHECKOUT_URL:"checkout_url",COLLECTION_ID:"collection_id",CURRENCY_CODE:"currency_code",IS_CUSTOMIZATION_DATA_PRESENT:"is_customization_data_present",CUSTOMIZATION_DATA:"customization_data",DEFAULT_SHIPPING_OPTIONS_JSON:"default_shipping_options_json",DELIVERY_METHOD:"delivery_method",FEATURED_PRODUCT:"featured_product",INVENTORY:"inventory",IS_FINAL_SALE:"is_final_sale",IS_ON_SALE:"is_on_sale",PRODUCT_CATALOG_ID:"catalog_id",PRODUCT_DESCRIPTION:"product_desc",PRODUCT_ID:"product_id",PRODUCT_PHOTO_IDS:"photo_ids",PRODUCT_VIDEO_IDS:"video_ids",PRODUCT_PRICE:"product_price",PRODUCT_SALE_PRICE:"product_sale_price",PRODUCT_TITLE:"product_title",SHARE_TO_TIMELINE:"share_to_timeline",SHIPPING_OPTION_NAMES:"shipping_option_names",SHIPPING_OPTION_VALUES:"shipping_option_values",TAX_APPLIED_TO_SHIPPING_MAP:"tax_applied_to_shipping_map",TAX_CATEGORY:"tax_category",TAX_LOCATIONS:"tax_locations",TAX_PERCENT_MAP:"tax_percent_map",VARIANT_NAMES:"variant_names",VARIANT_INVENTORY:"variant_inventory_map",VARIANT_PRICE:"variant_price_map",VARIANT_SALE_PRICE:"variant_sale_price_map",VARIANT_DATA:"variant_serial_data_map",VARIANT_PRODUCT_ID:"variant_product_id_map",CATEGORY_ID:"category_id",SOURCE_POST_ID:"post_id"})}),null);
__d("XPagesManagerFeaturedItemsCountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/featured_items_count/",{})}),null);
__d("XPagesManagerProductCreateController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/products/product_create/",{})}),null);
__d("XPagesManagerProductVariantsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/product_variants/",{catalog_item_id:{type:"FBID",required:!0}})}),null);
__d("XPagesManagerProductViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/content_tab/product/",{product_id:{type:"String",required:!0}})}),null);
__d("XPagesManagerShopManagementController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/shop/settings/{?tab}/{?order_id}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},tab:{type:"Enum",enumType:1},order_id:{type:"FBID"}})}),null);
__d("PageProductComposerDialog.react",["ix","cx","fbt","ActorURI","AdsCurrencyInput_DEPRECATED.react","AsyncRequest","BOFSellerLogger","BOFSellerLoggerEvent","BOFSellerLoggingSources","BUIFormButton.react","CommerceCurrencyInputUtils","CommerceCurrencySelector.react","CommerceExceptionHandlerMixin.react","CommerceInventoryAvailabilityOptions","CommerceInventoryToggle.react","CommerceSelfServeProductTaxCategories","CommerceSelfServeProductTaxRatesTable.react","CommerceSelfServeSection","Currency","CustomizationTypes","DOM","FBNumberInput.react","FBToggleSwitch.react","Image.react","InlineBlock.react","Link.react","PageCommerceProductVariantPage.react","PageContentTabDispatcher","PageContentTabProductPhotoUploader.react","PageProductActions","PageProductComposerCustomizationOptionsInputs.react","PageProductComposerMarketplaceCategorySelector.react","PageProductComposerReturnPolicy.react","PageProductComposerShippingOptions.react","PageProductComposerShopLevelShippingOptions.react","PageProductComposerTaxCategorySelector.react","PageProductComposerTieredShippingOptions.react","PageProductReviewNUX.react","PageSettingsRef","PagesManagerProductToolsConstants","PECurrency","ProductDeliveryMethod","ProductVisibility","ProductVisibilitySelector.react","React","ReactDOM","RelayModern","ShopManagementTab","ShopOnboardingSupportContactsSetupDialogContainer.react","SUIBusinessTheme","SUISimplePopover.react","XCommerceSelfServeParam","XPagesManagerFeaturedItemsCountController","XPagesManagerProductCreateController","XPagesManagerProductVariantsController","XPagesManagerProductViewController","XPagesManagerSettingsController","XPagesManagerShopManagementController","XPagesProfileShopController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUIDialogTitle.react","XUIError.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","XUITextInput.react","areEqual","asset","getOwnObjectValues","gkx","goURI","immutable","PageContentTabConstants","PageProductComposerDialog_page.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=b("React").PropTypes;var j=b("PageContentTabConstants").TABS,k="USD",l=500,m=3,n=80,o=14,p=50,q=100,r=1,s="0",t=100,u=0,v={main:"main",variant:"variant"},w={edit:"Edit",advanced:"Advanced"};d=b("React").createClass({displayName:"PageProductComposerDialog",mixins:[b("CommerceExceptionHandlerMixin.react")],propTypes:{categories:c.array,checkoutURL:c.string,collectionID:c.string,currencyCode:c.string,defaultReturnPolicyTime:c.number,defaultShippingOptions:c.array,isCustomGoodsEnabled:c.bool,isFinalSaleEnabled:c.bool,isManagedNmorShop:c.bool,pageContentTabAccessToken:c.string.isRequired,page:c.object.isRequired,pageHasShop:c.bool.isRequired,pageID:c.string.isRequired,postID:c.string,prefillConfig:c.shape({currencyCode:c.string,description:c.string,photos:c.array,price:c.number,title:c.string}),productCatalogID:c.string.isRequired,productGroupID:c.string,productID:c.string,requireDescription:c.bool.isRequired,sections:c.array.isRequired,shouldCreateShopFromProduct:c.bool,showShareToTimelineToggle:c.bool,showTOS:c.bool,showVideoUploadButton:c.bool,shownInitially:c.bool,source:c.oneOf(b("getOwnObjectValues")(b("BOFSellerLoggingSources"))).isRequired,tosURI:c.string,onClose:c.func,onProductChanged:c.func,onProductCreated:c.func,onProductDeleted:c.func},getDefaultProps:function(){return{showShareToTimelineToggle:!0}},getInitialState:function(){var a;return{categoryID:null,checkoutURL:this.props.checkoutURL||"",currencyCode:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.currencyCode:a:a)||this.props.currencyCode||k,currentTabKey:w.edit,currentPage:v.main,customizations:b("immutable").List(),dialogShown:this.props.shownInitially,errorTabs:[],featuredCount:0,hasAttemptedSave:!1,inventory:b("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK,isCustomizable:!1,isEGiftCard:!1,isFinalSale:!1,isOnSale:!1,loading:!1,saving:!1,photos:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.photos:a:a)||[],videos:[],productDesc:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.description:a:a)||"",productPrice:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.price:a:a)||0,productSalePrice:0,productTitle:((a=this.props)!=null?(a=a.prefillConfig)!=null?a.title:a:a)||"",productVisibility:b("ProductVisibility").PUBLISHED,returnPolicyTime:Math.max(this.props.defaultReturnPolicyTime||0,o),shareToTimeline:!1,shippingOptions:this.props.defaultShippingOptions||[],taxCategory:b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS,taxRates:{state_abbr:{},zip_code:{}},showVariants:!1,visibilityNotice:null,variants:[],variantItems:{}}},UNSAFE_componentWillMount:function(){this._reviewedProductData=this._getReviewableDataFromState(this.state),this.props.productID&&this._fetchProductDetails(this.props.pageID,this.props.productID),this.props.productGroupID&&this._fetchVariants(this.props.pageID,this._getUniqueProductIdentifier(this.props)),this._fetchFeaturedCount(this.props.pageID)},componentDidMount:function(){var a=this.props.productID?b("BOFSellerLoggerEvent").ACTN_EDIT_PRODUCT_CLICK:b("BOFSellerLoggerEvent").ACTN_ADD_PRODUCT_CLICK;this._logEvent(a)},UNSAFE_componentWillReceiveProps:function(a){(this.props.pageID!==a.pageID||this.props.productID!==a.productID||this.props.productGroupID!==a.productGroupID)&&(this._fetchProductDetails(a.pageID,a.productID),this._fetchVariants(a.pageID,this._getUniqueProductIdentifier(a)))},_fetchFeaturedCount:function(a){this.setState({loading:!0});a=b("ActorURI").create(b("XPagesManagerFeaturedItemsCountController").getURIBuilder().getURI(),a);new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload.featured_count;this.setState({loading:!1,featuredCount:a})}.bind(this)).send()},_fetchProductDetails:function(a,c){this.setState({loading:!0});c=b("ActorURI").create(b("XPagesManagerProductViewController").getURIBuilder().setString(b("XCommerceSelfServeParam").PRODUCT_ID,c).getURI(),a);new(b("AsyncRequest"))().setURI(c).setHandler(this._onProductDetailsFetched).send()},_fetchVariants:function(a,c){this.setState({loading:!0});c=b("ActorURI").create(b("XPagesManagerProductVariantsController").getURIBuilder().setFBID("catalog_item_id",c).getURI(),a);new(b("AsyncRequest"))().setURI(c).setHandler(function(a){a=a.payload;var b={variants:a.variants,variantItems:a.variantItems};this._oldVariants=this._deepClone(b);this._reviewedProductData=this._getReviewableDataFromState(babelHelpers["extends"]({},this.state,a));this.setState(a)}.bind(this)).send()},_oldVariants:{variants:[],variantItems:{}},_deepClone:function(a){return JSON.parse(JSON.stringify(a))},onPhotosSelected:function(a){this.setState({photos:this.state.photos.concat(a)})},onPhotoRemoved:function(a){this.setState({photos:this.state.photos.filter(function(b){return b.fbid!==a.fbid})})},onPhotoEdited:function(a,c){var d=this.state.photos.findIndex(function(b){return b.fbid===a});if(d!==void 0){b("BOFSellerLogger").log(b("BOFSellerLoggerEvent").ACTN_PHOTO_EDITED,this.props.pageID,{target_class:"Photo",target_id:c.fbid});var e=this.state.photos.slice();e[d]=c;this.setState({photos:e})}},_onVideoSelected:function(a){var b=this.state.videos;b=b.concat({requestID:a,fbid:a,src:null,ready:!1,error:!1});this.setState({videos:b})},_onVideoRemoved:function(a){this.setState({videos:this.state.videos.filter(function(b){return b.fbid!==a.fbid})})},_onVideoUploadFinished:function(a,b,c){var d=this.state.videos;for(var e=0;e<d.length;e++)d[e].requestID===a&&(d[e].fbid=b,d[e].src=c,d[e].ready=!0);this.setState({videos:d})},_onVideoUploadError:function(a){var b=this.state.videos;for(var c=0;c<b.length;c++)b[c].requestID===a&&(b[c].error=!0,b[c].ready=!1);this.setState({videos:b})},_getUniqueProductIdentifier:function(a){return a.productGroupID!=="0"?a.productGroupID:a.productID},_getDialogHeader:function(){switch(this.state.currentPage){case v.main:return b("React").createElement(b("XUIDialogHeader.react"),{activeTabKey:this.state.currentTabKey,onTabClick:this._handleTabChange},this._getTabHeaders());case v.variant:return b("React").createElement(b("XUIDialogTitle.react"),null,this._getTitle())}return b("React").createElement("div",null)},_getTabHeaders:function(){var a=[b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:w.edit},this._getTitle())];this._showSection(b("CommerceSelfServeSection").TAX_TABLE)&&a.push(b("React").createElement(b("XUIDialogHeaderTitle.react"),{href:"#",key:w.advanced},i._("Advanced options")));return a},_getPhotoUploader:function(){var a=this.state.hasAttemptedSave?this._getPhotosError(this.state.photos):null;return b("React").createElement(b("PageContentTabProductPhotoUploader.react"),{className:"_2anr",onPhotoEdited:this.onPhotoEdited,onPhotoRemoved:this.onPhotoRemoved,onPhotosSelected:this.onPhotosSelected,onVideoRemoved:this._onVideoRemoved,onVideoSelected:this._onVideoSelected,onVideoUploadError:this._onVideoUploadError,onVideoUploadFinished:this._onVideoUploadFinished,pageContentTabAccessToken:this.props.pageContentTabAccessToken,pageID:this.props.pageID,photoEditingEnabled:!0,photos:this.state.photos,productCatalogID:this.props.productCatalogID,showVideoUploadButton:this.props.showVideoUploadButton,videos:this.state.videos,xuiError:a})},_getPhotoTooltip:function(){if(this.state.photos.length>0||this.state.videos.length>0)return null;return this.props.source===b("BOFSellerLoggingSources").PRODUCT_TAGGING_TYPEAHEAD&&!this.props.pageHasShop?b("React").createElement(b("XUINotice.react"),{size:"small"},b("React").createElement("div",{className:"_45zv"},i._("Adding a product lets you tag it in posts, photos and videos on your Page."))):b("React").createElement(b("XUINotice.react"),{size:"small"},b("React").createElement("div",{className:"_1mxl"},i._("Take a look at our {link} for tips on making your product images look good on Facebook.",[i._param("link",b("React").createElement(b("Link.react"),{href:"https://www.facebook.com/business/help/481150918755515",target:"_blank"},i._("recommended photo guidelines")))])))},_getTabBodies:function(){var a=this.state.currentTabKey===w.edit,c=[b("React").createElement("div",{className:a?"_2pi1":"hidden_elem",key:"basic_product_edit_tab"},b("React").createElement("div",{dangerouslySetInnerHTML:this.state.visibilityNotice}),b("React").createElement("div",null,this._getPhotoUploader(),this._getPhotoTooltip()),b("React").createElement("div",{className:"clearfix"}),this._getNamePriceDescriptionInputs(),this._getCheckoutURLInput(),this._getFeaturedToggleSwitch(),this._getShareToTimelineToggle(),b("React").createElement("div",{className:"_3p77"},b("React").createElement("div",{className:"_4o5s"},this._getInventoryInput()),b("React").createElement("div",{className:"_4o5t"},this._getVariantsButton())),this._getVisibilitySelector(),this._getEditWarning(),this._getShippingToggleSwitch(),this._getShippingOptionsSection(),this._getReturnPolicySection(),this._getTaxCategorySelector(),this._getShopCreationNoticeSection(),this._getTOSSection())];this._showSection(b("CommerceSelfServeSection").TAX_TABLE)&&c.push(b("React").createElement("div",{className:(a?"hidden_elem":"")+" _2pi1 _5dz6",key:"advanced_product_edit_tab"},this._getTaxTable()));return c},_getShopCreationNoticeSection:function(){return this.props.pageHasShop||!this.props.shouldCreateShopFromProduct?null:b("React").createElement("div",{className:"_3-8x _4u1-"},i._("When you add a product, we will create a shop section for your Page. You can easily edit and manage your products within your shop."))},_getTOSSection:function(){return!this.props.showTOS?null:b("React").createElement("div",{className:"_3-8x _1otd"},i._("By clicking {Label displayed on button to save a product}, you agree to the {Merchant Terms and Policies link}",[i._param("Label displayed on button to save a product",this._getSaveButtonText()),i._param("Merchant Terms and Policies link",b("React").createElement(b("Link.react"),{href:this.props.tosURI,target:"_blank"},"Merchant Terms and Policies"))]))},_getMerchantSettingsURI:function(){return this.props.isManagedNmorShop?b("XPagesManagerShopManagementController").getURIBuilder().setString("page_token",this.props.pageID).setEnum("tab",b("ShopManagementTab").SETTINGS).getURI():b("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","shop").setString("ref",b("PageSettingsRef").PRODUCT_COMPOSER).getURI()},_getTaxTable:function(){return b("React").createElement("div",null,b("React").createElement("div",{className:"_3-96",display:"block"},b("React").createElement(b("XUIGrayText.react"),{shade:"dark",size:"header4",weight:"bold"},i._("Custom product taxes")),b("React").createElement(b("SUISimplePopover.react"),{content:i._("You can enter specific taxes for products taxed at special rates, such as some foods and beverages."),contentWidthUseSparingly:318,position:"below",theme:b("SUIBusinessTheme")})),b("React").createElement(b("CommerceSelfServeProductTaxRatesTable.react"),{onChangeTaxRates:this._onChangeTaxRates,taxRates:this.state.taxRates}),b("React").createElement("div",{className:"_3-8x",display:"block"},b("React").createElement(b("Link.react"),{href:this._getMerchantSettingsURI(),target:"_blank"},i._("View default shop taxes"))))},_getInnerContent:function(){if(this.state.loading)return b("React").createElement(b("XUISpinner.react"),{className:"_2_i8",size:"large"});switch(this.state.currentPage){case v.main:return b("React").createElement("div",null,this._getTabBodies());case v.variant:return b("React").createElement("div",null,b("React").createElement("div",{className:"_1go"},b("React").createElement(b("InlineBlock.react"),{alignv:"middle",className:"_1gp",onClick:this._onVariantsSaveButtonClicked},b("React").createElement(b("Image.react"),{src:g("529293")})),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",className:"_1gq"},i._("More options"))),b("React").createElement("div",{className:"_3-8j"},b("React").createElement(b("XUIGrayText.react"),{display:"block"},i._("Add options such as sizes, colours or materials that your product comes in."))),b("React").createElement(b("PageCommerceProductVariantPage.react"),{currencyCode:this.state.currencyCode,defaultVariantPrice:this.state.productPrice,getPriceError:this._getPriceError,inventoryType:this._showSection(b("CommerceSelfServeSection").IN_STOCK_TOGGLE)?b("CommerceSelfServeSection").IN_STOCK_TOGGLE:b("CommerceSelfServeSection").INVENTORY,isOnSale:this.state.isOnSale,setVariantInfo:function(a){return this.setState(a)}.bind(this),variantItems:this.state.variantItems,variants:this.state.variants}))}return b("React").createElement("div",null)},_backToMainPage:function(){this.setState({currentPage:v.main})},_getVariantsButton:function(){return!this._showSection(b("CommerceSelfServeSection").VARIANTS)?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("XUIGrayText.react"),{display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Options"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Add options such as sizes, colours or materials that your product comes in."),contentWidthUseSparingly:318,position:"below",theme:b("SUIBusinessTheme")})),b("React").createElement(b("BUIFormButton.react"),{className:"_3-8w",density:"snug",label:i._("Edit options"),onClick:function(){return this.setState({currentPage:v.variant})}.bind(this)}))},_getCheckoutURLInput:function(){if(!this._showSection(b("CommerceSelfServeSection").CHECKOUT_URL))return null;var a=this.getFieldErrorMessage(b("XCommerceSelfServeParam").CHECKOUT_URL)||(this.state.hasAttemptedSave?this._getCheckoutURLError(this.state.checkoutURL):null);return b("React").createElement("div",{className:"_3-97"},b("React").createElement(b("XUIGrayText.react"),{display:"inline",shade:"dark",size:"meta1",weight:"bold"},i._("Checkout URL")),b("React").createElement(b("SUISimplePopover.react"),{content:i._("The website where users will be directed to purchase this product"),contentWidthUseSparingly:318,position:"above",theme:b("SUIBusinessTheme")}),b("React").createElement(b("XUITextInput.react"),{className:"_2mfs",disabled:this.state.loading,height:"tall",name:"checkoutURL",onChange:function(a){return this.setState({checkoutURL:a.target.value})}.bind(this),placeholder:i._("http:\/\/www.example.com"),value:this.state.checkoutURL,xuiError:a}))},_getDialogFooter:function(){switch(this.state.currentPage){case v.main:return this._getMainFooter();case v.variant:return this._getVariantsFooter()}return null},_getMainFooter:function(){var a=null;this.props.productID&&!this.state.loading&&(a=b("React").createElement(b("Link.react"),{onClick:this.state.saving?null:this._onDeleteProductClicked},b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1"},i._("Delete product"))));var c=this.state.saving?b("React").createElement(b("XUISpinner.react"),{className:"_3-90",size:"small"}):null;return b("React").createElement(b("XUIDialogFooter.react"),{leftContent:a},c,b("React").createElement(b("XUIDialogCancelButton.react"),{disabled:this.state.saving||this.state.loading}),b("React").createElement(b("XUIDialogButton.react"),{action:"button",disabled:this.state.saving||this.state.loading,label:this._getSaveButtonText(),onClick:this._onSubmitButtonClicked,use:"confirm"}))},_getVariantsFooter:function(){return b("React").createElement(b("XUIDialogFooter.react"),null,b("React").createElement(b("XUIDialogButton.react"),{action:"button",label:i._("Cancel"),onClick:this._onVariantsCancelButtonClicked,use:"default"}),b("React").createElement(b("XUIDialogButton.react"),{action:"button",label:i._("Apply"),onClick:this._onVariantsSaveButtonClicked,use:"confirm"}))},_onVariantsCancelButtonClicked:function(){this.setState(this._deepClone(this._oldVariants)),this._backToMainPage()},_onVariantsSaveButtonClicked:function(){this._oldVariants=this._deepClone({variants:this.state.variants,variantItems:this.state.variantItems}),this._backToMainPage()},show:function(){this.setState({currentPage:v.main,dialogShown:!0})},hide:function(){this.props.onClose&&this.props.onClose(),this.setState({dialogShown:!1})},_hideTemporarily:function(){this.setState({dialogShown:!1})},_onDeleteProductClicked:function(){b("PageProductActions").deleteProductsWithConfirmation(Array(this._getUniqueProductIdentifier(this.props)),this.props.pageID,function(){this.hide(),this.props.onProductDeleted&&this.props.onProductDeleted()}.bind(this))},_getCategoryInput:function(){if(!this._showSection(b("CommerceSelfServeSection").CATEGORY))return null;var a=this.state.categoryID?this.state.categoryID:s,c={id:s,text:i._("Select category (optional)")};return b("React").createElement(b("PageProductComposerMarketplaceCategorySelector.react"),{categories:[c].concat(this.props.categories),onCategoryClick:function(a){a===s&&(a=null),this.setState({categoryID:a})}.bind(this),value:a})},_getNamePriceDescriptionInputs:function(){__p&&__p();var a=null;if(this.state.variants.length===0){var c=b("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(this.state.productPrice,this.state.currencyCode);a=b("React").createElement(b("AdsCurrencyInput_DEPRECATED.react"),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:!0,nonnegative:!0,onDataUpdate:function(a){this.setState({productPrice:b("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(a,this.state.currencyCode)})}.bind(this),placeholder:i._("Enter price"),value:c!==null?c:0,xuiError:this.state.hasAttemptedSave?this._getPriceError(this.state.productPrice):null});this.props.currencyCode||(a=b("React").createElement("div",null,b("React").createElement("div",{className:"_4tjr"},b("React").createElement(b("CommerceCurrencySelector.react"),{onChange:function(a){return this.setState({currencyCode:a.value})}.bind(this),selectedCurrency:this.state.currencyCode})),b("React").createElement("div",{className:"_4tke"},a)))}else a=b("React").createElement("div",{className:"_4o5u"},b("React").createElement(b("XUIGrayText.react"),{className:"_4o5v",shade:"light",size:"header4"},this._getVariantsPriceRange("price")),b("React").createElement(b("Link.react"),{className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:v.variant})}.bind(this),size:"small"},i._("Edit")));c=null;if(this.state.isOnSale){if(this.state.variants.length===0){var d=b("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(this.state.productSalePrice,this.state.currencyCode);d=b("React").createElement(b("AdsCurrencyInput_DEPRECATED.react"),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:!0,nonnegative:!0,onDataUpdate:function(a){this.setState({productSalePrice:b("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(a,this.state.currencyCode)})}.bind(this),placeholder:i._("Enter price"),value:d!==null?d:0,xuiError:this.state.hasAttemptedSave?this._getSalePriceError(this.state.productSalePrice):null})}else d=b("React").createElement("div",{className:"_4o5u"},b("React").createElement(b("XUIGrayText.react"),{className:"_4o5v",shade:"light",size:"header4"},this._getVariantsPriceRange("salePrice")),b("React").createElement(b("Link.react"),{className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:v.variant})}.bind(this),size:"small"},i._("Edit")));c=b("React").createElement("div",{className:"_4o5t"},b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Sale price")),d)}d=this.state.hasAttemptedSave?this._getProductDescriptionError(this.state.productDesc):null;return b("React").createElement("div",{className:"_2pin"},this._getNameInput(),b("React").createElement("div",{className:this.state.isOnSale?"_4o5s":""},b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Price")),a),c,b("React").createElement("div",{className:"clearfix"}),this._getSaleToggleSwitch(),b("React").createElement(b("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Description")),b("React").createElement(b("XUIError.react"),{xuiError:d},b("React").createElement("textarea",{className:"_3jm _2ph-",disabled:this.state.loading,name:"productDescription",onChange:function(a){return this.setState({productDesc:a.target.value})}.bind(this),rows:m,value:this.state.productDesc})),this._getCategoryInput(),this._getCustomizationOptionsInputs())},_onCustomizationsChange:function(a){this.setState({customizations:a})},_getCustomizationOptionsInputs:function(){if(!this.props.isCustomGoodsEnabled)return null;var a=this.state.isCustomizable?b("React").createElement(b("PageProductComposerCustomizationOptionsInputs.react"),{customizations:this.state.customizations,isDisabled:this.state.loading,onCustomizationsChange:this._onCustomizationsChange}):null;return b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.isCustomizable,disabled:this.state.loading,onToggle:this._handleCustomizableToggleChange}),b("React").createElement("span",{className:"_3jn"},i._("This product is customisable"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Show people that this product can be customised by adding customisations that can be made to the product."),position:"below",theme:b("SUIBusinessTheme")})),a)},_handleCustomizableToggleChange:function(a){this.setState(function(c){return{isCustomizable:a,customizations:a?c.customizations.push({prompt:"",type:b("CustomizationTypes").TEXT}):c.customizations.clear()}})},_getNameInput:function(){var a=this.getFieldErrorMessage(b("XCommerceSelfServeParam").PRODUCT_TITLE)||(this.state.hasAttemptedSave?this._getProductTitleError(this.state.productTitle):null);return b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-94",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Name")),b("React").createElement(b("XUITextInput.react"),{className:"_2mfs",disabled:this.state.loading,height:"tall",maxLength:n,name:"productTitle",onChange:function(a){return this.setState({productTitle:a.target.value})}.bind(this),value:this.state.productTitle,xuiError:a}))},_getVariantsPriceRange:function(a){__p&&__p();var c=Number.MAX_VALUE,d=Number.MIN_VALUE;for(var e in this.state.variantItems){var f=this.state.variantItems[e];f[a]<c&&(c=f[a]);f[a]>d&&(d=f[a])}f=this.state.currencyCode;if(c===d)return b("PECurrency").formatAmount(f,c,!0,!1,!1);else return b("PECurrency").formatAmount(f,c,!0,!1,!1)+" - "+b("PECurrency").formatAmount(f,d,!0,!1,!1)},_getTaxCategorySelector:function(){if(!this._showSection(b("CommerceSelfServeSection").TAX_CATEGORY)||this.state.isEGiftCard)return null;var a=this.state.taxCategory||b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS;a===b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD&&(a=b("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION);return b("React").createElement(b("PageProductComposerTaxCategorySelector.react"),{isManagedNmorShop:this.props.isManagedNmorShop,onTaxCategoryChange:this._handleTaxCategoryChange,settingsURI:this.props.productID?null:this._getMerchantSettingsURI(),taxCategory:a})},_getVisibilitySelector:function(){return!this._showSection(b("CommerceSelfServeSection").PRODUCT_VISIBILITY)?null:b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-94 _3-8x",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Visibility")),b("React").createElement(b("ProductVisibilitySelector.react"),{density:"snug",onChange:function(a){return this.setState({productVisibility:a})}.bind(this),value:this.state.productVisibility}))},_getInventoryInput:function(){var a=null;a=this._getInventoryNumberInput()!==null?this._getInventoryNumberInput():this._getInventoryStockToggle();return a===null?null:b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{className:"_3-94 _3-8x",display:"block",shade:"dark",size:"meta1",weight:"bold"},i._("Inventory")),a)},_getInventoryNumberInput:function(){__p&&__p();if(!this._showSection(b("CommerceSelfServeSection").INVENTORY))return null;var a;if(this.state.variants.length===0)a=b("React").createElement(b("FBNumberInput.react"),{className:"_3jm _2ph-",defaultValue:0,disabled:this.state.loading,name:"productInventory",nonnegative:!0,onValueChange:this._updateInventory,value:this.state.inventory});else{var c=0;for(var d in this.state.variantItems)c+=this.state.variantItems[d].inventory;a=b("React").createElement("div",{className:"_4o5u"},b("React").createElement("div",{className:"_4o5v"},b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"header4"},c)),b("React").createElement(b("Link.react"),{className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:v.variant})}.bind(this),size:"small"},i._("Edit inventory")))}return a},_updateInventory:function(a){this.setState({inventory:a})},_getInventoryStockToggle:function(){__p&&__p();if(!this._showSection(b("CommerceSelfServeSection").IN_STOCK_TOGGLE))return null;var a;if(this.state.variants.length===0)a=b("React").createElement(b("CommerceInventoryToggle.react"),{disabled:this.state.loading,inventory:this.state.inventory,setInventoryInfo:function(a){this.setState({inventory:a?b("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK:b("CommerceInventoryAvailabilityOptions").INVENTORY_OUT_OF_STOCK})}.bind(this)});else{var c=0;for(var d in this.state.variantItems)c+=this.state.variantItems[d].inventory;a=b("React").createElement("div",null,b("React").createElement(b("CommerceInventoryToggle.react"),{disabled:!0,inventory:c}),b("React").createElement("div",{className:"_4ul8"},b("React").createElement(b("Link.react"),{onClick:function(){return this.setState({currentPage:v.variant})}.bind(this),size:"small"},i._("Edit option inventory"))))}return a},_getReturnPolicySection:function(){if(!this._showSection(b("CommerceSelfServeSection").RETURN_POLICY)||this.state.isEGiftCard)return null;var a=this.props.isFinalSaleEnabled&&this.state.isFinalSale?u:this.state.returnPolicyTime;return b("React").createElement(b("PageProductComposerReturnPolicy.react"),{isDisabled:this.state.loading,isFinalSaleEnabled:this.props.isFinalSaleEnabled,onReturnPolicyTimeChange:this._onReturnPolicyTimeChange,selectedReturnPolicyTime:a,settingsURI:this.props.productID?null:this._getMerchantSettingsURI()})},_getSaleToggleSwitch:function(){return!this._showSection(b("CommerceSelfServeSection").SALE_PRICE)?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.isOnSale,disabled:this.state.loading,onToggle:function(a){return this.setState({isOnSale:a})}.bind(this)}),b("React").createElement("span",{className:"_3jn"},i._("This product is on sale"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Show people that you're selling this product at a discount by setting a sale price in addition to the regular price."),contentWidthUseSparingly:318,position:"below",theme:b("SUIBusinessTheme")})))},_getShippingToggleSwitch:function(){return!b("gkx")("678720")?null:b("React").createElement("div",{className:"_3-8x"},b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.isEGiftCard,disabled:this.state.loading,onToggle:this._handleIsEGiftCardToggleChange}),b("React").createElement("span",{className:"_3jn"},i._("This product is an e-gift card"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Turn this on if your item is an e-gift card and does not require delivery."),position:"below",theme:b("SUIBusinessTheme")})))},_handleIsEGiftCardToggleChange:function(a){this.setState({isEGiftCard:a})},_getShippingOptionsSection:function(){__p&&__p();if(!this._showSection(b("CommerceSelfServeSection").SHIPPING_OPTIONS)||this.state.isEGiftCard)return null;if(this.props.isManagedNmorShop){var a;if((a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?a.isTieredShippingEnabled:a:a:a){a=this._getShippingOptionsError();return b("React").createElement(b("PageProductComposerTieredShippingOptions.react"),{error:a,page:this.props.page,settingsURI:this.props.productID?null:this._getMerchantSettingsURI()})}return b("React").createElement(b("PageProductComposerShopLevelShippingOptions.react"),{page:this.props.page,settingsURI:this.props.productID?null:this._getMerchantSettingsURI()})}return b("React").createElement(b("PageProductComposerShippingOptions.react"),{currencyCode:this.state.currencyCode,disabled:this.state.loading,onShippingOptionsChange:function(a){return this.setState({shippingOptions:a})}.bind(this),settingsURI:this.props.productID?null:this._getMerchantSettingsURI(),shippingOptions:this.state.shippingOptions})},_getShareToTimelineToggle:function(){if(this.props.productID||!this.props.showShareToTimelineToggle)return null;var a=null;this.state.shareToTimeline&&(a=b("React").createElement("div",{className:"_4lw_"},i._("Your product will be shared on your Page as soon as it's been approved.")));return b("React").createElement("div",null,b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.shareToTimeline,disabled:this.state.loading,onToggle:function(a){return this.setState({shareToTimeline:a})}.bind(this)}),b("React").createElement("span",{className:"_3jn"},i._("Share this product on your Page"),b("React").createElement(b("SUISimplePopover.react"),{content:i._("Automatically post this product to your Page's timeline as soon as it's been approved."),contentWidthUseSparingly:318,position:"above",theme:b("SUIBusinessTheme")})),a)},_unpackTaxRates:function(){var a=[],b={},c={};for(var d in this.state.taxRates){var e=this.state.taxRates[d];for(var f in e)a[a.length]=f,b[f]=e[f].tax_rate,c[f]=e[f].is_applied_to_shipping}return{tax_locations:a,tax_percent_map:b,tax_applied_to_shipping_map:c}},_getFeaturedToggleSwitch:function(){return!this._showSection(b("CommerceSelfServeSection").FEATURED_PRODUCT_TOGGLE)?null:b("React").createElement("div",{className:"_3-95"},b("React").createElement(b("FBToggleSwitch.react"),{animate:!0,checked:this.state.featuredProduct,disabled:this.state.loading||this._isFeatureProductToggleDisabled(),onToggle:this._handleFeatureProductToggleChange}),b("React").createElement("span",{className:"_3jn"},i._("Feature this product"),b("React").createElement(b("SUISimplePopover.react"),{content:this._getHelpText(),contentWidthUseSparingly:318,position:"above",theme:b("SUIBusinessTheme")})))},_handleFeatureProductToggleChange:function(a){var b=a?this.state.featuredCount+1:this.state.featuredCount-1;this.setState({featuredProduct:a,featuredCount:b})},_isFeatureProductToggleDisabled:function(){return!this.state.featuredProduct&&this.state.featuredCount>=b("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT},_getHelpText:function(){return this._isFeatureProductToggleDisabled()?i._({"*":"You've already chosen {Maximum number of products that can be featured} to feature. Stop featuring one of your currently selected products to feature this one instead."},[i._param("Maximum number of products that can be featured",b("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT,[0])]):i._({"*":"Featured products appear at the top of your Page and are listed first in your shop. You can feature up to {Maximum number of products that can be featured} products."},[i._param("Maximum number of products that can be featured",b("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT,[0])])},_getTitle:function(){if(this.state.currentPage===v.variant)return i._("Edit options");return this.props.productID?i._("Edit product"):i._("Add product")},_getSaveButtonText:function(){return i._("Save")},_onProductDetailsFetched:function(a){a=a.payload;var c=a.visibility_notice===null?null:a.visibility_notice.markup;for(var d=0;d<a.videos.length;d++)a.videos[d].ready=!0,a.videos[d].error=!1;d=a.price;var e=a.sale_price,f=a.delivery_method===b("ProductDeliveryMethod").REDEMPTION_CODE,g=a.customizations||[];d={categoryID:a.commerce_category_id,checkoutURL:a.checkout_url,currentTabKey:w.edit,currentPage:v.main,customizations:b("immutable").List(g),dialogShown:!0,productTitle:a.name,productDesc:a.description,productPrice:d,productSalePrice:e,productVisibility:a.visibility,photos:a.images,videos:a.videos,featuredProduct:a.featured_product,inventory:a.inventory,returnPolicyTime:a.return_policy_time,isFinalSale:a.is_final_sale,shippingOptions:a.shipping_options,taxCategory:a.tax_category,showVariants:a.show_variants,visibilityNotice:c,loading:!1,featuredCount:a.featured_count,taxRates:a.tax_rates,isEGiftCard:f,isCustomizable:g.length>0};this._reviewedProductData=this._getReviewableDataFromState(babelHelpers["extends"]({},this.state,d));this.setState(d)},_reviewedProductData:{},_getReviewableDataFromState:function(a){var b=a.checkoutURL,c=a.productTitle,d=a.productDesc,e=a.photos,f=a.videos;a=a.variants;return this._deepClone({checkoutURL:b,productTitle:c,productDesc:d,photos:e,videos:f,variants:a})},_logEvent:function(a){var c=this.props.productID?{target_class:"EntProductItem",target_id:this.props.productID}:null;b("BOFSellerLogger").log(a,this.props.pageID,babelHelpers["extends"]({source:this.props.source},c))},_onToggleDialog:function(a){this.setState({dialogShown:a});if(a)return;this.props.onClose&&this.props.onClose();a=this.props.productID?b("BOFSellerLoggerEvent").ACTN_CANCEL_EDIT_PRODUCT:b("BOFSellerLoggerEvent").ACTN_CANCEL_ADD_PRODUCT;this._logEvent(a)},_getPriceError:function(a){var c=this._getMinimumPrice(),d=null;if(this._showSection(b("CommerceSelfServeSection").MINIMUM_PRICE_ERROR)&&(!a||a<c)){c=b("PECurrency").formatAmount(this.state.currencyCode,c,!0,!1,!1);d=i._("Price must be at least {Minimum Product Price}",[i._param("Minimum Product Price",c)])}else(a==null||a<0)&&(d=i._("A non-negative price is required"));return d},_getSalePriceError:function(a){a=this._getPriceError(a);!a&&this.state.productPrice<=this.state.productSalePrice&&(a=i._("The sale price must be lower than the regular price"));return a},_getMinimumPrice:function(){var a=p;if(this.state.currencyCode!=="USD"){var c=b("Currency").getOffset(this.state.currencyCode);a=c===t?r:q}return a},_getCheckoutURLError:function(a){var b=null;a===""&&(b=i._("Missing checkout URL: This product must have a valid URL, such as \"http:\/\/www.example.com\""));return b},_getPhotosError:function(a){a=null;this.state.photos.length===0&&(a=i._("Add at least one photo of this product"));return a},_getProductTitleError:function(a){var b=null;a===""&&(b=i._("This is a required field"));return b},_getShippingOptionsError:function(){var a;a=(a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?(a=a.shippingProfile)!=null?a.id:a:a:a:a;return!this.state.hasAttemptedSave||!!a?null:i._("Please add at least one delivery option.")},_getEditWarning:function(){if(!this.props.productID||this.state.visibilityNotice)return null;return b("areEqual")(this._reviewedProductData,this._getReviewableDataFromState(this.state))?null:b("React").createElement(b("XUINotice.react"),{className:"_3-8y",size:"small"},i._("This product has been approved and is visible to anyone who visits your shop. If you edit this product, we'll review any changes before they're made publicly visible."))},_getProductDescriptionError:function(a){var b=null;this.props.requireDescription&&a.trim()===""&&(b=i._("This is a required field"));return b},_handleTabChange:function(a){this.setState({currentTabKey:a})},_handleTaxCategoryChange:function(a){this.setState({taxCategory:a.value})},_validatePrices:function(){__p&&__p();var a=this.state.variants,b=this.state.variantItems;if(!a||a.length===0){if(this._getPriceError(this.state.productPrice)||this.state.isOnSale&&this._getSalePriceError(this.state.productSalePrice)){this._navigateToTab(w.edit);return!1}return!0}for(var c in this.state.variantItems){a=this._getMinimumPrice();if(b[c].price<a||this.state.isOnSale&&this.state.variantItems[c].salePrice<a){this._navigateToTab(v.variant);return!1}}return!0},_validateVariants:function(){return!this._getVariantsError()},_getVariantsError:function(){var a=this.state.variants;if(!a||a.length===0)return null;a=a.map(function(a){return a.options});for(var b=0;b<a.length;b++)if(a[b].length<=1)return i._("If you add inventory options for your product (i.e. size, colour, material), you need to include more than one. If you only offer one option, remove it as an inventory type and add it to the product description.");return null},_validateCheckoutURL:function(){return!this._showSection(b("CommerceSelfServeSection").CHECKOUT_URL)?!0:!this._getCheckoutURLError(this.state.checkoutURL)},_validatePhotos:function(){return!this._getPhotosError(this.state.photos)},_validateProductTitle:function(){return!this._getProductTitleError(this.state.productTitle)},_validateShippingOptions:function(){return!this.props.isManagedNmorShop||!this._getShippingOptionsError()},_onSubmitButtonClicked:function(){this.setState({saving:!0,hasAttemptedSave:!0},function(){var a;if(!this._validatePrices()||!this._validateCheckoutURL()||!this._validatePhotos()||!this._validateProductTitle()||!this._validateVariants()||!this._validateShippingOptions()){this.setState({saving:!1});return}this.props.isManagedNmorShop&&b("gkx")("678721")&&!((a=this.props)!=null?(a=a.page)!=null?(a=a.settings)!=null?a.supportContactsConfirmed:a:a:a)?this._openContactInfoSetUpDialog():this._saveData()}.bind(this))},_onContactInfoDialogCompleted:function(){this.setState({dialogShown:!0}),this._saveData()},_onContactInfoDialogCancelled:function(){this._navigateToShopSection()},_saveData:function(){__p&&__p();var a=[];this.state.photos.forEach(function(b){a.push(b.fbid)});var c=[];this.state.videos.forEach(function(a){a.ready&&!a.error&&c.push(a.fbid)});var d=this.state.shippingOptions.filter(function(a){return a.shipping_service&&!!a.shipping_service.trim()});this.setState({shippingOptions:d});var e=[],f=[];d.forEach(function(a){e.push(a.shipping_service),f.push(Math.round(a.shipping_price_value))});d=this._unpackTaxRates();var g=this.state.variants,h=g.map(function(a){return a.label});g=g.map(function(a){return a.options});var i=this.state.variantItems,j={},k={},l={},m={},n={};for(var o in i){var p=i[o];j[o]=p.inventory;k[o]=p.price;l[o]=p.salePrice;m[o]=JSON.stringify(p.properties);n[o]=p.productID}p=b("ProductDeliveryMethod").SHIPPING;this.state.isEGiftCard&&(p=b("ProductDeliveryMethod").REDEMPTION_CODE);i={};i.source=this.props.source;i[b("XCommerceSelfServeParam").PRODUCT_TITLE]=this.state.productTitle;i[b("XCommerceSelfServeParam").PRODUCT_DESCRIPTION]=this.state.productDesc;i[b("XCommerceSelfServeParam").PRODUCT_PRICE]=this.state.productPrice;i[b("XCommerceSelfServeParam").PRODUCT_SALE_PRICE]=this.state.productSalePrice;i[b("XCommerceSelfServeParam").IS_ON_SALE]=this.state.isOnSale;i[b("XCommerceSelfServeParam").DELIVERY_METHOD]=p;i[b("XCommerceSelfServeParam").COLLECTION_ID]=this.props.collectionID;i[b("XCommerceSelfServeParam").CATEGORY_ID]=this.state.categoryID;i[b("XCommerceSelfServeParam").CURRENCY_CODE]=this.state.currencyCode;i[b("XCommerceSelfServeParam").PRODUCT_PHOTO_IDS]=a;i[b("XCommerceSelfServeParam").PRODUCT_VIDEO_IDS]=c;i[b("XCommerceSelfServeParam").PRODUCT_CATALOG_ID]=this.props.productCatalogID;i[b("XCommerceSelfServeParam").PRODUCT_ID]=this.props.productID;i[b("XCommerceSelfServeParam").FEATURED_PRODUCT]=this.state.featuredProduct;i[b("XCommerceSelfServeParam").SHARE_TO_TIMELINE]=this.props.showShareToTimelineToggle&&this.state.shareToTimeline;i[b("XCommerceSelfServeParam").INVENTORY]=this.state.inventory;i[b("XCommerceSelfServeParam").SHIPPING_OPTION_NAMES]=e;i[b("XCommerceSelfServeParam").SHIPPING_OPTION_VALUES]=f;i[b("XCommerceSelfServeParam").IS_FINAL_SALE]=this.state.isFinalSale;i[b("XCommerceSelfServeParam").RETURN_POLICY_TIME]=this.state.returnPolicyTime;i[b("XCommerceSelfServeParam").TAX_CATEGORY]=this.state.taxCategory;i[b("XCommerceSelfServeParam").TAX_LOCATIONS]=d.tax_locations;i[b("XCommerceSelfServeParam").TAX_APPLIED_TO_SHIPPING_MAP]=d.tax_applied_to_shipping_map;i[b("XCommerceSelfServeParam").TAX_PERCENT_MAP]=d.tax_percent_map;i[b("XCommerceSelfServeParam").VARIANT_NAMES]=h;i[b("XCommerceSelfServeParam").VARIANT_INVENTORY]=j;i[b("XCommerceSelfServeParam").VARIANT_PRICE]=k;i[b("XCommerceSelfServeParam").VARIANT_SALE_PRICE]=l;i[b("XCommerceSelfServeParam").VARIANT_DATA]=m;i[b("XCommerceSelfServeParam").VARIANT_PRODUCT_ID]=n;i[b("XCommerceSelfServeParam").VISIBILITY]=this.state.productVisibility;i[b("XCommerceSelfServeParam").CHECKOUT_URL]=this.state.checkoutURL;i[b("XCommerceSelfServeParam").ACCEPTED_TOS]=this.props.showTOS;i[b("XCommerceSelfServeParam").SOURCE_POST_ID]=this.props.postID;for(var p=0;p<g.length;p++)i["variant"+p+"_options"]=g[p];d=this.state.customizations.toJS().map(function(a){return JSON.stringify(a)});i[b("XCommerceSelfServeParam").IS_CUSTOMIZATION_DATA_PRESENT]=!0;i[b("XCommerceSelfServeParam").CUSTOMIZATION_DATA]=d;h=b("ActorURI").create(b("XPagesManagerProductCreateController").getURIBuilder().getURI(),this.props.pageID);this.sendAsync(h,i,this._onProductUpdated,function(){return this.setState({saving:!1})}.bind(this));this.props.source===b("BOFSellerLoggingSources").NLU_BANNER&&this._navigateToShopSection()},_navigateToShopSection:function(){var a=b("XPagesProfileShopController").getURIBuilder().setString("page_token",this.props.pageID).getURI();b("goURI")(a)},_navigateToTab:function(a){switch(a){case v.variant:this.setState({currentPage:v.variant});break;case w.edit:this.setState({currentTabKey:w.edit});break;case w.advanced:this.setState({currentTabKey:w.advanced});break}},_onChangeTaxRates:function(a){this.setState({taxRates:a})},_onProductUpdated:function(a){this.setState({saving:!1,dialogShown:!1}),this.props.productID?b("PageContentTabDispatcher").handlePostChanged(a.payload):(this.props.onProductCreated&&this.props.onProductCreated(a.payload),b("PageContentTabDispatcher").handlePostCreated(j.COMMERCE_PRODUCTS,a.payload,this.props.pageID)),a.payload.show_creation_nux?b("ReactDOM").render(b("React").createElement(b("PageProductReviewNUX.react"),{onDialogClosed:function(){this.props.onProductChanged&&this.props.onProductChanged(a.payload)}.bind(this)}),b("DOM").create("div")):this.props.onProductChanged&&this.props.onProductChanged(a.payload),b("ReactDOM").unmountComponentAtNode(b("ReactDOM").findDOMNode(this).parentNode)},_openContactInfoSetUpDialog:function(){b("ReactDOM").render(b("React").createElement(b("ShopOnboardingSupportContactsSetupDialogContainer.react"),{onCancelled:this._onContactInfoDialogCancelled,onCompleted:this._onContactInfoDialogCompleted,onDialogLoaded:this._hideTemporarily,pageID:this.props.pageID}),b("DOM").create("div"))},_onReturnPolicyTimeChange:function(a){this.setState({isFinalSale:a.value===u,returnPolicyTime:a.value})},render:function(){if(!this.state.dialogShown)return null;var a=[];this.hasFieldErrors()&&a.push(i._("Your product can't be saved as is. Please check the product information, options and advanced options and try again."));this.hasGeneralError()?a.push(this.getGeneralErrorMessage()):this.state.hasAttemptedSave&&this._getVariantsError()&&a.push(this._getVariantsError());var c=null;a.length>0&&(c=b("React").createElement("div",{className:"_2pib _2piq"},this.renderErrorMessages(a)));return b("React").createElement(b("XUIDialog.react"),{causalElementRef:function(){return this.refs.createButton}.bind(this),key:"dialog",label:"Add Product",onToggle:this._onToggleDialog,shown:this.state.dialogShown,width:l},this._getDialogHeader(),b("React").createElement(b("XUIDialogBody.react"),{useCustomPadding:!0},this._getInnerContent()),c,this._getDialogFooter())},_showSection:function(a){return this.props.sections.indexOf(a)>=0}});e.exports=a(d,{page:function(){return b("PageProductComposerDialog_page.graphql")}})}),null);
__d("XCommerceProductDialogLoaderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/product_composer_dialog/loader/",{page_id:{type:"Int",required:!0}})}),null);
__d("PageProductComposerDialogLoader.react",["AsyncRequest","BOFSellerLoggingSources","LoadingDialog.react","PageProductComposerDialog.react","React","RelayFBEnvironment","RelayModern","XCommerceProductDialogLoaderController","XCommerceSelfServeParam","getOwnObjectValues","PageProductComposerDialogLoaderQuery.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("RelayModern").QueryRenderer;b("RelayModern").graphql;a=b("React").PropTypes;var i=440;c=b("React").createClass({displayName:"PageProductComposerDialogLoader",propTypes:{collectionID:a.string,pageID:a.string.isRequired,postID:a.string,prefillConfig:a.shape({currencyCode:a.string.isRequired,description:a.string.isRequired,photos:a.array.isRequired,price:a.number.isRequired,title:a.string.isRequired}),productGroupID:a.string,productID:a.string,source:a.oneOf(b("getOwnObjectValues")(b("BOFSellerLoggingSources"))).isRequired,onClose:a.func,onProductChanged:a.func,onProductCreated:a.func,onProductDeleted:a.func},getInitialState:function(){return{loading:!0}},UNSAFE_componentWillMount:function(){this._fetchPageDetails(this.props.pageID)},_fetchPageDetails:function(a){a=b("XCommerceProductDialogLoaderController").getURIBuilder().setInt(b("XCommerceSelfServeParam").PAGE_ID,a).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(this._onPageDetailsFetched).send()},_onPageDetailsFetched:function(a){a=a.payload;this.setState({categories:a.categories,currencyCode:a.currency_code,defaultReturnPolicyTime:a.default_return_policy,defaultShippingOptions:a.default_shipping_options,isCustomGoodsEnabled:a.is_custom_goods_enabled,isFinalSaleEnabled:a.is_final_sale_enabled,isManagedNmorShop:a.is_managed_nmor_shop,hasValidTOS:a.has_valid_tos,loading:!1,pageContentTabAccessToken:a.page_content_tab_access_token,pageHasShop:a.page_has_shop,productCatalogID:a.product_catalog_id,requireDescription:a.require_description,sections:a.sections,shouldCreateShopFromProduct:a.should_create_shop_from_product,showVideoUploadButton:a.show_video_upload_button,tosURI:a.tos_uri})},render:function(){var a=b("React").createElement(b("LoadingDialog.react"),{shown:!0,width:i});return this.state.loading?a:b("React").createElement(h,{environment:b("RelayFBEnvironment"),query:g||(g=function(){return b("PageProductComposerDialogLoaderQuery.graphql")}),render:function(c){c.error;c=c.props;return!c?a:b("React").createElement(b("PageProductComposerDialog.react"),babelHelpers["extends"]({categories:this.state.categories,collectionID:this.props.collectionID,currencyCode:this.state.currencyCode,defaultReturnPolicyTime:this.state.defaultReturnPolicyTime,defaultShippingOptions:this.state.defaultShippingOptions,isCustomGoodsEnabled:this.state.isCustomGoodsEnabled,isFinalSaleEnabled:this.state.isFinalSaleEnabled,isManagedNmorShop:this.state.isManagedNmorShop,onClose:this.props.onClose,onProductChanged:this.props.onProductChanged,onProductCreated:this.props.onProductCreated,onProductDeleted:this.props.onProductDeleted,pageContentTabAccessToken:this.state.pageContentTabAccessToken,pageHasShop:this.state.pageHasShop,pageID:this.props.pageID,postID:this.props.postID,prefillConfig:this.props.prefillConfig,productCatalogID:this.state.productCatalogID,productGroupID:this.props.productGroupID,productID:this.props.productID,requireDescription:this.state.requireDescription,sections:this.state.sections,shouldCreateShopFromProduct:this.state.shouldCreateShopFromProduct,showShareToTimelineToggle:this.state.pageHasShop,showTOS:!this.state.hasValidTOS,showVideoUploadButton:this.state.showVideoUploadButton,shownInitially:!0,source:this.props.source,tosURI:this.state.tosURI},c))}.bind(this),variables:{pageID:this.props.pageID}})}});e.exports=c}),null);