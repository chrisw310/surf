if (self.CavalryLogger) { CavalryLogger.start_js(["fPydT"]); }

__d("AdsAPIAdAssetCallToActionFields",[],(function(a,b,c,d,e,f){e.exports={ID:"id",VALUE:"value",TYPE:"type",ADLABELS:"adlabels"}}),null);
__d("AdsAdgroupOptimisticAdPreviewErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWERRROR");e.exports=a}),null);
__d("AdsAdgroupOptimisticAdPreviewErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdgroupPreview.LOAD.OPTIMISTICADPREVIEWERRROR";e.exports={actionType:a}}),null);
__d("AdsAdgroupOptimisticAdPreviewSkippedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWSKIPPED");e.exports=a}),null);
__d("AdsAdgroupOptimisticAdPreviewSkippedActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdgroupPreview.LOAD.OPTIMISTICADPREVIEWSKIPPED";e.exports={actionType:a}}),null);
__d("AdsAdgroupOptimisticAdPreviewSuccessAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.OPTIMISTICADPREVIEWSUCCESS");e.exports=a}),null);
__d("AdsAdgroupOptimisticAdPreviewSuccessActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdgroupPreview.LOAD.OPTIMISTICADPREVIEWSUCCESS";e.exports={actionType:a}}),null);
__d("AdsAdgroupPreviewLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.ERROR");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadFinishedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.FINISHED");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadFinishedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdgroupPreview.LOAD.FINISHED";e.exports={actionType:a}}),null);
__d("AdsAdgroupPreviewLoadStartDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.START");e.exports=a}),null);
__d("AdsAdgroupPreviewLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.LOAD.SUCCESS");e.exports=a}),null);
__d("AdsAdgroupPreviewSelectedPreviewLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdgroupPreview.SELECTED_PREVIEW_LOADED");e.exports=a}),null);
__d("AdsAdgroupPreviewSwitchToFormatReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){b=a.get("formatIndexMap").set(b.data.adgroupIndex,b.data.formatIndex);return a.merge({formatIndexMap:b})}};e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UIRecord",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({adgroupIndex:0,formatIndexMap:b("immutable").Map([]),dynamicItemIndexMap:b("immutable").Map([]),previewComponentDisplaySettings:b("immutable").Map([]),previewFormatMap:b("immutable").Map([]),previewRenderTypeMap:b("immutable").Map([])});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UIDataProviderPlugin",["AdsAdgroupPreviewsV2UIRecord"],(function(a,b,c,d,e,f){"use strict";a=function(){return new(b("AdsAdgroupPreviewsV2UIRecord"))()};c={initialState:a()};e.exports=c}),null);
__d("AdsAdgroupPreviewsV2UIDataProvider",["AdsAdgroupPreviewsV2UIDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAdgroupPreviewsV2UIDataProviderPlugin"),"AdsAdgroupPreviewsV2UIDataProviderPlugin")}),null);
__d("AdsAdgroupPreviewSwitchToFormatDataAction",["Laminar","AdsAdgroupPreviewSwitchToFormatReducerPlugin","AdsAdgroupPreviewsV2UIDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAdgroupPreviewSwitchToFormatReducerPlugin"),b("AdsAdgroupPreviewsV2UIDataProvider"),{})]},function(){return[]},"AdgroupPreview.SWITCH_TO_FORMAT");e.exports=a}),null);
__d("AdsAdgroupPreviewSwitchToFormatDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdgroupPreview.SWITCH_TO_FORMAT";e.exports={actionType:a}}),null);
__d("AdsCanvasSetTemplateVideoPreviewReadyReducerPlugin",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return a.set(c.elementID,b("LoadObject").withValue(!0))}};e.exports=a}),null);
__d("AdsCanvasTemplateVideoPreviewProviderPlugin",["AdsCanvasElementDataLoader","LoadObjectMap","LoadObjectOperations","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){a(function(a){return a.merge(Array.from(b.templateVideoElementIDs).map(function(c){return[c,a.get(c).setOperation(b.operation)]}))})}a={initialState:function(a){return b("LoadObjectMap").create(function(c){g(a,{templateVideoElementIDs:c,operation:b("LoadObjectOperations").LOADING}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(c,function(a){return b("AdsCanvasElementDataLoader").getTemplateVideoElement(a).then(function(a){return a.preview_ready})}),function(b){a(function(a){return a.merge(b)})})})}};e.exports=a}),null);
__d("AdsCanvasTemplateVideoPreviewProvider",["AdsCanvasTemplateVideoPreviewProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCanvasTemplateVideoPreviewProviderPlugin"),"AdsCanvasTemplateVideoPreviewProviderPlugin")}),null);
__d("AdsCanvasSetTemplateVideoPreviewReadyAction",["Laminar","AdsCanvasSetTemplateVideoPreviewReadyReducerPlugin","AdsCanvasTemplateVideoPreviewProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsCanvasSetTemplateVideoPreviewReadyReducerPlugin"),b("AdsCanvasTemplateVideoPreviewProvider"),{})]},function(){return[]},"AdsCanvasSetTemplateVideoPreviewReadyActionPlugin");e.exports=a}),null);
__d("AdsCanvasSetTemplateVideoPreviewReadyActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="AdsCanvasSetTemplateVideoPreviewReadyActionPlugin";e.exports={actionType:a}}),null);
__d("AdsCanvasUnpublishedDocUpdatedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="CANVAS.UNPUBLISHED_DOC_UPDATED";e.exports={actionType:a}}),null);
__d("AdsCarteAccordionDataProvider",["AdsCarteAccordionDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCarteAccordionDataProviderPlugin"),"AdsCarteAccordionDataProviderPlugin")}),null);
__d("AdsBugReportUploader.react",["cx","fbt","AdsBugReportConfigSwitch","FileInput.react","FileInputUploader","List.react","React","SUIBusinessTheme","SUIButton.react","SUICloseButton.react","SUIText.react","getOwnObjectValues","objectEntries"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;var j=b("AdsBugReportConfigSwitch").module;d=b("getOwnObjectValues")(j.products);var k={FAILURE:"failure",REMOVED:"removed",SUCCESS:"success",UPLOADING:"progress"};function l(a){switch(a.status){case k.SUCCESS:return h._("(Upload complete)");case k.UPLOADING:a=a.bytesLoaded/a.size*100;return h._("({percentage_uploaded}\u0025 Uploaded)",[h._param("percentage_uploaded",a.toFixed(2))]);case k.FAILURE:return h._("(Upload failed)");default:return null}}function m(a,b,c){return function(){var d=babelHelpers["extends"]({},a);d[b].status=k.REMOVED;c(d)}}function n(a){var c=a.attachedFiles,d=a.onFileListChange;a=b("objectEntries")(c).filter(function(a){a[0];a=a[1];return a.status!==k.REMOVED}).map(function(a){var e=a[0];a=a[1];return b("React").createElement("li",{key:e},b("React").createElement(b("SUICloseButton.react"),{id:e,theme:b("SUIBusinessTheme"),onClick:m(c,e,d)}),b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},a.name," ",l(a)))});return a.length?b("React").createElement(b("List.react"),{border:"none",className:"_3-8x",spacing:"none"},a):null}f=babelHelpers.inherits(a,b("React").PureComponent);i=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$4=function(a,b){__p&&__p();var c=b.upload.getFile().lastModified,d={};Object.assign(d,this.props.attachedFiles);if(d[c]&&d[c].status===k.REMOVED){b.upload.abort();return}switch(a){case k.SUCCESS:d[c].status=k.SUCCESS;d[c].handle=b.response.payload.meta;break;case k.FAILURE:d[c].status=k.FAILURE;break;case k.UPLOADING:d[c]||(d[c]={status:k.UPLOADING,name:b.upload.getFile().name,size:b.event.total});d[c].bytesLoaded=b.event.loaded;break}this.props.onFileListChange(d)}.bind(this),this.$3=function(a){a=a.target;a=new(b("FileInputUploader"))(a).setURI("/ajax/file_handle/upload.php");a.subscribe("success",this.$4);a.subscribe("failure",this.$4);a.subscribe("progress",this.$4);a.setUploadInParallel(!0);a.send()}.bind(this),c}a.prototype.render=function(){if(this.props.product!==j.products.ADS_CREATOR&&this.props.product!==j.products.ADS_MANAGER&&this.props.product!==j.products.POWER_EDITOR&&this.props.product!==j.products.CAMPAIGN_MANAGER&&this.props.product!==j.products.CREATIVE_STUDIO&&this.props.product!==j.products.BUSINESS_SITE)return null;var a=h._("Upload"),c=this.props.showLabel?b("React").createElement("div",{className:"_3-96"},b("React").createElement(b("SUIText.react"),{size:"medium_DEPRECATED",theme:b("SUIBusinessTheme"),weight:"bold"},this.$1())," ",b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("(Optional)")),b("React").createElement(b("SUIText.react"),{display:"block",shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},this.$2())):null;return b("React").createElement("div",null,c,b("React").createElement(b("FileInput.react"),{multiple:!0,name:"files[]",onChange:this.$3},b("React").createElement(b("SUIButton.react"),{href:"#",label:a,theme:b("SUIBusinessTheme")})),this.props.showAttachedFilesPreviewList?b("React").createElement(n,{attachedFiles:this.props.attachedFiles,onFileListChange:this.props.onFileListChange}):null)};a.prototype.$1=function(){switch(this.props.product){case j.products.ADS_CREATOR:return h._("Please add a screenshot or video");case j.products.ADS_MANAGER:case j.products.CAMPAIGN_MANAGER:case j.products.BUSINESS_SITE:case j.products.POWER_EDITOR:case j.products.CREATIVE_STUDIO:return h._("Please add a screenshot, video or file");default:return null}};a.prototype.$2=function(){switch(this.props.product){case j.products.ADS_CREATOR:return h._("Attach a screenshot or video to help us understand the problem");case j.products.ADS_MANAGER:case j.products.BUSINESS_SITE:case j.products.CAMPAIGN_MANAGER:case j.products.CREATIVE_STUDIO:return h._("Attach a screenshot, video or file to help us understand the problem");case j.products.POWER_EDITOR:return h._("Attach a screenshot, video or file to help us understand the problem. If you've experienced a bulk import\/upload issue, please attach the excel spreadsheet that you were using");default:return null}};a.FileList=n;a.propTypes={attachedFiles:c.object.isRequired,product:c.oneOf(d).isRequired,showAttachedFilesPreviewList:c.bool,showLabel:c.bool,onFileListChange:c.func.isRequired};a.defaultProps={showAttachedFilesPreviewList:!0,showLabel:!0};e.exports=a;e.exports.UPLOAD_STATUS=k}),null);
__d("BugReportUtils",["keyMirror"],(function(a,b,c,d,e,f){"use strict";__p&&__p();d=b("keyMirror")({HIDDEN:null,FORM:null,SUBMISSION:null,CONFIRMATION:null});function a(a){var b=a.body,c=a.description;a=a.header;return"\n===== "+a+" =====\n"+c+"\n"+b+"\n========"}function c(a){return a.map(g.formatSection).join("\n")}var g={BUG_REPORT_FORM_STEP:d,formatSection:a,formatSectionList:c};e.exports=g}),null);
__d("AdsIXIGCollectionPreviewNotice.react",["fbt","ContextualLayerUpdateOnScroll","React","SimpleNUXMessage","SimpleNUXMessageTypes","XUIAmbientNUX.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={nuxShown:!b("SimpleNUXMessage").hasUserSeenMessage(b("SimpleNUXMessageTypes").IX_IG_COLLECTION_PREVIEW_NOTICE)},this.$1=function(){b("SimpleNUXMessage").markMessageSeenByUser(b("SimpleNUXMessageTypes").IX_IG_COLLECTION_PREVIEW_NOTICE),this.setState({nuxShown:!1})}.bind(this),c}a.prototype.render=function(){return!this.state.nuxShown?null:b("React").createElement("div",null,b("React").createElement("div",{ref:"ref"}),b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"left",behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.ref}.bind(this),position:"above",shown:this.state.nuxShown,width:"normal",onCloseButtonClick:this.$1},g._("This ad can now be shown in the Instagram feed, but it may be displayed differently. You can preview how it will look.")))};e.exports=a}),null);
__d("adsUEditorCanvasIDFromAdgroupSelector",["AdsAPIAdAssetFeedLinkURLsFields","AdsAssetFeedFieldUtils","AdsCanvasAdUtils","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","adsCreateSelector","adsGetUniformValueSelector","isAdsCanvasLink"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("adsGetUniformValueSelector")(b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").linkURL))],function(a){a=b("AdsAssetFeedFieldUtils").firstAsset_TALK_WITH_ACE_BEFORE_USE(a,b("AdsAPIAdAssetFeedLinkURLsFields").WEBSITE_URL);return b("isAdsCanvasLink")(a)?b("AdsCanvasAdUtils").getCanvasID(a):null},{name:e.id+".adsUEditorCanvasIDFromAdgroupSelector"});e.exports=a}),null);
__d("adsUEditorCanvasFromAdgroupSelector",["AdsCanvasConstants","AdsCanvasDocumentStore","adsCreateSelector","adsUEditorCanvasIDFromAdgroupSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX;a=b("adsCreateSelector")([b("adsUEditorCanvasIDFromAdgroupSelector"),b("AdsCanvasDocumentStore").getByID],function(a,b){if(a==null)return null;var c=b(a);return c.isLoading()||!c.hasValue()?null:b(a+g).getValue()},{name:e.id+".adsUEditorCanvasFromAdgroupSelector"});e.exports=a}),null);
__d("adsUEditorCanvasElementsFromAdgroupSelector",["AdsCanvasConstants","AdsCanvasElementStore","AdsLoadObjectUtils","adsCreateSelector","adsUEditorCanvasFromAdgroupSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX;a=b("adsCreateSelector")([b("adsUEditorCanvasFromAdgroupSelector"),b("AdsCanvasElementStore").getByID],function(a,c){if(a==null)return null;a=a.elements.map(function(a){return a.id});var d=a.map(c);return b("AdsLoadObjectUtils").anyLoadingOrEmpty(d.toArray())?null:a.map(function(a){return c(a+g).getValue()})},{name:e.id+".adsUEditorCanvasElementsFromAdgroupSelector"});e.exports=a}),null);
__d("adsUEditorAdgroupCanvasSynchronizerSelector",["AdsAccountCapabilities","AdsAccountUtils","AdsBulkValueUtils","AdsUEditorAdgroupAdObjectsUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupCreativeFormat","AdsUnifiedCreativeAPIFields","RichMediaEditorStore","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorCanvasElementsFromAdgroupSelector","adsUEditorCanvasFromAdgroupSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.map(function(a){return a.adgroup.id})},{name:e.id+".adgroupIDsSelector"});c=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").pageID)],function(a){return b("AdsBulkValueUtils").getUniformValue(a)},{name:e.id+".pageIDSelector"});d=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){a=a.map(function(a){return b("AdsUEditorAdgroupAdObjectsUtils").getCreativeFormat(a,!1)});return a.every(function(a){return a===b("AdsUEditorAdgroupCreativeFormat").COLLECTIONS})},{name:e.id+".isCollectionFormatSelector"});f=b("adsCreateSelector")([b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").retailerItemIDs)],function(a){return b("AdsBulkValueUtils").getUniformValue(a)},{name:e.id+".retailerItemIDsSelector"});a=b("adsCreateSelector")([a,b("adsUEditorAccountSelector"),b("adsUEditorCanvasFromAdgroupSelector"),b("adsUEditorCanvasElementsFromAdgroupSelector"),d,c,f,b("RichMediaEditorStore").getDocumentEditState],function(a,c,d,e,f,g,h,i){c=b("AdsAccountUtils").hasCapability(c,b("AdsAccountCapabilities").SHOW_IN_FEED_MERGED_SHOPPING_TEMPLATE);return d==null||e==null?{adgroupIDs:a,canvas:null,canvasSaveState:i,elements:null,isCollectionFormat:f,pageID:g,retailerItemIDs:h,shouldSynchronizeAdgroupToCanvas:c}:{adgroupIDs:a,canvas:d,canvasSaveState:i,elements:e,isCollectionFormat:f,pageID:g,retailerItemIDs:h,shouldSynchronizeAdgroupToCanvas:c}},{name:e.id+".adsUEditorAdgroupCanvasSynchronizerSelector"});e.exports=a}),null);
__d("adsUEditorIXIGCollectionPreviewNoticeSelector",["AdsCanvasInstagramConstants","AdsUEditorCampaignInstagramSelectors","adsCreateSelector","adsUEditorAdgroupCanvasSynchronizerSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsCanvasInstagramConstants").IG_COLLECTION_FALLBACK_TEMPLATE_ID;a=b("adsCreateSelector")([b("adsUEditorAdgroupCanvasSynchronizerSelector"),b("AdsUEditorCampaignInstagramSelectors").someHaveInstagramPlacement],function(a,b){var c=a.canvas;c=!!c&&(c.getSourceTemplateID()===null||g.indexOf(c.getSourceTemplateID())!==-1)&&a.isCollectionFormat&&b;return{eligibleForNux:c}},{name:e.id+".adsUEditorIXIGCollectionPreviewNoticeSelector"});e.exports=a}),null);
__d("AdsIXIGCollectionPreviewNoticeContainer.react",["AdsFluxContainer","AdsIXIGCollectionPreviewNotice.react","AdsUEditorContextType","React","adsUEditorIXIGCollectionPreviewNoticeSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.getStores=function(a,c){a=c.adgroupEditorContext;return b("adsUEditorIXIGCollectionPreviewNoticeSelector").getStores(a)};a.calculateState=function(a,c,d){a=d.adgroupEditorContext;return b("adsUEditorIXIGCollectionPreviewNoticeSelector")(a)};a.prototype.render=function(){return!this.state.eligibleForNux?null:b("React").createElement(b("AdsIXIGCollectionPreviewNotice.react"),null)};function a(){g.apply(this,arguments)}a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withContext:!0,name:e.id+".exports"})}),null);
__d("AdsCanvasTemplateVideoPreviewUtils",["AdsCanvasElementDataLoader","AdsCanvasSetTemplateVideoPreviewReadyAction","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3e3,h=30,i={},j={},k={startPolling:function(a){__p&&__p();j[a]==null&&(j[a]=0),j[a]+=1,b("promiseDone")(b("AdsCanvasElementDataLoader").getTemplateVideoElement(a).then(function(c){__p&&__p();if(c.preview_ready){b("AdsCanvasSetTemplateVideoPreviewReadyAction").dispatch({elementID:a},{line:"37",module:"AdsCanvasTemplateVideoPreviewUtils.js"});return}if(j[a]>h){k.stopPolling(a);return}i[a]=setTimeout(function(){k.startPolling(a)},g)}))},stopPolling:function(a){clearTimeout(i[a]),delete i[a],delete j[a]}};e.exports=k}),null);
__d("AdsFeedStoryShim.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2iwo"},b("React").createElement("div",{className:"_2iwq"},b("React").createElement("div",{className:"_2iwr"}),b("React").createElement("div",{className:"_2iws"}),b("React").createElement("div",{className:"_2iwt"}),b("React").createElement("div",{className:"_2iwu"}),b("React").createElement("div",{className:"_2iwv"}),b("React").createElement("div",{className:"_2iww"}),b("React").createElement("div",{className:"_2iwx"}),b("React").createElement("div",{className:"_2iwy"}),b("React").createElement("div",{className:"_2iwz"}),b("React").createElement("div",{className:"_2iw-"}),b("React").createElement("div",{className:"_2iw_"}),b("React").createElement("div",{className:"_2ix0"})))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsDCONoticeUtils",["cx","fbt","AdsHelpTrayUIActions","AdsIntelligentBlueTip.react","Link.react","React","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="170372403538781",j={getDCOHelpCMSID:function(){return i},getDuplicationNoticeForCM:function(){return h._("The ad set you've selected is using dynamic creative and can only include one ad. Please select a different ad set or create a new one.")},getQuickDuplicationNoticeForPE:function(){return h._("The ad set you've selected is using dynamic creative and can only include one ad. Please select a different ad set or create a new one.")},getNotExportedWarning:function(){return h._("Ads that use dynamic creative can't be imported or exported. You can still manage and edit these ads in Ads Manager.")},getDraftAndPublishedMixedStateNotice:function(){return h._("One or more of the ad sets you've selected uses dynamic creative and has already been confirmed. The setting for dynamic creative can't be changed in confirmed ad sets.")},getGeneralDCOMixedStateNotice:function(){return h._("One or more of the ad sets you've selected uses dynamic creative and can't be edited with other ad sets. Please edit dynamic creative ad sets separately.")},getCarouselFormatSupportedTip:function(){return b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:"dcoCarouselNewTip",messageID:"dco_carousel_new_feature_tip",position:"right"})},getCannotCreateAdInAdsetWithExistingDCOAdNotice:function(){return h._("The ad set you've selected is using dynamic creative and can only include one ad. Please select a different ad set or create a new one.")},getDeletionDialogBody:function(){return h._("You have selected at least one ad with dynamic creative. Deleting this type of ad will automatically delete the ad set as well.")},getNoAssetOption:function(){return h._("No values provided")},getCTATooltip:function(){return h._("Add a button that matches the action you want people to take when they see your ad. You can select up to five calls to action for your ad.")},getPreviewEntryDisabledTooltip:function(){return h._("To see more variations, upload more creative assets.")},getImageTooltip:function(){return h._("Add up to ten images to use in your ad.")},getWebsiteURLTooltip:function(){return h._("Enter the website URL you want to promote (e.g. http:\/\/www.example.com\/page). Only one URL can be promoted in your ad.")},getDisplayURLTooltip:function(){return h._("This is the URL that will be shown to people who see your ad. It can be a shortened or reformatted link, but it must direct to the same place as your destination URL. Only one display link can be used in your ad. This won't appear in all placements.")},getDCOHelpContentLink:function(){return h._("{link to learn more about dynamic creative}.",[h._param("link to learn more about dynamic creative",b("React").createElement(b("Link.react"),{onClick:j.openHelpTray(i)},h._("Learn more")))])},openHelpTray:function(a){return function(){b("AdsHelpTrayUIActions").pushCMSIDToHistory(a)}},getCTASelectionDisabledTooltip:function(a){return h._("Choose up to {Max number of CTA buttons allowed} calls to action for ads with dynamic creative.",[h._param("Max number of CTA buttons allowed",a)])},getDCOAdgroupInsightsTipMessage:function(){return b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{color:"white",display:"block",size:"meta1",weight:"bold"},j.adgroupInsightsTipTitle),b("React").createElement(b("SUIText.react"),{className:"_3-8x",display:"block",shade:"white",size:"meta1"},j.adgroupInsightsTipDesc))},getDuplicateValueErrorMessage:function(a){return h._("Please enter a unique {Field Name} for each field.",[h._param("Field Name",a)])},getTextLimitErrorMessage:function(a){return h._("This field must be fewer than {Max number of characters allowed} characters in length.",[h._param("Max number of characters allowed",a)])},getAddButtonDisabledTooltip:function(a,b){return h._("You can only add up to {Max number of values allowed} {Field Name}.",[h._param("Max number of values allowed",a),h._param("Field Name",b)])},selectVideos:h._("Select Videos"),campaignTourStep1Title:h._("Upload your assets"),campaignTourStep1:h._("Provide your individual creative assets (such as images and headlines). You should feel comfortable automatically mixing and matching all of these assets together."),campaignTourStep2Title:h._("Deliver multiple ad variations"),campaignTourStep2:h._("We'll generate multiple variations using your individual assets and optimise to deliver the ones that work well for your audience."),campaignTourStep3Title:h._("Learn what works for your audience"),campaignTourStep3:h._("Get insights about which assets performed best in your campaign so that you can create better ad creative over time."),adgroupTourTitle:h._("Create ads with dynamic creative"),adgroupTourDesc:h._("You can now add multiple creative assets and create your ad. Our system will automatically find the most effective combinations of creative assets for your audience."),adgroupTourButton:h._("Take the Tour"),adgroupTourStep1Title:h._("Images or videos"),adgroupTourStep1Desc:h._("See how different images or videos perform in your ad."),adgroupTourStep2Title:h._("Text, headlines and other copy"),adgroupTourStep2Desc:h._("Use the button to quickly add different versions of your copy."),adgroupTourStep3Title:h._("Calls to Action"),adgroupTourStep3Desc:h._("Select multiple calls to action to see which one your audience responds to most."),adgroupInsightsTipTitle:h._("New! Dynamic creative asset breakdown"),adgroupInsightsTipDesc:h._("Now you can view results at the creative-asset level for ads that use dynamic creative."),adgroupPreviewTip:h._("You can see other variations of your ad here."),cannotUseDCOCampaignInCF:h._("To use this ad set, please edit using Quick Creation. Ads with dynamic creative aren't supported with guided creation.")};e.exports=j}),null);
__d("AdsAssetDropdownPicker.react",["ix","cx","fbt","invariant","AdsCallToActionTypes","AdsDCONoticeUtils","AdsLoadState_LEGACY","AdsRichSelector.react","FDSSpinner.react","Image.react","React","ScaledImage.react","VideoCreatorProductType","asset"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("AdsRichSelector.react").Option,m=b("AdsDCONoticeUtils").getNoAssetOption(),n=276;function o(a,c,d){return b("React").createElement("div",{className:"_4v9p"},b("React").createElement(b("ScaledImage.react"),{height:24,imageSize:{height:c,width:d},src:a,width:50}))}function p(a){a=a.video;var b=a.title,c=a.description;a=a.id;if(b!=null&&b!=="")return b;return c!=null&&c!==""?c:i._("Video ({video ID})",[i._param("video ID",a)])}function q(a,c){a=a.video.creator_product===b("VideoCreatorProductType").SLIDESHOW;return c?a?g("711703"):g("567281"):a?g("706268"):g("567280")}function r(a,c){var d=a.value;a=a.index;var e=d.format==="video"?o(d.video.preferredThumbnail.uri,d.video.preferredThumbnail.height,d.video.preferredThumbnail.width):o(d.url,d.height,d.width),f=d.format==="video"?p(d):d.name;return b("React").createElement(l,{className:"_4v9q",icon:e,key:d.format+"-"+a,label:f,metaData:{format:d.format,index:a},value:c},function(a){a=a.highlighted;return b("React").createElement("span",{className:"_4va4"},b("React").createElement(b("Image.react"),{className:"_6_fk",src:d.format==="video"?q(d,a):a?g("504179"):g("557844")})," ",f)})}c=babelHelpers.inherits(a,b("React").PureComponent);k=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.$1=function(a,b){this.props.onSelectAssetAtIndex(a.value,b)}.bind(this),b}a.prototype.$2=function(){__p&&__p();if(this.props.assets.length===0)return[b("React").createElement(l,{className:"_4v9q",key:0,label:m,value:0},m)];var a=this.props;switch(a.mode){case"text-asset":return a.assets.map(function(c,d){c=c.get(a.fieldName);typeof c==="string"||j(0,6266);c.trim().length===0&&(c=i._("-"));return b("React").createElement(l,{className:"_4v9q",key:d,label:c,value:d},b("React").createElement("span",{className:"_4va4"},c))});case"cta-asset":return a.assets.map(function(a,c){a=b("AdsCallToActionTypes").TYPES[a];a=a&&a.text;return b("React").createElement(l,{className:"_4v9q",key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))});case"video-asset":return a.assets.map(function(a,c){var d=o(a.video.preferredThumbnail.uri,a.video.preferredThumbnail.height,a.video.preferredThumbnail.width);a=p(a);return b("React").createElement(l,{className:"_4v9q",icon:d,key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))});case"automatic-asset":return a.assets.map(r);default:return a.assets.map(function(a,c){var d=o(a.url,a.height,a.width);a=a.name;return b("React").createElement(l,{className:"_4v9q",icon:d,key:c,label:a,value:c},b("React").createElement("span",{className:"_4va4"},a))})}};a.prototype.render=function(){var a=this.props;return a.mode==="video-asset"&&a.assets.some(function(a){return a.video.loadState===b("AdsLoadState_LEGACY").LOADING})?b("React").createElement(b("FDSSpinner.react"),{size:"small"}):b("React").createElement(b("AdsRichSelector.react"),{className:"_4vaa",disabled:a.assets.length===0,maxwidth:n,size:"large",tooltip:a.helpText,useMenuDividers:!0,onChange:this.$1},this.$2())};e.exports=a}),null);
__d("AdFacebookStoryAdPreviewDisclaimer.react",["fbt","AdsAdgroupSpecUtils","React","SUIBusinessTheme","SUIText.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adgroupSpec;a=a.className;c=b("AdsAdgroupSpecUtils").isStaticCarouselAd(c)?g._("Only the first three images of your carousel ad will be delivered in Facebook Stories."):g._("People can open your link by tapping on it or swiping up. This interaction may vary by platform or device.");return b("React").createElement("div",{className:a},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),width:"320px"},c))}e.exports=a}),null);
__d("AdsInstagramStoryAdPreviewDisclaimer.react",["fbt","AdsAdgroupSpecUtils","React","SUIBusinessTheme","SUIText.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.adgroupSpec;a=a.className;c=b("AdsAdgroupSpecUtils").isCarouselAd(c)&&!b("gkx")("706478")?g._("Carousel ads will not be delivered if you select placements other than Instagram stories."):g._("The text appearance may vary by device.");return b("React").createElement("div",{className:a},b("React").createElement(b("SUIText.react"),{color:"placeholder",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),width:"320px"},c))}e.exports=a}),null);
__d("AdsStockImageWatermarkNotice.react",["ix","cx","fbt","Image.react","React","SUIBusinessTheme","SUIText.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";function a(a){a=a.className;var c=g("403742");return b("React").createElement("div",{className:a},b("React").createElement(b("Image.react"),{className:"_d6- _3-90",src:c}),b("React").createElement(b("SUIText.react"),{shade:"light",size:"meta1",theme:b("SUIBusinessTheme")},i._("Watermark won't appear in the final ad image.")))}e.exports=a}),null);
__d("AdsAdgroupPreviewLoader.react",["cssVar","AdsPreviewApiFormats","FDSSpinner.react","React"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(c={},c[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD]={x:320,y:387},c[b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD]={x:320,y:385},c[b("AdsPreviewApiFormats").MARKETPLACE_MOBILE]={x:378,y:407},c[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD]={x:320,y:528},c[b("AdsPreviewApiFormats").INSTAGRAM_EXPLORE_CONTEXTUAL]={x:320,y:528},c[b("AdsPreviewApiFormats").INSTAGRAM_EXPLORE_IMMERSIVE]={x:320,y:528},c[b("AdsPreviewApiFormats").INSTAGRAM_STORY]={x:320,y:567},c[b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL]={x:285,y:568},c[b("AdsPreviewApiFormats").MOBILE_MEDIUM_RECTANGLE]={x:255,y:511},c[b("AdsPreviewApiFormats").MOBILE_NATIVE]={x:255,y:511},c[b("AdsPreviewApiFormats").MOBILE_BANNER]={x:324,y:148},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO]={x:320,y:387},c[b("AdsPreviewApiFormats").MESSENGER_MOBILE_INBOX_MEDIA]={x:360,y:321},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO_TV]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_MEDIUM_RECTANGLE_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_NATIVE_BANNER]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_NATIVE_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INTERSTITIAL_DESKTOP]={x:285,y:568},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").AUDIENCE_NETWORK_OUTSTREAM_VIDEO]={x:320,y:387},c[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD]={x:320,y:387},c[b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").GROUPS_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").GROUPS_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").INSTAGRAM_IGTV]={x:320,y:387},c[b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").MARKETPLACE_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").MESSENGER_DESKTOP_THREAD_MEDIA]={x:320,y:387},c[b("AdsPreviewApiFormats").MESSENGER_MOBILE_STORY_MEDIA]={x:320,y:387},c[b("AdsPreviewApiFormats").MESSENGER_MOBILE_THREAD_MEDIA]={x:320,y:387},c[b("AdsPreviewApiFormats").MOBILE_FEED_BASIC]={x:320,y:387},c[b("AdsPreviewApiFormats").MOBILE_FULLWIDTH]={x:320,y:387},c[b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD]={x:320,y:387},c[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_DESKTOP]={x:320,y:387},c[b("AdsPreviewApiFormats").SUGGESTED_VIDEO_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").WHATSAPP_STATUS_MEDIA]={x:320,y:387},c[b("AdsPreviewApiFormats").WATCH_FEED_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").MARKETPLACE_SEARCH_ADS_MOBILE]={x:320,y:387},c[b("AdsPreviewApiFormats").SEARCH_SERP_ADS_MOBILE]={x:320,y:387},c);h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{style:{backgroundColor:"#FFFFFF",border:"1px solid #DADDE1",height:i[this.props.format].y,width:i[this.props.format].x,marginBottom:12,marginLeft:"auto",marginRight:"auto"}},b("React").createElement(b("FDSSpinner.react"),{center:!0}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsAdgroupPreviewRefreshButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.isDisabled;a=a.onRefreshClick;return b("React").createElement(b("FDSButton.react"),{icon:c?b("React").createElement(b("Image.react"),{src:g("669095")}):b("React").createElement(b("Image.react"),{src:g("580899")}),isDisabled:c,label:h._("Refresh preview"),size:"medium",onClick:a})};function a(){i.apply(this,arguments)}a.defaultProps={onRefreshClick:b("emptyFunction"),isDisabled:!1};e.exports=a}),null);
__d("AdsAdgroupPreviewRefreshLink.react",["cx","fbt","FDSLink.react","React","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("FDSLink.react"),{onClick:this.props.onRefreshClick},h._("Refresh preview")),b("React").createElement("div",{className:"_1k43"},String.fromCodePoint(8226)))};function a(){i.apply(this,arguments)}a.defaultProps={onRefreshClick:b("emptyFunction")};e.exports=a}),null);
__d("AdsAdgroupPreviewBugReportButton.react",["ix","fbt","FDSButton.react","Image.react","React","asset","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props,c=a.isDisabled;a=a.onClick;return b("React").createElement(b("FDSButton.react"),{icon:c?b("React").createElement(b("Image.react"),{src:g("579927")}):b("React").createElement(b("Image.react"),{src:g("530511")}),isDisabled:c,label:h._("Report problem"),size:"medium",onClick:a})};function a(){i.apply(this,arguments)}a.defaultProps={onClick:b("emptyFunction"),isDisabled:!1};e.exports=a}),null);
__d("AdsAdgroupPreviewBugReportLink.react",["fbt","FDSLink.react","React","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("FDSLink.react"),{onClick:this.props.onClick},g._("Report a problem with this preview"))};function a(){h.apply(this,arguments)}a.defaultProps={onClick:b("emptyFunction")};e.exports=a}),null);
__d("AdsLayerHideOnBlur",["csx","Parent"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=["#AdsPEHelpTrayContainer","#AdsCMHelpTrayContainer","._26fy"],i=2;function j(a){return!!a.parentElement&&a.parentElement.tagName==="BODY"}function k(a,c){a=b("Parent").find(a,j);c=b("Parent").find(c,j);return!!a&&!!c&&c.compareDocumentPosition(a)===i}function a(a){this.$1=a,this.$2=[],this.$3=null}a.prototype.enable=function(){this.$2=[this.$1.subscribe("show",this.$4.bind(this)),this.$1.subscribe("hide",this.$5.bind(this))],this.$1.isShown()&&this.$4()};a.prototype.disable=function(){this.$5();while(this.$2.length)this.$2.pop().unsubscribe();this.$2=[]};a.prototype.$5=function(){this.$3&&this.$3.unsubscribe(),this.$3=null};a.prototype.$4=function(){__p&&__p();this.$3=this.$1.subscribe("blur",function(a,c){a=h.some(function(a){return b("Parent").bySelector(c.target,a)});if(a)return!1;a=this.$1.getContentRoot();if(a&&c.target&&k(a,c.target))return!1;this.$1.hide();return!0}.bind(this))};e.exports=a}),null);
__d("AdsPreviewBugReportUtils",["fbt","BugReportUtils","CurrentUser","URI","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=Object.freeze({INCORRECT_DETAILS:g._("Incorrect preview details"),LOADING_ISSUE:g._("Problems with loading a preview"),SHARING_ISSUE:g._("Problems with sharing a preview"),OTHER:"Other"});d=Object.freeze({CROPPING:g._("Incorrect cropping of image or video"),CTA:g._("Incorrect call to action or display link"),HEADLINE:g._("Incorrect headline or text"),LINK_DESCRIPTION:g._("Incorrect link description")});f=Object.freeze({INCORRECT_IMAGE_OR_VIDEO:g._("Incorrect image or video"),LOW_RESOLUTION:g._("Low-resolution preview"),BLANK_PREVIEW:g._("Blank preview")});var i=Object.freeze({SHARING_LINK:g._("Share link doesn't work"),MOBILE_PREVIEW:g._("Can't preview on mobile device"),OTHER:g._("Other")}),j=Object.freeze({}),k=b("keyMirror")(c);d=Object.freeze((h={},h[k.INCORRECT_DETAILS]=d,h[k.LOADING_ISSUE]=f,h[k.SHARING_ISSUE]=i,h[k.OTHER]=j,h));f=Object.freeze({NO_CATEGORY_SELECTION:g._("No bug category selected"),PENDING_UPLOADS:g._("You have pending uploads")});function l(a){return new(b("URI"))("/intern/ads/previews").addQueryData({tab:"preview_params_json_parser_tab",preview_params:JSON.stringify(a),force_viewer:b("CurrentUser").getID()}).setDomain("our.intern.facebook.com").setProtocol("https").getQualifiedURI().toString()}function a(a){var c=a.category,d=a.subCategory,e=a.userDescription,f=a.fbtraceID,g=a.error;a=a.previewParams;f=[{header:"PREVIEW TOOL LINK",description:"Link to Preview tool to reproduce the visible preview during the report. (Reproducing the Preview in the Ads Interfaces is still the source of truth.)",body:l(a)},{header:"PREVIEW TRACE",description:"Preview trace logged in Ads Scuba Table (i adlog)",body:f},{header:"PREVIEW ERROR",description:"Preview component error(if any):",body:JSON.stringify(g)},{header:"PREVIEW PAGELET SPEC",description:"Preview spec:",body:JSON.stringify(a,null,"\t")}];return"\n"+e+"\n"+[c,d].join("-")+"\n========\n"+b("BugReportUtils").formatSectionList(f)}e.exports={reportSummary:a,PREVIEW_BUG_CATEGORY:c,PREVIEW_BUG_CATEGORY_KEYS:k,PREVIEW_BUG_CATEGORY_TO_SUBCATEGORY:d,SUBMIT_DISABLED_REASONS:f}}),null);
__d("ScreenshotCaptureInputPreviews.react",["cx","Image.react","React","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_2ya4 _3-8i"},this.props.screenshotDataURIs.map(function(a,c){return b("React").createElement("div",{className:"_2ya5",key:c},b("React").createElement(b("Image.react"),{onClick:function(){return this.props.onScreenshotListChange(this.props.screenshotDataURIs["delete"](c))}.bind(this),className:"_2ya6",src:a}))}.bind(this)))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("AdsPreviewBugReportModal.react",["cx","fbt","invariant","AdsBugReportUploader.react","AdsLayerHideOnBlur","AdsSpinner.react","BootloadedComponent.react","BugReportUtils","CurrentUser","FDSSimplePopover.react","FDSSpinner.react","SUIHorizontalLayout.react","SUILink.react","SUIModalFillViewportHeight","SUIModalOkayButton.react","SUIRadioList.react","SUISelector.react","SUISelectorOption.react","immutable","JSResource","LayerAbsorbWheel","LayerHideOnEscape","React","ScreenshotCaptureInputPreviews.react","SUIBusinessTheme","SUIButton.react","SUIModal.react","SUIModalCancelButton.react","SUIModalFooter.react","SUIModalHeader.react","SUIText.react","SUITextArea.react","AdsPreviewBugReportUtils","objectEntries"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsBugReportUploader.react").FileList,l=b("BugReportUtils").BUG_REPORT_FORM_STEP,m=b("SUIRadioList.react").Item,n=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY,o=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY_TO_SUBCATEGORY,p=h._("Required"),q=h._("Optional");function r(a){var c=a.disableSubmitReasonList;a=a.onSurveyComplete;a=b("React").createElement(b("SUIButton.react"),{disabled:!!c,label:h._("Send Report"),layerAction:"confirm",theme:b("SUIBusinessTheme"),use:"confirm",onClick:a});return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:c!=null&&c!==""?b("React").createElement(b("FDSSimplePopover.react"),{content:c,position:"below",showIcon:!1},a):a,secondaryButton:b("React").createElement(b("SUIModalCancelButton.react"),null),theme:b("SUIBusinessTheme")})}function s(a){var c=a.title,d=a.subtitle,e=a.description;a=a.node;return b("React").createElement("div",null,b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},c),d!=null&&d!==""?b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")}," (",d,")"):null,e!=null&&e!==""?b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},e):null,b("React").createElement("div",{className:"_3-8x _3-96"},a))}function t(a){__p&&__p();var c=a.category,d=a.subCategory,e=a.onCategoryChange;a=a.onSubCategoryChange;var f=function(a){var c=a[0];a=a[1];return b("React").createElement(b("SUISelectorOption.react"),{key:c,theme:b("SUIBusinessTheme"),value:c},a)},g=b("objectEntries")(n).map(f);f=c?b("objectEntries")(o[c]).map(f):null;c=b("React").createElement(b("SUISelector.react"),{placeholder:h._("Select the type of issue"),theme:b("SUIBusinessTheme"),value:c,onChange:e},g);e=f&&f.length>0?b("React").createElement(b("SUISelector.react"),{placeholder:h._("Choose a specific issue"),theme:b("SUIBusinessTheme"),value:d,onChange:a},f):null;g=b("React").createElement("div",null,b("React").createElement("div",{className:"_3-95"},c),b("React").createElement("div",null,e));return b("React").createElement(s,{node:g,subtitle:p,title:h._("What type of problem are you experiencing?")})}function u(a){var c=a.value;a=a.onChange;c=b("React").createElement(b("SUITextArea.react"),{placeholder:h._("Explain the issue you are facing and the possible steps to reproduce it"),theme:b("SUIBusinessTheme"),value:c,onChange:a});return b("React").createElement(s,{description:h._("Tell us more about what happened, including the steps we can take to reproduce the problem."),node:c,subtitle:q,title:h._("Please explain the problem")})}function v(a){var c=a.attachedFiles,d=a.product,e=a.screenshotDataURIs,f=a.onFileListChange,g=a.onPostScreenshot,i=a.onPreScreenshot;a=a.onScreenshotListChange;d=b("React").createElement(b("AdsBugReportUploader.react"),{attachedFiles:c,product:d,showAttachedFilesPreviewList:!1,showLabel:!1,onFileListChange:f});g=b("CurrentUser").isEmployee()?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("ScreenshotCaptureInput.react").__setRef("AdsPreviewBugReportModal.react"),bootloadPlaceholder:b("React").createElement(b("AdsSpinner.react"),null),screenshotDataURIs:e,showPreviews:!1,onPostScreenshot:g,onPreScreenshot:i,onScreenshotListChange:a}):null;i=b("React").createElement(k,{attachedFiles:c,onFileListChange:f});c=b("React").createElement(b("ScreenshotCaptureInputPreviews.react"),{screenshotDataURIs:e,onScreenshotListChange:a});f=b("React").createElement("div",null,b("React").createElement(b("SUIHorizontalLayout.react"),{theme:b("SUIBusinessTheme")},d,g),i,c);return b("React").createElement(s,{description:h._("Attach a screenshot or video to help us understand the problem."),node:f,subtitle:q,title:h._("Please add a screenshot, video or file")})}function w(a){var c=a.loginAsPermission;a=a.onChange;if(!b("CurrentUser").isEmployee())return null;c=b("React").createElement(b("SUIRadioList.react"),{direction:"horizontal",theme:b("SUIBusinessTheme"),value:c,onChange:a},b("React").createElement(m,{value:!0},h._("Yes")),b("React").createElement(m,{value:!1},h._("No")));return b("React").createElement(s,{node:c,subtitle:h._("FB Employee Only"),title:h._("Can we log in to your account to investigate further?")})}function x(){return b("React").createElement("div",{className:"_63_3"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",textAlign:"center",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Sending report")),b("React").createElement("div",null,b("React").createElement(b("FDSSpinner.react"),{shade:"dark"})))}function y(){return b("React").createElement("div",{className:"_3ae4"},b("React").createElement("div",{className:"_3ae5"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},h._("Thanks for providing feedback on your Facebook Ads Experience."))),b("React").createElement("div",{className:"_3ae6"},b("React").createElement(b("SUIText.react"),{size:"meta1",theme:b("SUIBusinessTheme")},h._("If you need immediate assistance, please visit our {support_page_link}",[h._param("support_page_link",b("React").createElement(b("SUILink.react"),{href:"/business/resources/",target:"_blank"},h._("Advertiser Support Page.")))]))),b("React").createElement("div",{className:"_3ae7"},b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",style:{marginBottom:12},theme:b("SUIBusinessTheme")},h._("While we are constantly working to improve your experience advertising on Facebook, we cannot guarantee that we will investigate or reply to every report. We may contact you for more details as we investigate.")),b("React").createElement(b("SUIText.react"),{display:"block",size:"meta1",theme:b("SUIBusinessTheme")},h._("This reporting tool does not constitute notice to Facebook or replace or modify any terms applicable to your purchase of advertising inventory from Facebook, which continue to apply to your ad campaigns."))))}function z(a){var c=a.additionalInfoValue,d=a.attachedFiles,e=a.category,f=a.product,g=a.loginAsPermission,h=a.screenshotDataURIs,i=a.step,j=a.subCategory,k=a.onCategorySelectorChange,m=a.onSubCategorySelectorChange,n=a.onAdditionalInfoTextFieldChange,o=a.onFileListChange,p=a.onLoginAsPermissionChange,q=a.onPreScreenshot,r=a.onPostScreenshot;a=a.onScreenshotListChange;switch(i){case l.FORM:return b("React").createElement("div",{className:"_2pi8"},b("React").createElement(t,{category:e,subCategory:j,onCategoryChange:k,onSubCategoryChange:m}),b("React").createElement(u,{value:c,onChange:n}),b("React").createElement(v,{attachedFiles:d,product:f,screenshotDataURIs:h,onFileListChange:o,onPostScreenshot:r,onPreScreenshot:q,onScreenshotListChange:a}),b("React").createElement(w,{loginAsPermission:g,onChange:p}));case l.SUBMISSION:return b("React").createElement(x,null);case l.CONFIRMATION:return b("React").createElement(y,null);case l.HIDDEN:return null}}function A(a){var c=a.disableSubmitReasonList,d=a.step,e=a.onHide;a=a.onSurveyComplete;switch(d){case l.FORM:return b("React").createElement(r,{disableSubmitReasonList:c,onSurveyComplete:a});case l.CONFIRMATION:return b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIModalOkayButton.react"),{layerAction:"button",use:"confirm",onClick:e}),theme:b("SUIBusinessTheme")});case l.SUBMISSION:case l.HIDDEN:return null}}j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement(b("SUIModal.react"),{behaviors:{LayerAbsorbWheel:b("LayerAbsorbWheel"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:b("AdsLayerHideOnBlur"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(A,{disableSubmitReasonList:this.props.disableSubmitReasonList,step:this.props.step,onHide:this.props.onHide,onSurveyComplete:this.props.onSurveyComplete}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Report a problem")}),isShown:this.$1(),label:h._("Modal to report errors related to the Ads Preview Component"),theme:b("SUIBusinessTheme"),width:600,onHide:this.props.onHide},b("React").createElement(z,{additionalInfoValue:this.props.additionalInfoValue,attachedFiles:this.props.attachedFiles,category:this.props.category,loginAsPermission:this.props.loginAsPermission,product:this.props.product,screenshotDataURIs:this.props.screenshotDataURIs,step:this.props.step,subCategory:this.props.subCategory,onAdditionalInfoTextFieldChange:this.props.onAdditionalInfoTextFieldChange,onCategorySelectorChange:this.props.onCategorySelectorChange,onFileListChange:this.props.onFileListChange,onLoginAsPermissionChange:this.props.onLoginAsPermissionChange,onPostScreenshot:this.props.onPostScreenshot,onPreScreenshot:this.props.onPreScreenshot,onScreenshotListChange:this.props.onScreenshotListChange,onSubCategorySelectorChange:this.props.onSubCategorySelectorChange}))};a.prototype.$1=function(){switch(this.props.step){case l.FORM:case l.SUBMISSION:case l.CONFIRMATION:return!0;case l.HIDDEN:return!1;default:i(0,5145)}};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("AdsPreviewBugReportContainer.react",["cx","fbt","Promise","AdsAccountStore","AdsAdgroupPreviewBugReportButton.react","AdsAdgroupPreviewBugReportLink.react","AdsBugReportCategory","AdsBugReportConfig","AdsBugReportSource","AdsBugReportSubCategory","AdsBugReportUploader.react","AdsFluxContainer","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsInterfacesSessionConfig","AdsPreviewBugReportModal.react","AdsPreviewBugReportUtils","AsyncRequest","BugReportUtils","FBTraceIDsForFailedGraphAPIRequests","React","XAdsBugReportSubmitController","gkx","immutable","objectValues"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsInterfacesLogEvents").Event,k=b("AdsPreviewBugReportUtils").PREVIEW_BUG_CATEGORY_KEYS,l=b("AdsPreviewBugReportUtils").SUBMIT_DISABLED_REASONS,m=b("AdsPreviewBugReportUtils").reportSummary,n=b("BugReportUtils").BUG_REPORT_FORM_STEP,o={attachedFiles:{},additionalInfo:"",category:null,loginAsPermission:!1,screenshotDataURIs:b("immutable").List(),subCategory:null},p=babelHelpers["extends"]({},o,{accountID:null,completed:!1,hasPendingUploads:!1,step:n.HIDDEN}),q=200;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state=babelHelpers["extends"]({},p),this.$4=function(a){this.setState({category:a,subCategory:null})}.bind(this),this.$11=function(a){this.setState({subCategory:a})}.bind(this),this.$3=function(a){this.setState({additionalInfo:a})}.bind(this),this.$5=function(a){var c=b("objectValues")(a).some(function(a){return a.status===b("AdsBugReportUploader.react").UPLOAD_STATUS.UPLOADING});this.setState({attachedFiles:a,hasPendingUploads:c})}.bind(this),this.$7=function(a){this.setState({loginAsPermission:a})}.bind(this),this.$12=function(){this.setState({step:n.SUBMISSION,completed:!0});var a=b("XAdsBugReportSubmitController").getURIBuilder(),c=[];Object.keys(this.state.attachedFiles).map(function(a){a=this.state.attachedFiles[a];a.status===b("AdsBugReportUploader.react").UPLOAD_STATUS.SUCCESS&&c.push(a.handle)}.bind(this));a.setInt("account_id",this.state.accountID).setString("category",b("AdsBugReportCategory").CREATING_AN_AD).setString("sub_category",b("AdsBugReportSubCategory").AD_PREVIEW).setEnum("source",b("AdsBugReportSource").IN_PRODUCT).setBool("permission_to_login_as",this.state.loginAsPermission);var d={attached_files:c,description:m({category:this.state.category||"",subCategory:this.state.subCategory||"",userDescription:this.state.additionalInfo,fbtraceID:this.props.fbtraceID||"",error:this.props.error||"",previewParams:this.props.previewParams}),error_fb_traces:b("FBTraceIDsForFailedGraphAPIRequests").errorFBTraces,screenshot_data_uris:this.state.screenshotDataURIs.toJSON(),session_id:b("AdsInterfacesSessionConfig").sessionID};new(b("AsyncRequest"))().setURI(a.getURI()).setData(d).setMethod("POST").setHandler(this.$13).setErrorHandler(this.$14).setFinallyHandler(function(){return this.setState(babelHelpers["extends"]({},o,{step:n.CONFIRMATION}))}.bind(this)).send()}.bind(this),this.$13=function(a){var c;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_SUCCESS,data:(c={},c[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,c[b("AdsInterfacesLoggerConfigColumns").BUG_ID]=a.payload.bug_id,c[b("AdsInterfacesLoggerConfigColumns").ERROR_TYPE]=[this.state.category,this.state.subCategory].join("-"),c[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=this.props.fbtraceID,c)})}.bind(this),this.$10=function(a){this.setState({screenshotDataURIs:a})}.bind(this),this.$9=function(){return new(b("Promise"))(function(a){this.setState({step:n.HIDDEN},function(){return setTimeout(a,q)})}.bind(this))}.bind(this),this.$8=function(){this.setState({step:n.FORM})}.bind(this),this.$1=function(){this.setState({step:n.FORM},function(){var a;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_OPENED,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a)})}.bind(this))}.bind(this),this.$6=function(){this.setState(babelHelpers["extends"]({},o,{step:n.HIDDEN}),function(){var a;return b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_CLOSED,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a)})}.bind(this))}.bind(this),c}a.getStores=function(){return[b("AdsAccountStore")]};a.calculateState=function(a,c){c=b("AdsAccountStore").getSelectedAccountID();return babelHelpers["extends"]({},a,{accountID:c})};a.prototype.render=function(){return b("React").createElement(b("React").Fragment,null,this.state.completed?h._("Thank you for your report."):b("gkx")("677855")?b("React").createElement(b("AdsAdgroupPreviewBugReportButton.react"),{isDisabled:this.props.isBugReportButtonDisabled,onClick:this.$1}):b("React").createElement(b("AdsAdgroupPreviewBugReportLink.react"),{onClick:this.$1}),b("React").createElement(b("AdsPreviewBugReportModal.react"),{additionalInfoValue:this.state.additionalInfo,attachedFiles:this.state.attachedFiles,category:this.state.category,disableSubmitReasonList:this.$2(),loginAsPermission:this.state.loginAsPermission,product:b("AdsBugReportConfig").products.ADS_CREATOR,screenshotDataURIs:this.state.screenshotDataURIs,step:this.state.step,subCategory:this.state.subCategory,onAdditionalInfoTextFieldChange:this.$3,onCategorySelectorChange:this.$4,onFileListChange:this.$5,onHide:this.$6,onLoginAsPermissionChange:this.$7,onPostScreenshot:this.$8,onPreScreenshot:this.$9,onScreenshotListChange:this.$10,onSubCategorySelectorChange:this.$11,onSurveyComplete:this.$12}))};a.prototype.$14=function(a){b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_BUG_REPORT_SUBMIT_ERROR})};a.prototype.$2=function(){var a=[];(this.state.category===null||this.state.subCategory===null&&this.state.category!==k.OTHER)&&a.push(l.NO_CATEGORY_SELECTION);this.state.hasPendingUploads&&a.push(l.PENDING_UPLOADS);if(a.length>0){a=a.map(function(a){return b("React").createElement("li",{key:a},a)});return b("React").createElement("div",null,h._("You cannot submit the form for the following reasons:"),b("React").createElement("ul",{className:"_1mf8"},a))}return null};e.exports=b("AdsFluxContainer").create(a,{name:e.id+".exports"})}),null);
__d("AdsPreviewLogger",["AdsInterfacesLogger"],(function(a,b,c,d,e,f){"use strict";a={log:function(a,c){b("AdsInterfacesLogger").log({eventName:a,data:{action_type:c.actionType,ad_preview_format:c.format,adgroup_id:c.adgroupID,error_type:c.errorType,has_object_story_spec:c.hasObjectStorySpec,is_edit:c.isEdit,link_post_format:c.linkPostFormat,loading_count:c.loadingCount,media_format:c.mediaFormat,message:c.message,meta_message:c.metaMessage,time_since_load:c.timeSinceLoad,custom_event_type:c.visibilityType,component_name:c.previewParent,new_value:c.newValue,old_value:c.oldValue}})}};e.exports=a}),null);
__d("AdsOffsiteAdInterstitialPreview.react",["ix","cx","fbt","Image.react","LineClamp.react","React","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=296,l=320/567,m=106,n=567-66-50;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){var a=k/this.props.imageAspectRatio,c=a>n;a=!c&&a+m>n;return b("React").createElement("div",{className:"_72xz"},b("React").createElement("div",{className:"_72x-"+(a?" _72x_":"")+(c?" _72y0":"")+(this.props.ctaText==null?" _72y1":"")},b("React").createElement(o,{description:this.props.description,imageAspectRatio:this.props.imageAspectRatio,imageSrc:this.props.imageSrc,isVideo:this.props.isVideo,title:this.props.title}),b("React").createElement(p,{iconSrc:this.props.iconSrc,isFullscreen:c,subtitle:this.props.subtitle}),this.props.ctaText!=null?b("React").createElement(q,{ctaText:this.props.ctaText}):null))};function a(){j.apply(this,arguments)}var o=function(a){return b("React").createElement("div",{className:"_72y2"},b("React").createElement("div",{className:"_72y3"+(a.imageAspectRatio>l?" _72y4":"")},b("React").createElement(b("Image.react"),{className:"_72y5",src:a.imageSrc}),a.isVideo?b("React").createElement("div",{className:"_72y6"},b("React").createElement(b("Image.react"),{src:g("497827")})):null),b("React").createElement("div",{className:"_72y7"},b("React").createElement("div",{className:"_72y8"},b("React").createElement(b("LineClamp.react"),{fitHeightToShorterText:!0,lineHeight:18,lines:2},a.title)),b("React").createElement("div",{className:"_72y9"},b("React").createElement(b("LineClamp.react"),{fitHeightToShorterText:!0,lineHeight:16,lines:2},a.description))))},p=function(a){return b("React").createElement("div",{className:"_72ya"},b("React").createElement(b("Image.react"),{className:"_72yb",src:a.isFullscreen?g("480719"):g("499729")}),b("React").createElement("div",{className:"_72yc"},a.iconSrc!==null?b("React").createElement("div",{className:"_72yd"},b("React").createElement(b("Image.react"),{className:"_72ye",src:a.iconSrc})):null,b("React").createElement("div",{className:"_72yf"},b("React").createElement("div",{className:"_72yg"},b("React").createElement(b("LineClamp.react"),{lineHeight:16,lines:1},a.subtitle)),b("React").createElement("div",{className:"_72yh"},i._("Sponsored")))),b("React").createElement("div",{className:"_72yi"},b("React").createElement(b("Image.react"),{className:"_72yj",src:a.isFullscreen?g("504084"):g("547571")}),b("React").createElement(b("Image.react"),{className:"_72yk",src:a.isFullscreen?g("716181"):g("716180")})))},q=function(a){return b("React").createElement("div",{className:"_72yl"},b("React").createElement("div",{className:"_72ym"},a.ctaText))};e.exports=a}),null);
__d("OptimisticAdPreviewErrors",[],(function(a,b,c,d,e,f){"use strict";a={annotatedElementNotFound:"annotatedElementNotFound",carouselCardSpecNotFound:"carouselCardSpecNotFound",carouselImageContainerNotFound:"carouselImageContainerNotFound",carouselImageNotFound:"carouselImageNotFound",carouselImageRemovalNotSupported:"carouselImageRemovalNotSupported",displayLinkRemoved:"displayLinkRemoved",effectHadMultiplePathValues:"effectHadMultiplePathValues",emoticonsNotSupported:"emoticonsNotSupported",emptyImage:"emptyImage",gkFailed:"gkFailed",headlineRemoved:"headlineRemoved",iframeBlocked:"iframeBlocked",iframeNotFound:"iframeNotFound",imageNotFound:"imageNotFound",imageRemovalNotSupported:"imageRemovalNotSupported",invalidCrops:"invalidCrops",invalidCTAType:"invalidCTAType",linkDescriptionRemoved:"linkDescriptionRemoved",mentionsNotSupported:"mentionsNotSupported",noButtonCTA:"noButtonCTA",nullValue:"nullValue",previewContainerNotFound:"previewContainerNotFound",stockImagesNotSupported:"stockImagesNotSupported",targetElementNotFound:"targetElementNotFound",videoNotFound:"videoNotFound",videoRemovalNotSupported:"videoRemovalNotSupported",videoMissingMetadata:"videoMissingMetadata",carouselCardNotFound:"carouselCardNotFound",carouselCardAdded:"carouselCardAdded",carouselCardRemoved:"carouselCardRemoved",carouselCardHeadlineNotFound:"carouselCardHeadlineNotFound",carouselCardHeadlineRemoved:"carouselCardHeadlineRemoved",carouselCardMultipleChanges:"carouselCardMultipleChanges",carouselCardDescriptionNotFound:"carouselCardDescriptionNotFound",carouselCardDescriptionRemoved:"carouselCardDescriptionRemoved",carouselCardCTANotFound:"carouselCardCTANotFound",unsupportedMessageString:"unsupportedMessageString"};e.exports=a}),null);
__d("OptimisticAdPreviewResults",[],(function(a,b,c,d,e,f){"use strict";a={SKIPPED:"SKIPPED",SUCCESS:"SUCCESS"};e.exports=a}),null);
__d("OptimisticAdPreviewANInterstitialEffect",["csx","fbt","AdsAPIAdgroupPaths","AdsCallToActionTypes","AdsImageStore","AdsOffsiteAdInterstitialPreview.react","AdsPageStore","AdsPreviewApiFormats","ApiAdObjectTypes","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","React","ReactDOM","ShutterstockImageUtils","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a={name:"an-interstitial-container",id:"an-interstitial",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC],formats:[b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL],update:function(a,c,d){__p&&__p();c=a.querySelector("._72xz");if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c=l(d);if(!c)return b("OptimisticAdPreviewErrors").emptyImage;if(b("ShutterstockImageUtils").isStockImageURL(c))return b("OptimisticAdPreviewErrors").stockImagesNotSupported;b("ReactDOM").render(b("React").createElement(b("AdsOffsiteAdInterstitialPreview.react"),{ctaText:n(d),description:o(d),iconSrc:s(d),imageAspectRatio:m(d),imageSrc:c,isVideo:i(d),subtitle:r(d),title:p(d)}),a);return b("OptimisticAdPreviewResults").SUCCESS}};var i=function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE)===b("ApiAdObjectTypes").VIDEO},j=function(a){return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE)},k=function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);if(!a)return null;a=b("AdsImageStore").get(a);return!a?null:a},l=function(a){if(i(a))return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL);var c=k(a);a=j(a);return c?c.url:a||null},m=function(a){a=k(a);return a?Math.floor(100*a.width/a.height)/100:1},n=function(a){a=b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE);if(!a)return null;a=b("AdsCallToActionTypes").TYPES[a];return!a?null:a.text},o=function(a){return b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE)},p=function(a){var c=h._("Headline");return b("getByPath")(a,i(a)?b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE:b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME)||c},q=function(a){a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID);return!a?null:b("AdsPageStore").get(a)},r=function(a){a=q(a);return!a?null:a.name},s=function(a){a=q(a);return!a?null:b("getByPath")(a,["picture","data","url"])};e.exports=a}),null);
__d("adsOptimisticPreviewQESelector",["adsCreateAdAccountQESelector","adsCreateSelector","camelizeProps"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateAdAccountQESelector")("ads_optimistic_preview");var g=["is_optimistic_carousel_ad_preview_enabled","is_optimistic_desktop_image_ad_preview_enabled","is_optimistic_empty_image_ad_preview_enabled","is_optimistic_ig_ad_preview_enabled","is_optimistic_image_ad_preview_enabled","is_optimistic_video_ad_preview_enabled","is_optimistic_an_interstitial_enabled"],h=["is_optimistic_carousel_ad_preview_enabled","is_optimistic_desktop_image_ad_preview_enabled","is_optimistic_empty_image_ad_preview_enabled","is_optimistic_ig_ad_preview_enabled","is_optimistic_image_ad_preview_enabled","is_optimistic_video_ad_preview_enabled"];c=b("adsCreateSelector")([a],function(a){var c=a.isDone()&&a.hasValue();return b("camelizeProps")(g.reduce(function(b,d){h.includes(d)?b[d]=c&&a.getValueEnforcing().getParamBool(d,!0):b[d]=c&&a.getValueEnforcing().getParamBool(d,!1);return b},{}))},{name:e.id+".adsOptimisticPreviewQESelector"});e.exports=c}),null);
__d("OptimisticAdPreviewUtils",["AdsAPIAdgroupPaths","AdsCallToActionTypes","AdsLinkPostFormat","AdsLoadState_LEGACY","AdsMediaFormat","AdsPreviewApiFormats","AdsWhatsAppUtils","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","adsOptimisticPreviewQESelector","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="carousel-card",h=[function(a,c,d,e){return a.isOptimisticImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").IMAGE&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticVideoAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").VIDEO&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticCarouselAdPreviewEnabled&&c===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD&&d===b("AdsMediaFormat").CAROUSEL&&e===b("AdsLinkPostFormat").MULTIPLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").IMAGE&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").VIDEO&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticDesktopImageAdPreviewEnabled&&c===b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD&&d===b("AdsMediaFormat").CAROUSEL&&e===b("AdsLinkPostFormat").MULTIPLE},function(a,c,d,e){return a.isOptimisticIgAdPreviewEnabled&&c===b("AdsPreviewApiFormats").INSTAGRAM_STANDARD&&(d===b("AdsMediaFormat").IMAGE||d===b("AdsMediaFormat").VIDEO)&&e===b("AdsLinkPostFormat").SINGLE},function(a,c,d,e){return a.isOptimisticAnInterstitialEnabled&&c===b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL&&(d===b("AdsMediaFormat").IMAGE||d===b("AdsMediaFormat").VIDEO)&&e===b("AdsLinkPostFormat").SINGLE}],i={validateAndApplyImageCropEffect:function(a,c,d,e,f,g){__p&&__p();f=i.getCrop(f);if(f===null)return b("OptimisticAdPreviewErrors").invalidCrops;a=a.getSelectedAccountIDX();c=c.getOneFor(a,g);a=typeof c==="string"?c:c.loadState;g=typeof c!=="string"?c:null;if(a===b("AdsLoadState_LEGACY").LOADING)return b("OptimisticAdPreviewErrors").imageNotFound;if(a!==b("AdsLoadState_LEGACY").LOADED)return b("OptimisticAdPreviewErrors").imageNotFound;if(g===null)return b("OptimisticAdPreviewErrors").imageNotFound;c=d.clientWidth;a=d.clientHeight;e.style.backgroundImage='url("'+g.url+'")';d=f[1][0]-f[0][0];var h=f[1][1]-f[0][1];e.style.backgroundSize=g.width/d*100+"% "+g.height/h*100+"%";e.style.backgroundPosition="-"+c/d*f[0][0]+"px -"+a/h*f[0][1]+"px";return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyImageEffect:function(a,c,d){if(d===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(d===null)return b("OptimisticAdPreviewErrors").imageRemovalNotSupported;a=a.get(d);if(!a)return b("OptimisticAdPreviewErrors").imageNotFound;c.style.background='center / cover url("'+a.url+'")';return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyCtaEffect:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").noButtonCTA;c=b("AdsCallToActionTypes").TYPES[c];if(!c)return b("OptimisticAdPreviewErrors").invalidCTAType;a.innerText=b("AdsWhatsAppUtils").isWhatsAppCTAType(c.name)?c.short_text:c.text;return b("OptimisticAdPreviewResults").SUCCESS},validateAndApplyCarouselEffect:function(a,c,d,e){__p&&__p();var f=a.querySelectorAll('[data-ad-preview="'+g+'"]');if(c===null||f===null)return b("OptimisticAdPreviewResults").SKIPPED;if(c.length>f.length)return b("OptimisticAdPreviewErrors").carouselCardAdded;a=c.map(function(a,c){__p&&__p();if(a===null)return b("OptimisticAdPreviewErrors").carouselCardRemoved;if(a===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(Object.keys(a).length>1)return b("OptimisticAdPreviewErrors").carouselCardMultipleChanges;if(!f[c])return b("OptimisticAdPreviewErrors").carouselCardNotFound;var g=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)[c];return!g?b("OptimisticAdPreviewErrors").carouselCardSpecNotFound:e(f[c],a,g)});c=a.filter(function(a){return Object.prototype.hasOwnProperty.call(b("OptimisticAdPreviewErrors"),a)});if(c.length)return c[0];c=a.filter(function(a){return a===b("OptimisticAdPreviewResults").SUCCESS});return c.length?b("OptimisticAdPreviewResults").SUCCESS:b("OptimisticAdPreviewResults").SKIPPED},shouldUpdate:function(a,b,c,d){return!a?!1:h.some(function(e){return a&&e(a,b,c,d)})},getCrop:function(a){var b=Object.keys(a)[0];a=a[b];if(a===null)return null;a.length===1&&(a[1]=a[0],a[0]=[0,0]);return a}};e.exports=i}),null);
__d("OptimisticAdPreviewCarouselDescriptionEffect",["AdsAPIAdgroupPaths","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").DESCRIPTION,h={name:"carousel",id:"carousel-description",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],updateDescriptions:function(a,c){__p&&__p();c=c[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").carouselCardDescriptionRemoved;a=a.querySelector('[data-ad-preview="card-description"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardDescriptionNotFound;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS},update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h.updateDescriptions)}};e.exports=h}),null);
__d("OptimisticAdPreviewCarouselHeadlineEffect",["AdsAPIAdgroupPaths","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").NAME,h={name:"carousel",id:"carousel-headline",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],updateHeadline:function(a,c){__p&&__p();c=c[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").carouselCardHeadlineRemoved;a=a.querySelector('[data-ad-preview="card-headline"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardHeadlineNotFound;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS},update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h.updateHeadline)}};e.exports=h}),null);
__d("OptimisticAdPreviewCarouselImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS,h=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"carousel-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};var i=function(a,c,d){__p&&__p();c=d[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewResults").SKIPPED;a=a.querySelector('[data-ad-preview="image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var e=a.querySelector("i");return!e?b("OptimisticAdPreviewErrors").carouselImageNotFound:b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,e,c,d[h])};e.exports=a}),null);
__d("OptimisticAdPreviewCarouselImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"carousel-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h)}};var h=function(a,c){a=a.querySelector('[data-ad-preview="image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;a=a.querySelector("i");return!a?b("OptimisticAdPreviewErrors").carouselImageNotFound:b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c[g])};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"cta",id:"desktop-cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)}};e.exports=d}),null);
__d("OptimisticAdPreviewDesktopCarouselCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,h=b("ApiCallToActionFields").TYPE,i=function(a,c){a=a.querySelector('[data-ad-preview="carousel-cta"]');if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;c=b("getByPath")(c,[g,h]);return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)};a={name:"carousel",id:"desktop-carousel-CTA",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],mediaFormats:[b("AdsMediaFormat").CAROUSEL],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCarouselImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_CROPS,h=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"desktop-carousel-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};var i=function(a,c,d){__p&&__p();c=d[g];if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewResults").SKIPPED;a=a.querySelector('[data-ad-preview="carousel-image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;var e=a.querySelector('[data-ad-preview="carousel-image"]');if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,d[h])};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopCarouselImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").IMAGE_HASH;a={name:"carousel",id:"desktop-carousel-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,h)}};var h=function(a,c){__p&&__p();a=a.querySelector('[data-ad-preview="carousel-image-container"]');if(!a)return b("OptimisticAdPreviewErrors").carouselImageContainerNotFound;c=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c[g]);if(c!==b("OptimisticAdPreviewResults").SUCCESS)return c;c=a.querySelector('[data-ad-preview="carousel-image"]');if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c.setAttribute("src","");return b("OptimisticAdPreviewResults").SUCCESS};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopDisplayLinkEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";a={name:"display-link",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.CAPTION],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").displayLinkRemoved;a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",id:"desktop-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=a.querySelector("[data-ad-preview=image]");if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");e=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,e)}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",id:"desktop-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){c=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c);if(c!==b("OptimisticAdPreviewResults").SUCCESS)return c;c=a.querySelector('[data-ad-preview="image"]');if(!c)return b("OptimisticAdPreviewErrors").targetElementNotFound;c.setAttribute("src","");return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewDesktopVideoEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"video",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD,b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;c=b("AdsVideoStore").get(c);if(!c)return b("OptimisticAdPreviewErrors").videoNotFound;if(c.download_sd_url==null||c.preferredThumbnail==null||c.preferredThumbnail.uri==null)return b("OptimisticAdPreviewErrors").videoMissingMetadata;a.setAttribute("src",c.download_sd_url);a.setAttribute("poster",c.preferredThumbnail.uri);return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewDisplayLinkEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"display-link-container",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.CAPTION],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").displayLinkRemoved;a=a.querySelector("span");if(a){a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewHeadlineEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"headline",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.NAME,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.TITLE],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD,b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").headlineRemoved;if(a){a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewIGCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"ig-cta",id:"ig-cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)}};e.exports=d}),null);
__d("OptimisticAdPreviewIGFeedImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"media-container",id:"ig-image-crop",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_CROPS)||b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=b("OptimisticAdPreviewUtils").getCrop(c);if(e===null)return b("OptimisticAdPreviewErrors").invalidCrops;var f=e[1][0]-e[0][0];e=e[1][1]-e[0][1];a.style.height=e*(a.clientWidth/f)+"px";e=a.querySelector('[data-ad-preview="image"]');if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;e.setAttribute("src","");f=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH)||b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,a,c,f)}};e.exports=a}),null);
__d("OptimisticAdPreviewIGFeedImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"media-container",id:"ig-image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c,d){__p&&__p();d=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.INSTAGRAM.IMAGE_HASH);d&&(c=d);d=b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c);if(d!==b("OptimisticAdPreviewResults").SUCCESS)return d;d=a.querySelector('[data-ad-preview="image"]');if(!d)return b("OptimisticAdPreviewErrors").targetElementNotFound;a=b("AdsImageStore").get(b("nullthrows")(c));if(!a)return b("OptimisticAdPreviewErrors").imageNotFound;d.setAttribute("src",a.url);d.style.visibility="hidden";return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewIGMessageEffect",["cx","AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a={name:"ig-message",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE],formats:[b("AdsPreviewApiFormats").INSTAGRAM_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;c===null&&(c="");var d=c.match(/(([^\u0000-\u007F]|\w|[\'!\"#$%&()*+,\-.\/:;<=>?@\[\]^_`{|}~])+)|\s+/g);if(!d)if(c==="")return b("OptimisticAdPreviewResults").SUCCESS;else return b("OptimisticAdPreviewErrors").unsupportedMessageString;if(c.length!==d.reduce(function(a,b){return a+b.length},0))return b("OptimisticAdPreviewErrors").unsupportedMessageString;Array.from(a.getElementsByTagName("span")).forEach(function(a){var b=a.firstChild;b&&a.removeChild(b)});h(a,d);return b("OptimisticAdPreviewResults").SUCCESS}};var h=function(a,b){__p&&__p();b.forEach(function(b){__p&&__p();var c=document.createElement("span");(b.indexOf("#")||b.indexOf("@"))&&(c.className+="_wd9");a.insertBefore(c,a.firstChild);if(b===""){var d=document.createElement("span");a.insertBefore(d,c.firstChild);d.innerText=" "}else if(b==="\n"){d=document.createElement("br");a.insertBefore(d,c.firstChild)}else{d=document.createElement("span");a.insertBefore(d,c.firstChild);d.innerText=b}})};e.exports=a}),null);
__d("OptimisticAdPreviewImageCropEffect",["AdsAccountStore","AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"image-container",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){__p&&__p();c=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_CROPS);if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").nullValue;if(Object.keys(c).length===0)return b("OptimisticAdPreviewErrors").invalidCrops;var e=a.querySelector("[data-ad-preview=image]");if(!e)return b("OptimisticAdPreviewErrors").targetElementNotFound;var f=b("OptimisticAdPreviewUtils").getCrop(c);if(f===null)return b("OptimisticAdPreviewErrors").invalidCrops;var g=f[1][0]-f[0][0];f=f[1][1]-f[0][1];e.style.paddingBottom=f*(a.clientWidth/g)+"px";f=b("getByPath")(d,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH);return b("OptimisticAdPreviewUtils").validateAndApplyImageCropEffect(b("AdsAccountStore"),b("AdsImageStore"),a,e,c,f)}};e.exports=a}),null);
__d("OptimisticAdPreviewImageEffect",["AdsAPIAdgroupPaths","AdsImageStore","AdsPreviewApiFormats","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a={name:"image",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.IMAGE_HASH],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){return b("OptimisticAdPreviewUtils").validateAndApplyImageEffect(b("AdsImageStore"),a,c)}};e.exports=a}),null);
__d("OptimisticAdPreviewLinkDescriptionEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"link-description",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.DESCRIPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.LINK_DESCRIPTION],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD,b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").linkDescriptionRemoved;if(a){a.innerText=c;return b("OptimisticAdPreviewResults").SUCCESS}else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=a}),null);
__d("OptimisticAdPreviewMessageEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","EmoticonsList","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"message",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.MESSAGE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PHOTO_DATA.CAPTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE],formats:[b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD,b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();c=c;if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;c===null&&(c="");if(c.indexOf("@[")!==-1)return b("OptimisticAdPreviewErrors").mentionsNotSupported;var d=new RegExp(b("EmoticonsList").regexp.source,"g");if(d.test(c))return b("OptimisticAdPreviewErrors").emoticonsNotSupported;while(a.firstChild)a.removeChild(a.firstChild);d=c.split("\n\n");d.reverse().forEach(function(b){var c=document.createElement("p");c.innerText=b;a.insertBefore(c,a.firstChild)});return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewMobileCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils"],(function(a,b,c,d,e,f){"use strict";a=b("AdsMediaFormat").IMAGE;c=b("AdsMediaFormat").VIDEO;d={name:"cta",id:"cta",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE],mediaFormats:[a,c],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){a=a.querySelector("span");if(a)return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c);else return b("OptimisticAdPreviewErrors").targetElementNotFound}};e.exports=d}),null);
__d("OptimisticAdPreviewMobileCarouselCTAEffect",["AdsAPIAdgroupPaths","AdsMediaFormat","AdsPreviewApiFormats","ApiCallToActionFields","ApiObjectStorySpecLinkChildFields","OptimisticAdPreviewErrors","OptimisticAdPreviewUtils","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiObjectStorySpecLinkChildFields").CALL_TO_ACTION,h=b("ApiCallToActionFields").TYPE,i=function(a,c){a=a.querySelector("[data-ad-preview=carousel-cta]");if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;a=a.querySelector("span");if(!a)return b("OptimisticAdPreviewErrors").carouselCardCTANotFound;c=b("getByPath")(c,[g,h]);return b("OptimisticAdPreviewUtils").validateAndApplyCtaEffect(a,c)};a={name:"carousel",id:"mobile-carousel-CTA",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS],mediaFormats:[b("AdsMediaFormat").CAROUSEL],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c,d){return b("OptimisticAdPreviewUtils").validateAndApplyCarouselEffect(a,c,d,i)}};e.exports=a}),null);
__d("OptimisticAdPreviewVideoEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","AdsVideoStore","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={name:"video",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){__p&&__p();if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;var d=b("AdsVideoStore").get(c);if(!d)return b("OptimisticAdPreviewErrors").videoNotFound;var e=a.getAttribute("data-store");if(e===null||e===void 0)return b("OptimisticAdPreviewErrors").videoNotFound;e=JSON.parse(e);e.src=d.download_sd_url;e.videoID=c;e.rootID=c;a.setAttribute("data-store",JSON.stringify(e));return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewVideoThumbnailEffect",["AdsAPIAdgroupPaths","AdsPreviewApiFormats","OptimisticAdPreviewErrors","OptimisticAdPreviewResults"],(function(a,b,c,d,e,f){"use strict";a={name:"video-cover",paths:[b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL],formats:[b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD],update:function(a,c){if(c===void 0)return b("OptimisticAdPreviewResults").SKIPPED;if(c===null)return b("OptimisticAdPreviewErrors").videoRemovalNotSupported;a.style.background='center / cover url("'+c+'")';return b("OptimisticAdPreviewResults").SUCCESS}};e.exports=a}),null);
__d("OptimisticAdPreviewEffectsAggregator",["AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","OptimisticAdPreviewANInterstitialEffect","OptimisticAdPreviewCarouselDescriptionEffect","OptimisticAdPreviewCarouselHeadlineEffect","OptimisticAdPreviewCarouselImageCropEffect","OptimisticAdPreviewCarouselImageEffect","OptimisticAdPreviewDesktopCarouselCTAEffect","OptimisticAdPreviewDesktopCarouselImageCropEffect","OptimisticAdPreviewDesktopCarouselImageEffect","OptimisticAdPreviewDesktopCTAEffect","OptimisticAdPreviewDesktopDisplayLinkEffect","OptimisticAdPreviewDesktopImageCropEffect","OptimisticAdPreviewDesktopImageEffect","OptimisticAdPreviewDesktopVideoEffect","OptimisticAdPreviewDisplayLinkEffect","OptimisticAdPreviewErrors","OptimisticAdPreviewHeadlineEffect","OptimisticAdPreviewIGCTAEffect","OptimisticAdPreviewIGFeedImageCropEffect","OptimisticAdPreviewIGFeedImageEffect","OptimisticAdPreviewIGMessageEffect","OptimisticAdPreviewImageCropEffect","OptimisticAdPreviewImageEffect","OptimisticAdPreviewLinkDescriptionEffect","OptimisticAdPreviewMessageEffect","OptimisticAdPreviewMobileCarouselCTAEffect","OptimisticAdPreviewMobileCTAEffect","OptimisticAdPreviewResults","OptimisticAdPreviewVideoEffect","OptimisticAdPreviewVideoThumbnailEffect","getByPath","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Map,h=[b("OptimisticAdPreviewIGCTAEffect"),b("OptimisticAdPreviewIGMessageEffect"),b("OptimisticAdPreviewMessageEffect"),b("OptimisticAdPreviewImageCropEffect"),b("OptimisticAdPreviewImageEffect"),b("OptimisticAdPreviewMobileCTAEffect"),b("OptimisticAdPreviewHeadlineEffect"),b("OptimisticAdPreviewDisplayLinkEffect"),b("OptimisticAdPreviewLinkDescriptionEffect"),b("OptimisticAdPreviewVideoEffect"),b("OptimisticAdPreviewVideoThumbnailEffect"),b("OptimisticAdPreviewCarouselHeadlineEffect"),b("OptimisticAdPreviewCarouselDescriptionEffect"),b("OptimisticAdPreviewMobileCarouselCTAEffect"),b("OptimisticAdPreviewCarouselImageEffect"),b("OptimisticAdPreviewCarouselImageCropEffect"),b("OptimisticAdPreviewDesktopCTAEffect"),b("OptimisticAdPreviewDesktopImageEffect"),b("OptimisticAdPreviewDesktopImageCropEffect"),b("OptimisticAdPreviewDesktopDisplayLinkEffect"),b("OptimisticAdPreviewDesktopCarouselCTAEffect"),b("OptimisticAdPreviewDesktopCarouselImageEffect"),b("OptimisticAdPreviewDesktopCarouselImageCropEffect"),b("OptimisticAdPreviewDesktopVideoEffect"),b("OptimisticAdPreviewIGFeedImageEffect"),b("OptimisticAdPreviewIGFeedImageCropEffect"),b("OptimisticAdPreviewANInterstitialEffect")],i=function(a,c,d,e,f){__p&&__p();var g=new(b("AdsAPIAdgroupRecord"))(d);g=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(g);if(a.mediaFormats&&!a.mediaFormats.includes(g))return b("OptimisticAdPreviewResults").SKIPPED;if(a.formats&&!a.formats.includes(e))return b("OptimisticAdPreviewResults").SKIPPED;g=a.paths.map(function(a){return b("getByPath")(c,a)}).filter(function(a){return a!==void 0});if(g.length===0)return b("OptimisticAdPreviewResults").SKIPPED;if(g.length>1)return b("OptimisticAdPreviewErrors").effectHadMultiplePathValues;e=f.querySelector('[data-ad-preview="'+a.name+'"]');return!e?b("OptimisticAdPreviewErrors").annotatedElementNotFound:a.update(e,g[0],d)};a=function(a,c,d,e){var f=e;if(a===void 0)return g([["noSpecChanges",b("OptimisticAdPreviewResults").SKIPPED]]);return!f?g([["all",b("OptimisticAdPreviewErrors").previewContainerNotFound]]):g(h.map(function(e){return[e.id||e.name,i(e,b("nullthrows")(a),c,d,f)]}))};e.exports={run:a}}),null);
__d("getPathsFromSpec",[],(function(a,b,c,d,e,f){"use strict";e.exports=function a(b){return b&&typeof b==="object"&&b.constructor===Object&&Object.getOwnPropertyNames(b).length>0?Object.keys(b).map(function(c){return a(b[c]).map(function(a){return[c].concat(a)})}).reduce(function(a,b){return a.concat(b)},[]):[[]]}}),null);
__d("AdsAdgroupPreview.react",["cx","fbt","AdPreviewIFrameResizeListener","AdFacebookStoryAdPreviewDisclaimer.react","AdPreviewBorderStyles","AdPreviewLoadingOverlayTypes","AdsAdgroupOptimisticAdPreviewErrorAction","AdsAdgroupOptimisticAdPreviewSkippedAction","AdsAdgroupOptimisticAdPreviewSuccessAction","AdsAdgroupPreviewLoader.react","AdsAdgroupPreviewLoadErrorDataAction","AdsAdgroupPreviewLoadFinishedDataAction","AdsAdgroupPreviewLoadStartDataAction","AdsAdgroupPreviewLoadSuccessDataAction","AdsAdgroupPreviewRefreshButton.react","AdsAdgroupPreviewRefreshLink.react","AdsAdgroupPreviewSelectedPreviewLoadedDataAction","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAPIObjectives","AdsCCCategory","AdsCCNotificationWrapper.react","AdsFeedStoryShim.react","AdsInstagramStoryAdPreviewDisclaimer.react","AdsInterfaceCreativeLoggingEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsInterfacesLoggerConfigColumns","AdsLoadState_LEGACY","AdsPerfTiming","AdsPreviewApiFormats","AdsPreviewBugReportContainer.react","AdsPreviewLogger","AdsPreviewUtils","AdsStockImageWatermarkNotice.react","AdsTestIDs","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","Arbiter","BUIProgressBar.react","CenteredContainer.react","DynamicAdsPreviewRenderType","ErrorMarker.react","FBLogger","OptimisticAdPreviewAccuracyV2TypedLogger","OptimisticAdPreviewEffectsAggregator","OptimisticAdPreviewErrors","OptimisticAdPreviewResults","React","ShutterstockImageUtils","UIPagelet","WaitTimeArea.react","WebApiApplication","areEqual","areSpecsEqual","deleteByPath","getByPath","getObjectValues","getPathsFromSpec","getSpecsDiff","ghlTestUBT","gkx","guid","immutable","mergeDeep"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("AdPreviewIFrameResizeListener");var j=b("AdsInterfacesLogEvents").Event,k=b("immutable").Map;c=b("React").PropTypes;var l=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.STATIC_FALLBACK_SPEC.path,m=b("gkx")("780332"),n={Initial:"Initial",First:"First",Second:"Second"};d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(a){i.constructor.call(this,a),this.$1=!1,this.$2=null,this.$3=null,this.$4=!1,this.$5=!1,this.$6=!1,this.$7=null,this.$8=null,this.$9=null,this.$10=!1,this.onRefreshClick=function(){var a;b("AdsInterfacesLogger").log({eventName:j.ADGROUP_PREVIEW_REFRESH_CLICK,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a[b("AdsInterfacesLoggerConfigColumns").ADGROUP_SPEC]=this.props.adgroupSpec,a[b("AdsInterfacesLoggerConfigColumns").FBTRACE_ID]=this.state.fbtraceID,a)});b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:this.$13(1)},{line:"1399",module:"AdsAdgroupPreview.react.js"});this.$19(this.props)}.bind(this),this.state={error:null,loading:!1,pagelet:null,pageletID:null,pageletElement:null,targetID:b("guid")(),loadingCount:0,activeContainer:n.Initial,isWaitingForPreviewToLoad:!1}}a.prototype.shouldComponentUpdate=function(a,c){return!b("areEqual")(this.props,a)||!b("areEqual")(babelHelpers["extends"]({loadingCount:0},this.state),babelHelpers["extends"]({loadingCount:0},c))};a.prototype.getNonPageLetContent=function(){return!this.state.error?null:b("React").createElement(b("ErrorMarker.react"),{name:"AdsAdgroupPreview"},b("React").createElement("div",{className:"_14-t"},b("React").createElement(b("AdsCCNotificationWrapper.react"),{ccCardProps:{category:b("AdsCCCategory").ERROR,messageID:"adgroup_preview_loading_error",textData:[{type:"PARAGRAPH",data:{text:this.state.error}}]},suiNoticeProps:{type:"error",messageBody:this.state.error}})))};a.prototype.getDecoratorOverlay=function(){return!this.props.decorator?null:b("React").createElement("div",{className:"_n3z",ref:"previewContainerOverlayPlaceHolder"})};a.prototype.getWatermarkNotice=function(){return!this.props.imageURL||!b("ShutterstockImageUtils").isStockImageURL(this.props.imageURL)?null:b("React").createElement(b("AdsStockImageWatermarkNotice.react"),{className:"_3-94 _3-8x"})};a.prototype.getIGStoryDisclaimer=function(a){return this.props.format!==b("AdsPreviewApiFormats").INSTAGRAM_STORY?null:b("React").createElement(b("AdsInstagramStoryAdPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,className:"_3-94"+(a?" _3-8w":"")+(a?"":" _3-8x")})};a.prototype.getFBStoryCaptionDisclaimer=function(a){return this.props.format!==b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE||!this.props.hasInstagramStoryFormat?null:b("React").createElement(b("AdFacebookStoryAdPreviewDisclaimer.react"),{adgroupSpec:this.props.adgroupSpec,className:"_3-94"+(a!=null?" _3-8w":"")+(a!=null?" _3-8x":"")})};a.prototype.getNewFooterSection=function(a){return!this.props.showFooterSection?null:b("React").createElement("div",{className:"_1k44 _6un-"},b("React").createElement(b("AdsPreviewBugReportContainer.react"),{error:this.state.error,fbtraceID:this.state.fbtraceID,format:this.props.format,isBugReportButtonDisabled:a,previewParams:this.$11(this.props)}),b("React").createElement("div",{className:"_3-9b"},b("React").createElement(b("AdsAdgroupPreviewRefreshButton.react"),{isDisabled:a,onRefreshClick:this.onRefreshClick})))};a.prototype.getOldFooterSection=function(){return this.state.loading&&!this.$6||!this.props.showFooterSection?null:b("React").createElement("div",{className:"_1k44"},b("React").createElement(b("AdsAdgroupPreviewRefreshLink.react"),{onRefreshClick:this.onRefreshClick}),b("React").createElement(b("AdsPreviewBugReportContainer.react"),{error:this.state.error,fbtraceID:this.state.fbtraceID,format:this.props.format,isBugReportButtonDisabled:!1,previewParams:this.$11(this.props)}))};a.prototype.getCenteredContaienr=function(a){return b("React").createElement(b("CenteredContainer.react"),{className:(a==null?"hidden_elem":"")+(this.state.loading?" _5zm":""),vertical:!0},a)};a.prototype.getNewLoader=function(){var a=b("gkx")("677855");return b("React").createElement("div",{className:(this.props.borderStyle!==b("AdPreviewBorderStyles").NONE?"_2ph-":"")+(a&&!this.state.isWaitingForPreviewToLoad?" hidden_elem":"")},b("React").createElement(b("AdsAdgroupPreviewLoader.react"),{format:this.props.format}))};a.prototype.getProgressBar=function(){var a;if(!this.state.loading||this.$6||this.props.loadingOverlay!==b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR)return null;a=(a=this.props.adgroupSpec.creative)==null?void 0:a.object_type;return b("React").createElement(o,{isLoading:this.state.loading,objectType:a})};a.prototype.getOldOverlay=function(){var a=this.props.parentContainerHeight,c=null;a=a?a:"100%";this.state.loading&&!this.$6&&(this.props.loadingOverlay===b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR?c=b("React").createElement("div",{className:"_4aqb",style:{height:a}}):c=b("React").createElement("div",{className:"_1eg2",style:{height:a}},b("React").createElement(b("AdsFeedStoryShim.react"),null)));return c};a.prototype.getPreviewContainers=function(){var a=b("gkx")("677855");return b("React").createElement("div",{className:(this.props.borderStyle!==b("AdPreviewBorderStyles").NONE?"_2ph-":"")+" _228q"+(a&&!this.$6&&this.state.isWaitingForPreviewToLoad?" hidden_elem":""),id:this.state.targetID,key:this.state.targetID},this.props.shouldOptimisticallyUpdate?b("React").createElement("div",{className:this.state.activeContainer!==n.Second?"hidden_elem":"","data-ad-preview":this.state.activeContainer!==n.First?"previewContainer":null,id:this.state.targetID+"-1",ref:"previewContainer"}):null,b("React").createElement("div",{className:this.state.activeContainer===n.Second?"hidden_elem":"","data-ad-preview":this.state.activeContainer===n.First?"previewContainer":null,id:this.state.targetID+"-2",ref:"previewContainer2"}))};a.prototype.render=function(){var a=b("gkx")("677855"),c=this.getNonPageLetContent(),d=this.getProgressBar(),e=this.getOldOverlay(),f=this.getDecoratorOverlay(),g=a?this.getNewFooterSection(this.state.loading&&!this.$6):this.getOldFooterSection(),h=this.getWatermarkNotice(),i=this.getIGStoryDisclaimer(h!=null),j=this.getFBStoryCaptionDisclaimer(h!=null);i=i||j;return b("React").createElement("div",null,b("React").createElement("div",{className:"_5zg"},!a&&d,!a&&e,this.getPreviewContainers(),a&&!this.$6&&this.getNewLoader(),h,i,this.getCenteredContaienr(c),f),g)};a.prototype.$12=function(a){__p&&__p();var c=k(a).filter(function(a){return Object.prototype.hasOwnProperty.call(b("OptimisticAdPreviewErrors"),a)});if(!c.isEmpty()){b("AdsAdgroupOptimisticAdPreviewErrorAction").dispatch({errors:c,loggingData:babelHelpers["extends"]({},this.$13(1))},{line:"678",module:"AdsAdgroupPreview.react.js"});this.$6=!1;return}c=a.filter(function(a){return a===b("OptimisticAdPreviewResults").SUCCESS});this.$6=!c.isEmpty();if(!this.$6){b("AdsAdgroupOptimisticAdPreviewSkippedAction").dispatch({loggingData:babelHelpers["extends"]({},this.$13(1))},{line:"694",module:"AdsAdgroupPreview.react.js"});return}this.$14();b("AdsAdgroupOptimisticAdPreviewSuccessAction").dispatch({loggingData:babelHelpers["extends"]({},this.$13(1)),successes:Array.from(c.keys())},{line:"703",module:"AdsAdgroupPreview.react.js"})};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c=this.$15(this.props),d=this.$15(a);this.$4=!1;if(!b("areSpecsEqual")(c,d)||!this.$16(c,d,a)||!this.$17(a)||this.props.lastForceUpdateTimeStamp!==a.lastForceUpdateTimeStamp||this.props.previewRenderType!==a.previewRenderType||this.props.endDateTimeStamp!==a.endDateTimeStamp||this.props.startDateTimeStamp!==a.startDateTimeStamp){this.$4=!0;c=null;try{c=b("getSpecsDiff")(this.props.adgroupSpec,a.adgroupSpec);d=b("getPathsFromSpec")(c);this.$8=JSON.stringify(Object.assign.apply(Object,[{}].concat(d.map(function(a){var c;return c={},c[a.join(".")]=b("getByPath")(this.props.adgroupSpec,a),c}.bind(this)))));this.$9=JSON.stringify(Object.assign.apply(Object,[{}].concat(d.map(function(c){var d;return d={},d[c.join(".")]=b("getByPath")(a.adgroupSpec,c),d}))))}catch(a){this.$8=a.message}b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:this.$13(1)},{line:"755",module:"AdsAdgroupPreview.react.js"});if(this.props.shouldOptimisticallyUpdate&&!this.state.loading){c=c||b("getSpecsDiff")(this.props.adgroupSpec,a.adgroupSpec);try{this.$7=JSON.stringify(c)}catch(a){this.$7=a.message}d=this.$18(c,a.adgroupSpec);this.$12(d)}this.$19(a)}};a.prototype.$18=function(a,c){__p&&__p();var d=this.$20();if(this.props.format===b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD){var e=d.getElementsByTagName("iframe")[0];if(!e)return k([["all",b("OptimisticAdPreviewErrors").iframeNotFound]]);try{d=e.contentWindow.document}catch(a){return k([["all",b("OptimisticAdPreviewErrors").iframeBlocked]])}}return b("OptimisticAdPreviewEffectsAggregator").run(a,c,this.props.format,d)};a.prototype.$20=function(){return this.state.activeContainer===n.First?this.refs.previewContainer2:this.refs.previewContainer};a.prototype.$21=function(){return this.state.activeContainer===n.First?this.refs.previewContainer:this.refs.previewContainer2};a.prototype.$14=function(){var a=this.$20();a=a.getElementsByTagName("iframe")[0];a&&a.contentWindow.document.documentElement&&a.contentWindow.document.documentElement.scrollHeight>0&&(a.style.height=a.contentWindow.document.documentElement.scrollHeight+"px")};a.prototype.$16=function(a,c,d){var e,f=new(b("AdsAPIAdgroupRecord"))(this.props.adgroupSpec),g=new(b("AdsAPIAdgroupRecord"))(d.adgroupSpec);e=(e=f.creative)==null?void 0:e.object_type;if(e===b("ApiAdObjectTypes").INVALID)return!0;if(!b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(f,this.props.adgroupSpecPathPlugin)||!b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(g,d.adgroupSpecPathPlugin))return!0;e=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(f,this.props.adgroupSpecPathPlugin);f=b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(g,d.adgroupSpecPathPlugin);return b("areEqual")(b("getByPath")(a,e),b("getByPath")(c,f))};a.prototype.$17=function(a){var c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path;return b("areEqual")(b("getByPath")(this.props.adgroupSpec,c),b("getByPath")(a.adgroupSpec,c))};a.prototype.componentDidMount=function(){__p&&__p();b("AdsAdgroupPreviewLoadStartDataAction").dispatch({loggingData:this.$13(1)},{line:"891",module:"AdsAdgroupPreview.react.js"}),this.$1=!0,this.$19(this.props),this.$3=b("Arbiter").subscribe("AdPreview/IFrameLoadSuccess",function(a,c){__p&&__p();a=c.iframe;if(this.state.pageletID!==this.$2)return;c=null;var d=null;if(this.props.shouldOptimisticallyUpdate&&(this.$6||!this.$5)){var e=this.$21().getElementsByTagName("iframe")[0];(this.state.activeContainer===n.Initial||e&&a.id===e.id)&&(this.$20()&&(c=this.$20().getElementsByTagName("iframe")[0]),d=e,this.setState(function(a){return{activeContainer:a.activeContainer===n.First?n.Second:n.First}}))}this.$5=!0;if(d&&c)try{a=c.contentWindow.document.getElementById("viewport");e=d.contentWindow.document.getElementById("viewport");e&&a&&new(b("OptimisticAdPreviewAccuracyV2TypedLogger"))().setOptimisticPreviewSource(a.innerHTML).setServerPreviewSource(e.innerHTML).setDiffSpec(this.$7).log()}catch(a){c=babelHelpers["extends"]({},this.$13(),{errorType:a});b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:c},{line:"957",module:"AdsAdgroupPreview.react.js"})}m?b("AdsPreviewLogger").log("preview_load_finished",this.$13()):b("AdsAdgroupPreviewLoadFinishedDataAction").dispatch({loggingData:this.$13()},{line:"967",module:"AdsAdgroupPreview.react.js"})}.bind(this))};a.prototype.componentDidUpdate=function(){this.$1&&!this.state.loading&&!this.state.pageletElement&&(this.props.onFinishedLoading&&this.props.onFinishedLoading(),this.props.shouldLogLoading&&b("AdsAdgroupPreviewSelectedPreviewLoadedDataAction").dispatch({loggingData:this.$13()},{line:"983",module:"AdsAdgroupPreview.react.js"})),b("ghlTestUBT")(function(a){this.$10=a}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$22(),this.$3&&b("Arbiter").unsubscribe(this.$3)};a.prototype.$22=function(){this.state.pagelet&&this.state.pagelet.cancel()};a.prototype.$15=function(a){var c=a.accountID,d=a.adgroupSpec,e=a.assetLabel,f=a.borderStyle,g=a.dynamicCustomization,h=a.enableMsitePlayVideo,i=a.format,j=a.hideUfiInMobileNF,k=a.isShared,l=a.loadingOverlay,m=a.locale,n=a.objective,o=a.pagePostDetails,p=a.placePageIDs,q=a.productItemIDs;a=a.isDCOPreviewWithFixedIndex;return{adaccountid:c,adid:d.id,appid:b("WebApiApplication").getClientID(),assetlabel:e,borderstyle:f,creative:d.creative,creativeID:d.creativeID,dynamiccustomization:g,enablemsiteplayvideo:!!h,format:i,hideufiinmobilefeed:j,isshared:!!k,loadingoverlay:l,locale:m,pagePostDetails:o,placePageID:p&&p.loadState===b("AdsLoadState_LEGACY").LOADED&&p.list&&p.list.length>0?p.list[0]:null,productitemids:q&&q.hasValue()?q.getValueEnforcing().toArray():null,videodata:{ad_objective:n},isDCOPreviewWithFixedIndex:a,canrenderwatchandbrowsepreview:n===b("AdsAPIObjectives").CONVERSIONS||n===b("AdsAPIObjectives").LINK_CLICKS||n===b("AdsAPIObjectives").WEBSITE_CONVERSIONS}};a.prototype.$11=function(a){__p&&__p();var c,d=this.$15(a),e=d.adid,f=d.creative,g=d.creativeID,h=d.isDCOPreviewWithFixedIndex;d=babelHelpers.objectWithoutPropertiesLoose(d,["adid","creative","creativeID","isDCOPreviewWithFixedIndex"]);var i=a.enableComment,j=new(b("AdsAPIAdgroupRecord"))(a.adgroupSpec);c=(c=j.creative)==null?void 0:c.object_type;if(c!==b("ApiAdObjectTypes").INVALID){c=b("AdsUnifiedCreativeAPIFields").childAttachments.isSupported(j,a.adgroupSpecPathPlugin);c=c?b("AdsUnifiedCreativeAPIFields").childAttachments.getPathOrThrow(j,a.adgroupSpecPathPlugin):null;j=c?b("getByPath")(f,c.slice(1)):null;if(j&&c){j=j.some(function(a){return a.picture&&a.image_hash});if(j){j=b("mergeDeep")(f);b("getByPath")(j,c.slice(1)).forEach(function(a){a.picture&&a.image_hash&&delete a.picture});f=j}}}c=l.slice(1);if(a.previewRenderType!==b("DynamicAdsPreviewRenderType").FALLBACK&&b("getByPath")(f,c)){j=b("mergeDeep")(f);b("deleteByPath")(j,c);f=j}c=babelHelpers["extends"]({},d,{enableComment:i,enddate:a.endDateTimeStamp,render_type:a.previewRenderType,startdate:a.startDateTimeStamp});return a.shouldRenderPreviewByID?a.hasCreativeIDOverride?babelHelpers["extends"]({},c,{creativeid:g}):babelHelpers["extends"]({},c,{adid:e}):babelHelpers["extends"]({},c,{creative:f,isDCOPreviewWithFixedIndex:h})};a.prototype.$19=function(a){__p&&__p();a=this.$11(a);this.$22();this.setState(function(a){return{loadingCount:a.loadingCount+1,isWaitingForPreviewToLoad:!0}});var c=null;(this.refs.previewContainer||this.refs.previewContainer2)&&(this.$2=b("guid")(),c=b("UIPagelet").loadFromEndpoint("AdPreviewPageletController",!this.props.shouldOptimisticallyUpdate||this.$6||!this.$5?this.$21():this.$20(),babelHelpers["extends"]({},a,{version:b("AdsPreviewUtils").getPageletAPIVersion()}),{append:!1,bundle:!1,crossPage:!0,contentCacheKey:b("gkx")("729315")?JSON.stringify(a):void 0,displayCallback:function(a){this.$23(this.state.targetID,a)}.bind(this),errorHandler:function(){this.$24(this.state.targetID)}.bind(this),transportErrorHandler:function(){this.$24(this.state.targetID)}.bind(this),finallyHandler:function(a){return this.$25(a)}.bind(this)}));a=!!c&&c.isContentCached();this.props.onStartedLoading&&this.props.onStartedLoading();this.setState({error:null,loading:!this.$6&&!a,pagelet:c,pageletElement:this.refs.previewContainer||null})};a.prototype.$23=function(a,c){__p&&__p();if(!this.$1||a!==this.state.targetID)return;b("AdsAdgroupPreviewLoadSuccessDataAction").dispatch({loggingData:this.$13()},{line:"1214",module:"AdsAdgroupPreview.react.js"});this.setState({error:null,loading:!1,pagelet:null,isWaitingForPreviewToLoad:!1},function(){__p&&__p();try{c();this.props.decorator&&this.props.decorator.decoratePagelet(this.$21(),this.refs.previewContainerOverlayPlaceHolder,this.props.format);var a=this.$21().getElementsByTagName("iframe")[0];if(!a){this.props.shouldOptimisticallyUpdate&&(this.$6||!this.$5)&&this.setState(function(a){return{activeContainer:a.activeContainer===n.First?n.Second:n.First}});if(this.$20()){a=this.$20().getElementsByTagName("iframe")[0];try{if(a){a=a.contentWindow.document.getElementById("viewport");a&&new(b("OptimisticAdPreviewAccuracyV2TypedLogger"))().setOptimisticPreviewSource(a.innerHTML).setServerPreviewSource(this.$21().innerHTML).setDiffSpec(this.$7).log()}}catch(c){a=babelHelpers["extends"]({},this.$13(),{errorType:c});b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:a},{line:"1279",module:"AdsAdgroupPreview.react.js"})}}m?b("AdsPreviewLogger").log("preview_load_finished",this.$13()):b("AdsAdgroupPreviewLoadFinishedDataAction").dispatch({loggingData:this.$13()},{line:"1289",module:"AdsAdgroupPreview.react.js"});this.$5=!0}this.setState({pageletElement:null,pageletID:this.$2})}catch(a){this.setState({error:a.message}),b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:this.$13()},{line:"1305",module:"AdsAdgroupPreview.react.js"})}}.bind(this))};a.prototype.$24=function(a){if(!this.$1||a!==this.state.targetID)return;a=h._("Unable to generate preview");b("AdsAdgroupPreviewLoadErrorDataAction").dispatch({loggingData:this.$13()},{line:"1323",module:"AdsAdgroupPreview.react.js"});this.setState({error:a,loading:!1,pagelet:null,pageletElement:null,isWaitingForPreviewToLoad:!1});b("AdsInterfacesLogger").log({eventName:b("AdsInterfaceCreativeLoggingEvents").ADS_ADGROUP_PREVIEW_GENERATE_ERROR,data:(a={},a[b("AdsInterfacesLoggerConfigColumns").OBJECTIVE]=this.props.objective,a[b("AdsInterfacesLoggerConfigColumns").AD_PREVIEW_FORMAT]=this.props.format,a)},b("AdsInterfacesLogger").LOG_TYPE_SECONDARY_APP)};a.prototype.$25=function(a){if(!this.$1){b("FBLogger")("ads").warn("AdsAdgroupPreview tried to call setState after unmounting");return}this.setState({fbtraceID:a&&a.getResponseHeader("X-FB-Trace-ID")})};a.prototype.$13=function(a){a===void 0&&(a=0);var c=new(b("AdsAPIAdgroupRecord"))(this.props.adgroupSpec),d=null;this.props.shouldLogLoading!==void 0&&(d=this.props.shouldLogLoading?"visible":"not_visible");return{format:this.props.format,errorType:this.$10?"adBlocker":void 0,isEdit:this.props.isEdit||this.$4,linkPostFormat:b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(c,this.props.adgroupSpecPathPlugin),mediaFormat:b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c),loadingCount:this.state.loadingCount+a,timeSinceLoad:Date.now()-b("AdsPerfTiming").start,adgroupID:b("AdsAPIAdgroupRecordUtils").getID(c),metaMessage:this.state.targetID,hasObjectStorySpec:b("AdsAPIAdgroupRecordUtils").isExistingPostAd(c),actionType:this.$7,previewParent:this.props.previewParent,visibilityType:d,newValue:this.$9,oldValue:this.$8}};a.propTypes={accountID:c.string.isRequired,adgroupSpec:c.object.isRequired,adgroupSpecPathPlugin:c.object.isRequired,assetLabel:c.string,borderStyle:c.oneOf(b("getObjectValues")(b("AdPreviewBorderStyles"))),decorator:c.object,dynamicCustomization:c.object,enableComment:c.bool,enableMsitePlayVideo:c.bool,format:c.oneOf(b("getObjectValues")(b("AdsPreviewApiFormats"))).isRequired,hasCreativeIDOverride:c.bool,hasInstagramStoryFormat:c.bool,hideUfiInMobileNF:c.bool.isRequired,imageURL:c.string,isDCOPreviewWithFixedIndex:c.bool,lastForceUpdateTimeStamp:c.number,loadingOverlay:c.oneOf(b("getObjectValues")(b("AdPreviewLoadingOverlayTypes"))),objective:c.oneOf(Object.keys(b("AdsAPIObjectives"))).isRequired,pagePostDetails:c.object,parentContainerHeight:c.number,placePageIDs:c.object,productItemIDs:c.object,shouldRenderPreviewByID:c.bool.isRequired,showFooterSection:c.bool.isRequired,onFinishedLoading:c.func};a.defaultProps={borderStyle:b("AdPreviewBorderStyles").STANDARD,decorator:null,enableComment:!1,enableMsitePlayVideo:!0,hideUfiInMobileNF:!1,loadingOverlay:b("AdPreviewLoadingOverlayTypes").PROGRESS_BAR,showFooterSection:!0};function o(a){var c=a.isLoading?"visible":"hidden";a=a.objectType;var d="AdsAdgroupPreview";a===b("ApiAdObjectTypes").VIDEO&&(d="AdsAdgroupPreview - Video");return b("React").createElement("div",{className:"_5f6f","data-testid":b("AdsTestIDs").ADS_PROGRESS_BAR,style:{visibility:c}},b("React").createElement(b("WaitTimeArea.react"),{name:d,owner:"ads_advertiser_experience"},b("React").createElement(b("BUIProgressBar.react"),{flexibleWidth:!0,isBuffering:!0})))}e.exports=a}),null);
__d("AdsVideoCaptionUpdatePreviewDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="UPDATE_PREVIEW";e.exports={actionType:a}}),null);
__d("AdsAdgroupPreviewUpdateTimestampStore",["AdsCanvasElementSaveSuccessDataActionFlux","AdsCanvasSetTemplateVideoPreviewReadyActionFlux","AdsCanvasUnpublishedDocUpdatedDataActionFlux","AdsDataAtom","AdsMutatePostCTASuccessDataActionFlux","AdsVideoAdsVideoCaptionEditSuccessDataActionFlux","AdsVideoCaptionUpdatePreviewDataActionFlux","FluxReduceStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c=b("immutable").Record({lastForceUpdateTimeStamp:0});var i=b("gkx")("779516");g=babelHelpers.inherits(j,c);g&&g.prototype;function j(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new j()};a.prototype.__getActionTypes=function(){return i?["CrStActionTypes.PAGE_EDIT_SUCCESS",b("AdsCanvasElementSaveSuccessDataActionFlux").actionType,b("AdsCanvasSetTemplateVideoPreviewReadyActionFlux").actionType,b("AdsCanvasUnpublishedDocUpdatedDataActionFlux").actionType,b("AdsMutatePostCTASuccessDataActionFlux").actionType,b("AdsVideoAdsVideoCaptionEditSuccessDataActionFlux").actionType,b("AdsVideoCaptionUpdatePreviewDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){c=c.action;var d=c.timestamp!=null?c.timestamp:Date.now();switch(c.type){case b("AdsVideoAdsVideoCaptionEditSuccessDataActionFlux").actionType:case b("AdsVideoCaptionUpdatePreviewDataActionFlux").actionType:return!b("gkx")("677856")?a:a.set("lastForceUpdateTimeStamp",d);case"CrStActionTypes.PAGE_EDIT_SUCCESS":case b("AdsCanvasUnpublishedDocUpdatedDataActionFlux").actionType:case b("AdsMutatePostCTASuccessDataActionFlux").actionType:case b("AdsCanvasElementSaveSuccessDataActionFlux").actionType:case b("AdsCanvasSetTemplateVideoPreviewReadyActionFlux").actionType:return a.set("lastForceUpdateTimeStamp",d)}return a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsAdgroupPreviewV2InstreamPacUpsellNux.react",["cx","fbt","AdsCCCategory","AdsIntelligentNotificationContainer.react","React","URI","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement("div",{className:"_30ub"},b("React").createElement("div",{className:"_3-8i"},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").RECOMMENDATION_BEST_PRACTICE,messageID:"vertical_video_pac_upsell",header:h._("Add a square or landscape video to reduce your cost per view"),textData:[{type:"PARAGRAPH",data:{text:h._("Adding videos with multiple aspect ratios allows your campaign to deliver in more places, such as in-stream video. This could reduce your cost per 10-second view by 50\u0025 or more.")}}],ctaData:[{type:"LINK",data:{href:new(b("URI"))("/business/ads-guide/video/facebook-instream-video/video-views"),text:h._("Learn more"),onCallToAction:b("emptyFunction")}}]}})))}e.exports=a}),null);
__d("AdsAdgroupPreviewsLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={COMPONENT_CLAMP:"preview-component-clamp",PAGINATION:"pagination",SELECTOR:"selector"};e.exports=a}),null);
__d("AdsInsightsEmptySectionIcon",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AD_SET:null,CAUTION_TRIANGLE:null,CAUTION_TRIANGLE_OUTLINE:null,LINE_CHART:null,MAGNIFYING_GLASS:null,NULL_DATA_DEPRECATED:null,NULL_ERROR_DEPRECATED:null,NULL_SEARCH_DEPRECATED:null,PLUS_CIRCLE:null,TOOLS:null});e.exports=a}),null);
__d("AdsInsightsEmptySectionReason",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ERROR:null,INSPECT_AD_SET:null,MANAGEMENT_TABLE_ERROR:null,REPORTING_TABLE_ERROR:null,NO_ACTIVITY_HISTORY:null,NO_ADS_CREATED:null,NO_DELIVERY:null,NO_FILTER_RESULTS:null,UNDER_CONSTRUCTION:null});e.exports=a}),null);
__d("AdsInsightsEmptySection.react",["cx","fbt","ix","AdObjectLevels","AdsInsightsEmptySectionIcon","AdsInsightsEmptySectionReason","AdsInsightsViewAction","AdsMgmtUXQualityUtil","AdsObjectTypes","AdsObjectUtils","AdsPECreationStoreUtils","ErrorMarker.react","FDSButton.react","FDSText.react","Image.react","React","expectationViolation","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("AdsMgmtUXQualityUtil").canSeeImprovement();j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){__p&&__p();var a,c,d,e,f;switch(this.props.reason){case b("AdsInsightsEmptySectionReason").ERROR:a=k?b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE_OUTLINE:b("AdsInsightsEmptySectionIcon").NULL_ERROR_DEPRECATED;c=h._("Something went wrong");d=h._("There was a problem while loading your data. Please try again later.");break;case b("AdsInsightsEmptySectionReason").INSPECT_AD_SET:a=b("AdsInsightsEmptySectionIcon").AD_SET;c=h._("No ad set selected");d=h._("Please select an ad set to inspect.");break;case b("AdsInsightsEmptySectionReason").MANAGEMENT_TABLE_ERROR:a=b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE;c=h._("We're having trouble with loading the data you've requested.");d=h._("Try narrowing the time range or applying filters.");e=h._("Export");f=function(){b("AdsInsightsViewAction").setExportDialog("export","tableError")};break;case b("AdsInsightsEmptySectionReason").REPORTING_TABLE_ERROR:a=b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE;c=h._("We're having trouble with loading the data you've requested.");d=h._("You can save your report for faster loading next time. If you're working with a large amount of data, you can also try removing metrics or columns, narrowing the time range or applying filters.");break;case b("AdsInsightsEmptySectionReason").NO_ACTIVITY_HISTORY:a=b("AdsInsightsEmptySectionIcon").LINE_CHART;c=h._("No activity during selected date range");d=h._("Try again with a different date range. Bear in mind that new activity can take up to 15 minutes to be shown in this table.");break;case b("AdsInsightsEmptySectionReason").NO_ADS_CREATED:a=b("AdsInsightsEmptySectionIcon").PLUS_CIRCLE;c=h._("No results found");d=h._("You haven't created any ads yet.");e=h._("Create Ad");f=function(){b("AdsPECreationStoreUtils").clickCreateButtonForQuickCreate(b("AdObjectLevels").ADGROUP)};break;case b("AdsInsightsEmptySectionReason").NO_FILTER_RESULTS:a=k?b("AdsInsightsEmptySectionIcon").MAGNIFYING_GLASS:b("AdsInsightsEmptySectionIcon").NULL_SEARCH_DEPRECATED;c=this.props.objectType?h._("No {Object type, e.g. 'Ad Set'} found",[h._param("Object type, e.g. 'Ad Set'",b("AdsObjectUtils").getNameFromObjectType(this.props.objectType,0,b("AdsObjectUtils").CAPITALIZE))]):h._("No results found");d=k?h._("Try your search again using fewer filters."):h._("There aren't any results that match your filter.");break;case b("AdsInsightsEmptySectionReason").NO_DELIVERY:a=k?b("AdsInsightsEmptySectionIcon").LINE_CHART:b("AdsInsightsEmptySectionIcon").NULL_DATA_DEPRECATED;c=k?h._("No activity during selected date range"):h._("No activity during date range");d=k?h._("Please select a different date range and try your search again."):h._("This {Object type, e.g. 'ad set'} wasn't delivered during this date range.",[h._param("Object type, e.g. 'ad set'",b("AdsObjectUtils").getNameFromObjectType(this.props.objectType||b("AdsObjectTypes").CAMPAIGN_GROUP,1,b("AdsObjectUtils").LOWERCASE))]);e=h._("Change Date");f=function(){b("AdsInsightsViewAction").toggleTimeRangeSelectorPopover(!0)};break;case b("AdsInsightsEmptySectionReason").UNDER_CONSTRUCTION:a=b("AdsInsightsEmptySectionIcon").TOOLS;c=h._("Feature currently unavailable");d=h._("The feature is currently under construction.");break;default:b("expectationViolation")("invalid empty state reason")}d=this.props.customSubtitle!=null&&this.props.customSubtitle!==""?this.props.customSubtitle:d;c=this.props.customTitle!=null&&this.props.customTitle!==""?this.props.customTitle:c;var g=e&&f&&this.props.showButton?b("React").createElement(b("FDSButton.react"),{label:e,margin:"_3-8y",onClick:f}):null;g=b("React").createElement("div",{className:"_2ql1"},b("React").createElement("div",{className:"_2ql2"},b("React").createElement(b("Image.react"),{className:"_3-96",src:this.$1(a)}),b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"header3",textAlign:"center",weight:"bold"},c),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body1",textAlign:"center"},d),g));return this.props.reason==="managementTableError"||this.props.reason==="reportingTableError"?b("React").createElement(b("ErrorMarker.react"),null,g):g};a.prototype.$1=function(a){__p&&__p();switch(a){case b("AdsInsightsEmptySectionIcon").AD_SET:return i("639267");case b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE:return i("639268");case b("AdsInsightsEmptySectionIcon").CAUTION_TRIANGLE_OUTLINE:return i("639269");case b("AdsInsightsEmptySectionIcon").LINE_CHART:return i("639270");case b("AdsInsightsEmptySectionIcon").MAGNIFYING_GLASS:return i("639271");case b("AdsInsightsEmptySectionIcon").PLUS_CIRCLE:return i("639272");case b("AdsInsightsEmptySectionIcon").TOOLS:return i("639273");case b("AdsInsightsEmptySectionIcon").NULL_DATA_DEPRECATED:return i("22924");case b("AdsInsightsEmptySectionIcon").NULL_ERROR_DEPRECATED:return i("22925");case b("AdsInsightsEmptySectionIcon").NULL_SEARCH_DEPRECATED:return i("22927");default:return i("639271")}};function a(){j.apply(this,arguments)}a.defaultProps={objectType:null,reason:"error",showButton:!0};e.exports=a}),null);
__d("AdsAdgroupPreviewsV2Comments.react",["ix","cx","fbt","AdsCCCategory","AdsInsightsEmptySection.react","AdsInsightsEmptySectionReason","AdsIntelligentNotificationContainer.react","AdsPreviewApiFormats","FDSSpinner.react","FDSText.react","Image.react","React","asset","loadObjectComponent","moment","suiMargin"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l;function m(a){return a.map(function(a){var b=o(a);a=(((a=a)!=null?(a=a.comments)!=null?a.data:a:a)||[]).map(function(a){return o(a,!0)});return[b].concat(a)}).toArray()}function n(a){return a.map(function(a){var b=a.instagram_user.has_profile_picture?a.instagram_user.profile_pic:"/images/icons/instagram/instagram_default_profile_pic.jpg",c="https://instagram.com/"+a.instagram_user.username;return p(a.id,b,c,a.instagram_user.username,a.message,a.attachment,a.created_at,!1)}).toArray()}function o(a,b){b===void 0&&(b=!1);var c="https://graph.facebook.com/"+a.from.id+"/picture?type=square",d="https://facebook.com/"+a.from.id;return p(a.id,c,d,a.from.name,a.message,a.attachment,a.created_time,b)}function p(a,c,d,e,f,g,h,i){var j;g=g==null?void 0:(g=g.media)==null?void 0:g.image;g&&(j=b("React").createElement("div",{className:"_6rd5"},b("React").createElement(b("Image.react"),{height:g.height,src:g.src,width:g.width})));return b("React").createElement("div",{className:"_6o_p"+(i?" _6o_q":""),key:a},b("React").createElement(b("Image.react"),{className:"_6oy0",src:c}),b("React").createElement("div",null,b("React").createElement("a",{className:"_6rda",href:d,target:"_blank"},e)," ",f,j,b("React").createElement("div",{className:"_6oy1"},b("moment")(h).fromNow())))}j=babelHelpers.inherits(q,b("React").Component);j&&j.prototype;q.prototype.render=function(){return b("React").createElement("div",{className:"_6oy2"},b("React").createElement(b("Image.react"),{className:"_3-96",src:g("656971")}),b("React").createElement(b("FDSText.react"),{color:"primary",display:"block",margin:"_3-94",size:"header3",textAlign:"center",weight:"bold"},this.props.title),b("React").createElement(b("FDSText.react"),{color:"secondary",display:"block",size:"body1",textAlign:"center"},this.props.subtitle))};function q(){j.apply(this,arguments)}k=babelHelpers.inherits(r,b("React").Component);k&&k.prototype;r.prototype.render=function(){return b("React").createElement(q,{subtitle:i._("There are no comments on this ad."),title:i._("No comments found")})};function r(){k.apply(this,arguments)}var s=b("loadObjectComponent")({error:function(){return b("React").createElement(b("AdsInsightsEmptySection.react"),{reason:b("AdsInsightsEmptySectionReason").ERROR})},empty:function(){return b("React").createElement(q,{subtitle:i._("Comments could not be loaded for this ad."),title:i._("An unexpected error occurred")})},loading:function(){return b("React").createElement("div",{className:"_6rdb"},b("React").createElement(b("FDSSpinner.react"),null))},loaded:function(a,c){__p&&__p();var d=[];switch(c.format){case b("AdsPreviewApiFormats").INSTAGRAM_STANDARD:d=n(a.instagram);break;case b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD:case b("AdsPreviewApiFormats").MOBILE_FEED_STANDARD:case b("AdsPreviewApiFormats").MOBILE_FEED_BASIC:d=m(a.facebook);break;default:a=i._("Comments not supported");var e=i._("Comments are not supported for this placement.");return b("React").createElement(q,{subtitle:e,title:a})}if(d.length===0)return b("React").createElement(r,null);else{var f;c.format===b("AdsPreviewApiFormats").INSTAGRAM_STANDARD&&(f=b("React").createElement("div",{className:"_6rd6"},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"notice_that_instagram_comment_replies_are_not_displayed",textData:[{type:"PARAGRAPH",data:{text:i._("Replies to Instagram comments are not shown.")}}]}})));return b("React").createElement("div",null,f,d)}}});l=babelHelpers.inherits(a,b("React").Component);l&&l.prototype;a.prototype.render=function(){var a;this.props.isDraft?a=b("React").createElement(r,null):this.props.isDynamicAd?a=b("React").createElement(q,{subtitle:i._("Comment previews are not supported for dynamic ads."),title:i._("Comments not supported")}):a=b("React").createElement(s,{format:this.props.format,object:this.props.commentsLO});return b("React").createElement("div",{className:"_6oy3"},a)};function a(){l.apply(this,arguments)}e.exports=a}),null);
__d("AdsAdgroupPreviewsV2Header.react",["cx","fbt","invariant","AdsAdgroupPreviewsLoggingConstants","AdsAdgroupPreviewsV2NavigationSection.react","AdsAdgroupPreviewsV2Selector.react","AdsIXIGCollectionPreviewNoticeContainer.react","AdsUEditorContextType","FlexLayout.react","React","SUIBusinessThemeContainer.react","gkx"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k={},l={width:210};c=babelHelpers.inherits(a,b("React").PureComponent);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$3=function(a){this.$4(1)}.bind(this),this.$2=function(a){this.$4(-1)}.bind(this),this.$1=function(a){this.props.onChange&&this.props.onChange(a,b("AdsAdgroupPreviewsLoggingConstants").SELECTOR)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.index,d=a.maxIndex;a=a.minIndex;d>=a||i(0,1077);return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement("div",{className:"_5q46"},b("React").createElement(b("FlexLayout.react"),null,b("gkx")("700048")&&!!this.context.adgroupEditorContext?b("React").createElement(b("AdsIXIGCollectionPreviewNoticeContainer.react"),null):null,b("React").createElement(b("AdsAdgroupPreviewsV2Selector.react"),babelHelpers["extends"]({defaultAdFormat:this.props.previewPlugins.toIndexedSeq().get(c).apiFormat,previewPlugins:this.props.previewPlugins,onPreviewItemSelected:this.$1},this.props.fixedWidthSelector===!0?l:k)),this.props.customHeaderComponent),b("React").createElement(b("AdsAdgroupPreviewsV2NavigationSection.react"),{className:"_5q47",handleDecrementClick:this.$2,handleIncrementClick:this.$3,index:c,maxIndex:d,minIndex:a,nextLabel:h._("Next Ad Format"),previousLabel:h._("Previous Ad Format")})))};a.prototype.$4=function(a){var c=this.props.maxIndex-this.props.minIndex+1,d=this.props.index;d=(d+a)%c;this.props.onChange&&this.props.onChange(d,b("AdsAdgroupPreviewsLoggingConstants").PAGINATION)};a.contextTypes=b("AdsUEditorContextType").adgroup;a.defaultProps={index:0};e.exports=a}),null);
__d("AdsImageInfoStoreUtils",["AdsAdgroupSpecUtils","AdsAPIAdgroupPaths","AdsChildAttachmentsUtils","AdsImageIDUtils","AdsImageInfoStore","ApiObjectStorySpecLinkFields","getByPath","mergeDeep","setByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.generateFullSizeURLAdgroup=function(a){a=b("mergeDeep")({},a);return b("AdsAdgroupSpecUtils").isStaticCarouselAd(a)?this.$1(a):this.$2(a)};a.prototype.getFullSizeAdsSimpleImageFromHash=function(a,c){c=b("AdsImageIDUtils").getImageID({accountID:c,hash:a});return c?b("AdsImageInfoStore").getFullSize(c).getValue():null};a.prototype.$2=function(a){this.$3(a,[b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.PICTURE,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.PICTURE]);return a};a.prototype.$1=function(a){var c=b("AdsChildAttachmentsUtils").getChildAttachmentsPathFromSpec(a);if(c==null)return a;c=b("getByPath")(a,c);c.forEach(function(a){return this.$3(a,[[b("ApiObjectStorySpecLinkFields").PICTURE]])}.bind(this));return a};a.prototype.$3=function(a,c){c.some(function(c){var d=b("getByPath")(a,c);d=b("AdsImageIDUtils").getImageID({url:d});if(!d)return!1;d=b("AdsImageInfoStore").getFullSizeURL(d);d=d.hasValue()?d.getValueEnforcing():null;b("setByPath")(a,c,d);return!0})};function a(){}e.exports=new a()}),null);
__d("AdsSphericalPhotoErrorUtils",["errorCode","AdsImageInfoStoreUtils"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageInfoStoreUtils").getFullSizeAdsSimpleImageFromHash,i={isAnySphericalPhotoAd:function(a,b){return i.isSphericalPhotoPostAd(a,b)||i.isSphericalPhotoLinkAd(a,b)},isSphericalPhotoPostAd:function(a,b){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.photo_data)==null?void 0:a.image_hash;a=a?h(a,b):null;return!a?!1:a.isSphericalPhoto},isSphericalPhotoLinkAd:function(a,b){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.link_data)==null?void 0:a.image_hash;a=a?h(a,b):null;return!a?!1:a.isSphericalPhoto}};e.exports=i}),null);
__d("AdsAdPreviewUtils",["errorCode","errorDesc","fbt","AdPreview.react","AdsAccountCapabilities","AdsAccountUtils","AdsAdgroupSpecUtils","AdsAdgroupTypeUtils","AdsAPIObjectives","AdsCanvasAdUtils","AdsCollectionsAdUtils","AdsDynamicAdsUtils","AdsError","AdsLocalAwarenessUtils","AdsMovieAdsUtils","AdsPageLikeUtils","AdsPreviewApiFormats","AdsSphericalPhotoErrorUtils","AdsWebsiteAdUtils"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getErrorsForAdgroup:function(a,c,d,e,f,g){__p&&__p();f=[];switch(e){case b("AdsPreviewApiFormats").DESKTOP_FEED_STANDARD:j._adgroupSupportsDesktopFeed(c,d,g)||f.push(b("AdsError").createError("desktopnewsfeed-preview-unavailable",i._("This ad format is not currently supported in the desktop News Feed."),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MOBILE_FEED_BASIC:j._adgroupSupportsMbasic(c,d,g)||f.push(b("AdsError").createError("featurephone-preview-unavailable",i._("This ad format is not currently supported on feature phones"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MOBILE_BANNER:case b("AdsPreviewApiFormats").MOBILE_INTERSTITIAL:case b("AdsPreviewApiFormats").MOBILE_MEDIUM_RECTANGLE:case b("AdsPreviewApiFormats").MOBILE_NATIVE:case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_MEDIUM_RECTANGLE_DESKTOP:j._adgroupSupportsPartnerNetwork(e,c,d,g)||f.push(b("AdsError").createNotice("adnetwork-preview-unavailable",i._("This ad format is not currently supported in Audience Network"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").RIGHT_COLUMN_STANDARD:j.adgroupSupportsRightColumn(c,d,g)||f.push(b("AdsError").createError("rightcolumn-preview-unavailable",i._("This ad format is not currently supported on the Right Column"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTAGRAM_STANDARD:case b("AdsPreviewApiFormats").INSTAGRAM_STORY:j.adgroupSupportsInstagram(c,g)||f.push(b("AdsError").createError("instagram-preview-unavailable",i._("This ad format is not currently supported on Instagram"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MESSENGER_MOBILE_INBOX_MEDIA:j._adgroupSupportsMessengerInbox(c,g)||f.push(b("AdsError").createError(2016030,h._(function(a,b){return a._("This ad format is not currently supported by the Messenger inbox.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE:case b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP:if(!b("AdsAdgroupTypeUtils").isVideoAd(c)&&!b("AdsCanvasAdUtils").isCanvasAd(c.creative)&&e===b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE&&(d===b("AdsAPIObjectives").CONVERSIONS&&b("AdsAccountUtils").hasCapabilityFromList(a,b("AdsAccountCapabilities").ALLOW_INSTREAM_ONLY_FOR_NON_INTERRUPTIVE_PREVIEW)||d===b("AdsAPIObjectives").APP_INSTALLS&&b("AdsAccountUtils").hasCapabilityFromList(a,b("AdsAccountCapabilities").ALLOW_INSTREAM_NON_INTERRUPTIVE_APP_INSTALL)||d===b("AdsAPIObjectives").REACH&&b("AdsAccountUtils").hasCapabilityFromList(a,b("AdsAccountCapabilities").ALLOW_INSTREAM_NON_INTERRUPTIVE_REACH)))break;if(b("AdsAdgroupTypeUtils").isVideoAd(c)&&e===b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE&&(d===b("AdsAPIObjectives").CONVERSIONS&&!b("AdsAccountUtils").hasCapabilityFromList(a,b("AdsAccountCapabilities").CAN_USE_FB_INSTREAM_CONVERSION_VIDEO_ADS)||d===b("AdsAPIObjectives").APP_INSTALLS&&!b("AdsAccountUtils").hasCapabilityFromList(a,b("AdsAccountCapabilities").ADS_INSTREAM_VIDEO_PLACEMENT_APP_INSTALL))){f.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not currently supported by in-stream videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}if(e===b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP&&d===b("AdsAPIObjectives").CONVERSIONS){f.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not currently supported by in-stream videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}j._adgroupSupportsInstreamVideo(c)||f.push(b("AdsError").createError(2016033,h._(function(a,b){return a._("This ad format is not currently supported by in-stream videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_INSTREAM_VIDEO:j._adgroupSupportsInstreamVideo(c)||f.push(b("AdsError").createError(2016049,h._(function(a,b){return a._("This ad format is not currently supported by in-stream videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").AUDIENCE_NETWORK_REWARDED_VIDEO:j._adgroupSupportsRewardedVideo(c)||f.push(b("AdsError").createError(2016054,h._(function(a,b){return a._("This ad format is not currently supported by rewarded videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").INSTANT_ARTICLE_STANDARD:j._adgroupSupportsInstantArticle(c,d,g)||f.push(b("AdsError").createError(2016034,h._(function(a,b){return a._("This ad format is not currently supported by Instant Articles.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").SUGGESTED_VIDEO_MOBILE:case b("AdsPreviewApiFormats").SUGGESTED_VIDEO_DESKTOP:j._adgroupSupportsSuggestedVideo(c)||f.push(b("AdsError").createError(2016048,h._(function(a,b){return a._("This ad format is not currently supported for suggested videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").WATCH_FEED_MOBILE:j._adgroupSupportsWatchFeedMobile(c,g,a)||f.push(b("AdsError").createError(2016048,h._(function(a,b){return a._("This ad format is not currently supported for suggested videos.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MARKETPLACE_SEARCH_ADS_MOBILE:j._adgroupSupportsMarketplaceSearch(c,g,a)||f.push(b("AdsError").createError(2016078,h._(function(a,b){return a._("This ad format is not currently supported by Marketplace search.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").SEARCH_SERP_ADS_MOBILE:j._adgroupSupportsGeneralSearch(c,g,a)||f.push(b("AdsError").createError(2016077,h._(function(a,b){return a._("This ad format is not currently supported by search.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").FACEBOOK_STORY_MOBILE:j._adgroupSupportsFBStories(c,g,a)||f.push(b("AdsError").createError(2016070,h._(function(a,b){return a._("This ad format is not currently supported by Facebook Stories.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MESSENGER_MOBILE_STORY_MEDIA:j._adgroupSupportsMessengerStories(c,g,a)||f.push(b("AdsError").createError(2016076,h._(function(a,b){return a._("This ad format is not currently supported in Messenger Stories.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").WHATSAPP_STATUS_MEDIA:j._adgroupSupportsWhatsappStatus(c,g)||f.push(b("AdsError").createError(2016080,h._(function(a,b){return a._("This ad format is currently not supported on WhatsApp Status.")},{}),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break;case b("AdsPreviewApiFormats").MARKETPLACE_MOBILE:b("AdsMovieAdsUtils").isMovieAds(c)&&f.push(b("AdsError").createError("mobile-marketplace-preview-unavailable",i._("This ad format is not currently supported on Mobile Marketplace"),b("AdPreview.react").PREVIEW_MESSAGE_FIELD_NAME));break}return f},_adgroupSupportsDesktopFeed:function(a,c,d){return!b("AdsLocalAwarenessUtils").isLocalAwarenessAndHasCallNowCallToAction(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isSphericalPhotoLinkAd(a,d)},_adgroupSupportsMbasic:function(a,c,d){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsLocalAwarenessUtils").isLocalAwarenessVideo(a,c)&&!b("AdsWebsiteAdUtils").isMultiProductAdgroup(a)&&!b("AdsPageLikeUtils").isPageLikeVideo(a,c)&&!b("AdsWebsiteAdUtils").isWebsiteVideoAdgroup(a,c)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d)&&!b("AdsAdgroupTypeUtils").isVideoAd(a)},_adgroupSupportsPartnerNetwork:function(a,c,d,e){return d===b("AdsAPIObjectives").BRAND_AWARENESS&&!b("AdsAdgroupTypeUtils").isVideoAd(c)?!1:!b("AdsCanvasAdUtils").isCanvasAd(c.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(c.creative)&&(a===b("AdsPreviewApiFormats").MOBILE_BANNER?!b("AdsAdgroupTypeUtils").isVideoAd(c)&&!b("AdsAdgroupSpecUtils").isStaticCarouselAd(c):!(b("AdsWebsiteAdUtils").getMultiVideoProductCount(c.creative)>0))&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(c,e)&&!b("AdsMovieAdsUtils").isMovieAds(c)},adgroupSupportsRightColumn:function(a,c,d){d=d!=null&&d!==""&&b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d);return!b("AdsPageLikeUtils").isPageLikeVideo(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&d!==!0&&!b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsMovieAdsUtils").isMovieAds(a)},adgroupSupportsInstagram:function(a,c){c=c!=null&&c!==""&&b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c);return!c&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsMessengerInbox:function(a,c){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsInstreamVideo:function(a){return b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsRewardedVideo:function(a){return b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsInstantArticle:function(a,c,d){return!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,d)&&!b("AdsDynamicAdsUtils").isSingleImageDynamicAd(a)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsSuggestedVideo:function(a){return b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsWatchFeedMobile:function(a,c,d){c=b("AdsAccountUtils").hasCapabilityFromList(d,b("AdsAccountCapabilities").ENABLE_WATCH_FEED_MOBILE_DISPLAY_FORMAT);return c&&b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsAdgroupSpecUtils").getCallToAction(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsFBStories:function(a,c,d){var e=b("AdsAccountUtils").hasCapabilityFromList(d,b("AdsAccountCapabilities").ENABLE_CANVAS_FOR_FB_STORY_ADS);d=b("AdsAccountUtils").hasCapabilityFromList(d,b("AdsAccountCapabilities").ENABLE_CAROUSEL_FOR_FB_STORY_ADS);var f=b("AdsAdgroupSpecUtils").isStaticCarouselAd(a)||b("AdsAdgroupSpecUtils").isCarouselAd(a);return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&(e||!b("AdsCanvasAdUtils").isCanvasAd(a.creative))&&(d||!f)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsWhatsappStatus:function(a,c){var d=b("AdsAdgroupSpecUtils").isStaticCarouselAd(a)||b("AdsAdgroupSpecUtils").isCarouselAd(a);return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!d&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsMarketplaceSearch:function(a,c,d){return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsGeneralSearch:function(a,c,d){return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsAdgroupTypeUtils").isVideoAd(a)&&!b("AdsMovieAdsUtils").isMovieAds(a)},_adgroupSupportsMessengerStories:function(a,c,d){return!b("AdsCollectionsAdUtils").isCollectionsAd(a.creative)&&!b("AdsAdgroupSpecUtils").isStaticCarouselAd(a)&&!b("AdsSphericalPhotoErrorUtils").isAnySphericalPhotoAd(a,c)&&!b("AdsAdgroupSpecUtils").isCarouselAd(a)&&!b("AdsCanvasAdUtils").isCanvasAd(a.creative)&&!b("AdsMovieAdsUtils").isMovieAds(a)}};e.exports=j}),null);
__d("AdsAdgroupPreviewsV2OverlayedRenderingVideoNotice.react",["cx","fbt","AdsCCCategory","AdsIntelligentNotificationContainer.react","React"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){if(!a.isOverlayedVideoRendering)return null;a=b("React").createElement("div",{className:"_101l"},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"notice that show that the overlayed video is being rendered",textData:[{type:"PARAGRAPH",data:{text:h._("The overlay on your video is being prepared.")}}]}}));return a}e.exports=a}),null);
__d("AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react",["cx","fbt","AdsCCCategory","AdsDynamicOverlayUtils","AdsIntelligentNotificationContainer.react","AdsOverlaysUtils","React"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){var c=a.adgroupSpec;a=a.previewPlugin;var d=a.isCustomOverlaysSupported!=null&&a.isCustomOverlaysSupported(),e=b("AdsOverlaysUtils").hasCustomOverlaysFromSpec(c),f=a.isVideoOverlaysSupported!=null&&a.isVideoOverlaysSupported();c=b("AdsOverlaysUtils").hasVideoOverlaysFromSpec(c);return(d||!e)&&(f||!c)?null:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"placement_that_does_not_support_showing_custom_overlays",textData:[{type:"PARAGRAPH",data:{text:h._("Overlays aren't supported on this placement yet, so people on {Placement Label} will see your ad without the overlay.",[h._param("Placement Label",a.name)])}}]}}function c(a){var c=a.adgroupSpec;a=a.previewPlugin;var d=b("AdsDynamicOverlayUtils").isCreativeToolsSupportedForFormat(c,a.apiFormat);c=b("AdsDynamicOverlayUtils").usingCreativeTools(c);return d||!c?null:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"placement_that_does_not_support_creative_tools",textData:[{type:"PARAGRAPH",data:{text:h._("Creative tools aren't supported for {Placement Label} in this format yet, so people won't see your customisations.",[h._param("Placement Label",a.name)])}}]}}var i=[a,c];function d(a){var c=i.reduce(function(b,c){return b!=null?b:c(a)},null);return c==null?null:b("React").createElement("div",{className:"_101l"},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:c}))}e.exports=d}),null);
__d("AdsAdgroupPreviewActorValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAdgroupUtils","AdsAPIAdgroupPaths","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsError","AdsMediaFormat","AdsPageUtils","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID]),campaignGroup:b("expandPaths")([b("AdsAPICampaignGroupPaths").OBJECTIVE])}};a.prototype.shouldValidate=function(a){a.adgroupData;return!0};a.prototype.validate=function(a){__p&&__p();var c=a.adgroup;a=a.campaignGroup;a=b("getByPath")(a,b("AdsAPICampaignGroupPaths").OBJECTIVE);var d=new(b("AdsError"))(2016023,h._(function(a,b){return a._("Create a Facebook Page to show this type of ad")},{}),{level:b("AdsError").Level.WARN});switch(a){case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").CONVERSIONS:if(b("AdsAdgroupUtils").hasObjectStorySpec(c)&&!b("AdsPageUtils").getPageID(c)&&b("AdsAdgroupUtils").getMediaContentType(c.creative)===b("AdsMediaFormat").IMAGE)return[d];break;case b("AdsAPIObjectives").POST_ENGAGEMENT:return[];default:if(!b("AdsPageUtils").getPageID(c))return[d]}return[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewAssetFeedLinkValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsError","ApiDynamicCreativeOptimizationAdFormat","ApiDynamicCreativeOptimizationTypes","expandPaths","getByPath","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.GROUPS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE]),campaignGroup:b("expandPaths")([b("AdsAPICampaignGroupPaths").OBJECTIVE])}};a.prototype.shouldValidate=function(a){var c=a.adgroup;a=a.campaignGroup;return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromSpec(c)&&!this.isWeblinkOptional({adgroup:c,campaignGroup:a})};a.prototype.isWeblinkOptional=function(a){var c=a.adgroup;a=a.campaignGroup;if(!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromSpec(c)&&!(b("gkx")("678170")&&(b("AdsAssetFeedUtils").isPACAdgroupFromSpec(c)||b("AdsAssetFeedUtils").isDLOAdgroupFromSpec(c))))return!1;c=b("getByPath")(a,b("AdsAPICampaignGroupPaths").OBJECTIVE);switch(c){case b("AdsAPIObjectives").VIDEO_VIEWS:case b("AdsAPIObjectives").REACH:case b("AdsAPIObjectives").BRAND_AWARENESS:return!0;default:return!1}};a.prototype.validate=function(a){__p&&__p();a=a.adgroup;var c=b("AdsAPIAdAssetFeedFields").LINK_URLS,d=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.LINK_URLS;c=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,c);d=!!b("getByPath")(a,d.concat(c));c=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE;c=b("getByPath")(a,c);var e=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS;a=b("getByPath")(a,e.concat(0));if(!d&&!(c===b("ApiDynamicCreativeOptimizationTypes").ASSET_CUSTOMIZATION&&a===b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_VIDEO)){e=new(b("AdsError"))(2016066,h._(function(a,b){return a._("Please select destination link for your ad")},{}),{level:b("AdsError").Level.WARN});return[e]}return[]};function a(){i.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsAdgroupPreviewAssetFeedMediaValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.GROUPS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS])}};a.prototype.shouldValidate=function(a){a=a.adgroup;return b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromSpec(a)};a.prototype.validate=function(a){__p&&__p();a=a.adgroup;var c=null,d=null;if(b("AdsAssetFeedUtils").hasSingleImageFormat(a))c=b("AdsAPIAdAssetFeedFields").IMAGES,d=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES;else if(b("AdsAssetFeedUtils").hasSingleVideoFormat(a))c=b("AdsAPIAdAssetFeedFields").VIDEOS,d=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS;else if(b("AdsAssetFeedUtils").isAssetFeedAdWithCarouselImageFormat(a))c=b("AdsAPIAdAssetFeedFields").IMAGES,d=b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES;else if(b("AdsAssetFeedUtils").hasAutomaticFormat(a)){var e=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,b("AdsAPIAdAssetFeedFields").IMAGES);e=!!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES.concat(e));e=e?[b("AdsAPIAdAssetFeedFields").IMAGES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES]:[b("AdsAPIAdAssetFeedFields").VIDEOS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS];c=e[0];d=e[1]}e=!1;if(!!c&&!!d){c=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(a,c);e=!!b("getByPath")(a,d.concat(c))}if(!e){a=new(b("AdsError"))(2016024,h._(function(a,b){return a._("Please select media for your ad")},{}),{level:b("AdsError").Level.WARN});return[a]}return[]};function a(){i.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsAdgroupPreviewCTAValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC]),dynamicPreviewItemType:void 0}};a.prototype.shouldValidate=function(a){a.dynamicPreviewItemType;var c=a.adgroup;a=a.adgroupRecord;a=a||new(b("AdsAPIAdgroupRecord"))(c);return b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)&&b("getByPath")(c,b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.path)?!0:!1};a.prototype.validate=function(a){a=a.adgroup;a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.CALL_TO_ACTION.path);return a&&a.type&&(!a.value||!a.value.link)?[new(b("AdsError"))(1885241,h._(function(a,b){return a._("This Call to Action requires a link value")},{}))]:[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewCanvasValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsCanvasConstants","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC]),dynamicPreviewItemType:void 0}};a.prototype.shouldValidate=function(a){a.dynamicPreviewItemType;var c=a.adgroup;a.adgroupRecord;return b("getByPath")(c,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.path)?!0:!1};a.prototype.validate=function(a){a=a.adgroup;a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.path);return a&&a.link===b("AdsCanvasConstants").EMPTY_CANVAS_LINK?[new(b("AdsError"))(2131024,h._(function(a,b){return a._("You haven't selected an Instant Experience for your ad. Please select an Instant Experience to use, or create a new one.")},{}))]:[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewCollectionValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path]),dynamicPreviewItemType:void 0}};a.prototype.shouldValidate=function(a){a.dynamicPreviewItemType;a=a.adgroup;return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.COLLECTION_THUMBNAILS)?!0:!1};a.prototype.validate=function(a){a=a.adgroup;a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.COLLECTION_THUMBNAILS);return a&&a[0]&&a[0].element_id===""?[new(b("AdsError"))(2131023,h._(function(a,b){return a._("This Instant Experience does not contain enough photos for collection.")},{}))]:[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewLinkCaptionValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsError","ads-lib-urllib","expandPaths","getByPath","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ads-lib-urllib").isUrl;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC])}};a.prototype.shouldValidate=function(a){a=a.adgroup;return b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path)?!0:!1};a.prototype.validate=function(a){a=a.adgroup;a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path);return a&&a.caption&&!j(a.caption)?[new(b("AdsError"))(2016017,h._(function(a,b){return a._("The Display URL that you entered is not well formatted or not valid. Please enter a valid URL.")},{}))]:[]};function a(){i.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsAdgroupPreviewMediaValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAdgroupTypeUtils","AdsAdgroupUtils","AdsAPIAdgroupFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsApplicationUtils","AdsAssetFeedUtils","AdsCanvasAdUtils","AdsDynamicPreviewItemTypes","AdsEditorMPAConstants","AdsError","AdsSponsoredMessageUtils","AdsWhatsAppUtils","ApiObjectStorySpecLinkChildFields","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsAPIAdgroupFields").CREATIVE;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_URL,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE]),dynamicPreviewItemType:void 0}};a.prototype.shouldValidate=function(a){var c=a.dynamicPreviewItemType;a=a.adgroup;return c&&c!==b("AdsDynamicPreviewItemTypes").NONE&&c!==b("AdsDynamicPreviewItemTypes").LOCATION||b("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromSpec(a)||b("AdsSponsoredMessageUtils").isSponsoredMessageFromSpec(a)?!1:!0};a.prototype.validate=function(a){__p&&__p();var c=a.adgroup;a=a.adgroupRecord;a=a||new(b("AdsAPIAdgroupRecord"))(c);if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a))return[];if(k(c,a)){c=new(b("AdsError"))(2016024,h._(function(a,b){return a._("Please select media for your ad")},{}),{level:b("AdsError").Level.WARN});return[c]}return[]};function a(){i.apply(this,arguments)}var k=function(a,c){var d=a[j],e=!(n(a)&&!b("AdsWhatsAppUtils").isWhatsAppDestinationAd(c))&&!l(a)&&!b("AdsApplicationUtils").isCreativeStudio()&&!b("AdsCanvasAdUtils").isCanvasAd(d);if((e||b("AdsAdgroupTypeUtils").isVideoAd(c))&&!b("AdsAdgroupUtils").getMediaContentType(d))return!0;if(b("AdsAdgroupTypeUtils").isVideoAd(c)&&!b("AdsAdgroupUtils").getMediaContentTypes(d).includes("VIDEO"))return!0;e=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CHILD_ATTACHMENTS)||b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS);return e!=null&&e.some(m)},l=function(a){var c=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);c=c!=null&&c!="";a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path);return c&&a!=null},m=function(a){return a[b("ApiObjectStorySpecLinkChildFields").VIDEO_ID]===b("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID},n=function(a){return!!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.LINK)||!!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.LINK)};c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewPacPhase2AssetFeedImagesValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.OPTIMIZATION_TYPE])}};a.prototype.shouldValidate=function(a){a=a.adgroup;return b("AdsAssetFeedUtils").isPACAdgroupFromSpec(a)};a.prototype.validate=function(a){__p&&__p();a=a.adgroup;a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);if(!a)return[];var c=new Set(a.map(function(a){return a.hash+a.url+(a.image_crops?JSON.stringify(a.image_crops):"")}));if(c.size<a.length){c=new(b("AdsError"))(2016079,h._(function(a,b){return a._("You've selected two or more identical images. Crop or change these images in order to preview and publish your ad.")},{}),{level:b("AdsError").Level.WARN});return[c]}return[]};function a(){i.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsAdgroupPreviewPagePostValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAdgroupUtils","AdsAPIAdgroupFields","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsDynamicPreviewItemTypes","AdsError","expandPaths"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("AdsAPIAdgroupFields").CREATIVE;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE]),dynamicPreviewItemType:void 0}};a.prototype.shouldValidate=function(a){a=a.dynamicPreviewItemType;return a&&a!==b("AdsDynamicPreviewItemTypes").NONE?!1:!0};a.prototype.validate=function(a){__p&&__p();var c=a.adgroup;a=a.adgroupRecord;a=a||new(b("AdsAPIAdgroupRecord"))(c);c=c[j];if(b("AdsAPIAdgroupRecordUtils").isExistingPostAd(a)&&!b("AdsAdgroupUtils").isInstagramStoryIDLoaded(c)&&!b("AdsAdgroupUtils").isPageAndPostIDLoaded(c)){a=new(b("AdsError"))(2016025,h._(function(a,b){return a._("Please select a Facebook Page post to show this type of ad")},{}),{level:b("AdsError").Level.WARN});return[a]}return[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewPageSetValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPICampaignPaths","AdsDynamicPreviewItemTypes","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([]),campaign:b("expandPaths")([b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.path,b("AdsAPICampaignPaths").TARGETING.PLACE_PAGE_SET_IDS]),dynamicPreviewItemType:void 0}};a.prototype.shouldValidate=function(a){var c=a.dynamicPreviewItemType;a.campaign;return c&&c===b("AdsDynamicPreviewItemTypes").LOCATION?!0:!1};a.prototype.validate=function(a){a=a.campaign;var c=b("getByPath")(a,b("AdsAPICampaignPaths").TARGETING.PLACE_PAGE_SET_IDS);a=b("getByPath")(a,b("AdsAPICampaignPaths").TARGETING.GEO_LOCATIONS.path);return!c&&!a?[new(b("AdsError"))(1443176,h._(function(a,b){return a._("Please select at least one location, or choose a Custom Audience.")},{}))]:[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewPageValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsError","expandPaths","getByPath","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC])}};a.prototype.shouldValidate=function(a){a=a.adgroup;return b("gkx")("728823")&&b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path)?!0:!1};a.prototype.validate=function(a){a=a.adgroup;a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path);return a&&!a.page_id?[new(b("AdsError"))(1443121,h._(function(a,b){return a._("Please select a Facebook Page to represent your business.")},{}))]:[]};function a(){i.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsAdgroupPreviewProductSetValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsDynamicPreviewItemTypes","AdsError","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID]),dynamicPreviewItemType:void 0}};a.prototype.shouldValidate=function(a){var c=a.dynamicPreviewItemType;a=a.adgroup;var d=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.RETAILER_ITEM_IDS);if(d&&d.length>0)return!0;return c&&c!==b("AdsDynamicPreviewItemTypes").PRODUCT||!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.path)?!1:!0};a.prototype.validate=function(a){a=a.adgroup;return!b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID)?[new(b("AdsError"))(1885027,h._(function(a,b){return a._("Please select a product set to use with your ad.")},{}))]:[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsAdgroupPreviewVideoCTAValidator",["errorCode","errorDesc","AdsAbstractValidator","AdsAPIAdgroupPaths","AdsError","CallToActionTypes","ads-lib-urllib","expandPaths","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("ads-lib-urllib").isUrl;i=babelHelpers.inherits(a,b("AdsAbstractValidator"));i&&i.prototype;a.prototype.getDependencies=function(){return{adgroup:b("expandPaths")([b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC]),dynamicPreviewItemType:void 0}};a.prototype.shouldValidate=function(a){a.dynamicPreviewItemType;var c=a.adgroup;a.adgroupRecord;return b("getByPath")(c,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.path)?!0:!1};a.prototype.validate=function(a){__p&&__p();a=a.adgroup;a=b("getByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.path);if(a&&!a.type)return[new(b("AdsError"))(1373054,h._(function(a,b){return a._("No Call To Action Type was parseable. Please refer to the call to action api documentation")},{}))];if(a&&a.type&&a.type!==b("CallToActionTypes").CALL_NOW&&a.type!==b("CallToActionTypes").GET_DIRECTIONS&&a.type!==b("CallToActionTypes").DIAL_CODE&&a.value&&a.value.link&&!j(a.value.link))return[new(b("AdsError"))(1856011,h._(function(a,b){return a._("The URL you input is invalid.")},{}))];return a&&a.type&&a.value&&a.value.link_caption&&!j(a.value.link_caption)?[new(b("AdsError"))(2016017,h._(function(a,b){return a._("The Display URL that you entered is not well formatted or not valid. Please enter a valid URL.")},{}))]:[]};function a(){i.apply(this,arguments)}c=new a();e.exports=c}),null);
__d("AdsPreviewsV2Constants",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";e.exports={DEFAULT_PREVIEWS_HEIGHT:744,DEFAULT_PREVIEWS_WIDTH:540,HEADER_HEIGHT:parseInt("48",10)}}),null);
__d("AdsPreviewV2ErrorUtils",["cx","AdsAdgroupPreviewActorValidator","AdsAdgroupPreviewAssetFeedLinkValidator","AdsAdgroupPreviewAssetFeedMediaValidator","AdsAdgroupPreviewCanvasValidator","AdsAdgroupPreviewCollectionValidator","AdsAdgroupPreviewCTAValidator","AdsAdgroupPreviewLinkCaptionValidator","AdsAdgroupPreviewMediaValidator","AdsAdgroupPreviewPacPhase2AssetFeedImagesValidator","AdsAdgroupPreviewPagePostValidator","AdsAdgroupPreviewPageSetValidator","AdsAdgroupPreviewPageValidator","AdsAdgroupPreviewProductSetValidator","AdsAdgroupPreviewVideoCTAValidator","AdsDynamicPreviewItemTypes","AdsPreviewsV2Constants","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[b("AdsAdgroupPreviewActorValidator"),b("AdsAdgroupPreviewPageSetValidator"),b("AdsAdgroupPreviewMediaValidator"),b("AdsAdgroupPreviewPagePostValidator"),b("AdsAdgroupPreviewProductSetValidator"),b("AdsAdgroupPreviewAssetFeedMediaValidator"),b("AdsAdgroupPreviewAssetFeedLinkValidator"),b("AdsAdgroupPreviewCanvasValidator"),b("AdsAdgroupPreviewCollectionValidator"),b("AdsAdgroupPreviewCTAValidator"),b("AdsAdgroupPreviewVideoCTAValidator"),b("AdsAdgroupPreviewLinkCaptionValidator"),b("AdsAdgroupPreviewPageValidator"),b("AdsAdgroupPreviewPacPhase2AssetFeedImagesValidator")];function a(a,c,d,e){__p&&__p();c===void 0&&(c=b("AdsDynamicPreviewItemTypes").NONE);a={adgroup:a,campaign:e,dynamicPreviewItemType:c,campaignGroup:{objective:d}};for(var e=0;e<h.length;e++){c=h[e];if(c.shouldValidate(a)){d=c.validate(a);if(d.length>0)return d}}return[]}function c(a,c,d){c===void 0&&(c=b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT);a=a.message;return b("React").createElement("div",babelHelpers["extends"]({},d?{key:d}:null,{className:"_2r6m",style:{height:c}}),b("React").createElement("div",{className:"_2r6n"}),b("React").createElement("div",{className:"_2r6o"},a))}e.exports={getValidationErrors:a,renderPreviewErrorMessage:c}}),null);
__d("AdsAdgroupPreviewsV2Section.react",["cssVar","cx","errorCode","fbt","AdsAccountCapabilities","AdsAccountUtils","AdsAdgroupPreview.react","AdsAdgroupPreviewsV2OverlayedRenderingVideoNotice.react","AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react","AdsAdgroupPreviewV2InstreamPacUpsellNux.react","AdsAdgroupTypeUtils","AdsAdPreviewUtils","AdsAPIAdgroupPaths","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsAssetFeedUtils","AdsCCCategory","AdsError","AdsErrorBoundary.react","AdsIntelligentNotificationContainer.react","AdsInterfacesLogger","AdsMovieAdsUtils","AdsPreviewApiFormats","AdsPreviewV2ErrorUtils","ApiAdCreativeFields","React","adsOptimisticPreviewQESelector","gkx"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("AdsMovieAdsUtils").MOVIE_ID_PLACEHOLDER;k=babelHelpers.inherits(a,b("React").PureComponent);k&&k.prototype;a.prototype.render=function(){return b("React").createElement("div",babelHelpers["extends"]({className:"_41qe"},b("gkx")("677855")?{style:{backgroundColor:"rgba(0, 0, 0, 0.05)"}}:{}),b("React").createElement(o,this.props))};function a(){k.apply(this,arguments)}function m(a){var c=a.previewSpec,d=c.adgroupSpec;c=c.objective;return!d.creative?[]:b("AdsPreviewV2ErrorUtils").getValidationErrors(d,a.previewSpec.dynamicPreviewItemType,c,a.previewSpec.campaign)}function n(a,c){if(c.length===0)return null;q("preview_creative_invalid",a,c[0]);return b("AdsPreviewV2ErrorUtils").renderPreviewErrorMessage(c[0],a.sectionHeight)}function o(a){__p&&__p();var c=a.previewSpec,d=c.adgroupSpec;c=c.objective;c=b("AdsAdPreviewUtils").getErrorsForAdgroup(a.accountCapabilities,d,c,a.format,null,a.accountID);if(c.length){c=c[0].message;return b("React").createElement("div",{className:"_2ph-",style:{height:a.sectionHeight}},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").WARNING,messageID:"ads_previews_section_error",textData:[{type:"PARAGRAPH",data:{text:c}}]}}))}c=m(a);var e=n(a,c),f=new(b("AdsAPIAdgroupRecord"))(d);if(p(a,f,c)&&e!==null)return e;if(a.processingInstagramOrganicVideo===!0)return b("AdsPreviewV2ErrorUtils").renderPreviewErrorMessage(b("AdsError").createError(1815279,j._("Your video is processing. You'll see a preview here once it's finished.")),a.sectionHeight);if(b("AdsAccountUtils").hasCapabilityFromList(a.accountCapabilities,b("AdsAccountCapabilities").CAN_USE_MOVIE_ADS)){var g=f.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.MOVIE_ID);if(g!=null&&g===l)return b("AdsPreviewV2ErrorUtils").renderPreviewErrorMessage(b("AdsError").createError(2016081,j._("Please enter a valid Facebook movie details Page ID to preview this ad.")),a.sectionHeight)}if((a.format===b("AdsPreviewApiFormats").INSTREAM_VIDEO_MOBILE||a.format===b("AdsPreviewApiFormats").INSTREAM_VIDEO_DESKTOP)&&a.shouldRenderInstreamVideoPACUpsell===!0)return b("React").createElement("div",{className:"_30ub"},b("React").createElement("div",{className:"_3-8i"},b("React").createElement(b("AdsAdgroupPreviewV2InstreamPacUpsellNux.react"),null)));if(d.creative&&d.creative[b("ApiAdCreativeFields").ASSET_FEED_ID]&&d.creative[b("ApiAdCreativeFields").ASSET_FEED_SPEC]){g=d.creative;g=babelHelpers["extends"]({},g);a.shouldRenderPreviewByID!==!0?delete g[b("ApiAdCreativeFields").ASSET_FEED_ID]:delete g[b("ApiAdCreativeFields").ASSET_FEED_SPEC];d.creative=g}g=babelHelpers["extends"]({},a.previewSpec,{adgroupSpec:d});var h=a.sectionHeight!=null&&a.sectionHeight!==0?a.sectionHeight:"100%",i=a.hasOverlayedVideoRendering===!0&&a.plugin.isVideoOverlaysSupported===!0&&a.plugin.isVideoOverlaysSupported();return b("React").createElement(b("React").Fragment,null,p(a,f,c)?null:e,b("React").createElement("div",{className:"_30ub",style:{height:h}},b("React").createElement(b("AdsAdgroupPreviewsV2UnsupportedFeatureNotice.react"),{adgroupSpec:d,previewPlugin:a.plugin}),b("React").createElement(b("AdsAdgroupPreviewsV2OverlayedRenderingVideoNotice.react"),{isOverlayedVideoRendering:!!i}),b("React").createElement(b("AdsErrorBoundary.react"),null,b("React").createElement(b("AdsAdgroupPreview.react"),babelHelpers["extends"]({},g,{accountID:a.accountID,adgroupRecord:f,adgroupSpecPathPlugin:a.adgroupSpecPathPlugin,decorator:a.previewSpec.decorator,enableComment:a.enableComment,enableMsitePlayVideo:!0,endDateTimeStamp:a.endDateTimeStamp,format:a.format,hasInstagramStoryFormat:a.hasInstagramStoryFormat,imageURL:a.imageURL,isEdit:a.isEdit,key:"ad-preview-"+d.id,lastForceUpdateTimeStamp:a.lastForceUpdateTimeStamp,loadingOverlay:a.loadingOverlay,parentContainerHeight:a.sectionHeight,previewParent:a.previewParent,previewRenderType:a.previewRenderType,shouldLogLoading:a.shouldLogLoading,shouldOptimisticallyUpdate:a.shouldOptimisticallyUpdate,startDateTimeStamp:a.startDateTimeStamp,onFinishedLoading:a.onFinishedLoading,onStartedLoading:a.onStartedLoading})))))}function p(a,c,d){return a.shouldOptimisticallyUpdate===null||a.shouldOptimisticallyUpdate===!1||!a.optimisticAdPreviewQEParams||!a.optimisticAdPreviewQEParams.isOptimisticEmptyImageAdPreviewEnabled||b("AdsAssetFeedUtils").isSpecUsingAssetFeed(c)||b("AdsAdgroupTypeUtils").isVideoAd(c)||b("AdsAPIAdgroupRecordUtils").isCarouselVideoAd(c)||d.length!==1||d[0].key!==2016024}function q(a,c,d){var e=new(b("AdsAPIAdgroupRecord"))(c.previewSpec.adgroupSpec);b("AdsInterfacesLogger").log({eventName:a,data:{ad_preview_format:c.format,adgroup_id:b("AdsAPIAdgroupRecordUtils").getID(e),error_type:d.key,is_edit:c.isEdit,link_post_format:b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(e,c.adgroupSpecPathPlugin),media_format:b("AdsAPIAdgroupRecordUtils").getSingleMediaType(e),message:d.message}})}e.exports=a}),null);
__d("LatchBoundary.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.$1=!1,b}a.prototype.render=function(){var a=this.props.shouldRender;this.$1=this.$1||a;return this.$1?b("React").Children.only(this.props.children):null};e.exports=a}),null);
__d("deepCompare",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){__p&&__p();if(a===b)return!0;if(!(a instanceof Object)||!(b instanceof Object))return!1;if(a.constructor!==b.constructor)return!1;if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return!1;var c={},d=0;for(var e=0,f=a.length;e<f;e++){var h=d;for(var i=0,j=b.length;i<j&&h===d;i++){if(c[i])continue;g(a[e],b[i])&&(c[i]=!0,d++)}}return d===a.length}else{for(var k in a){if(!Object.prototype.hasOwnProperty.call(a,k))continue;if(!Object.prototype.hasOwnProperty.call(b,k))return!1;if(a[k]===b[k])continue;if(typeof a[k]!=="object")return!1;if(!g(a[k],b[k]))return!1}for(k in b)if(Object.prototype.hasOwnProperty.call(b,k)&&!Object.prototype.hasOwnProperty.call(a,k))return!1}return!0}e.exports=g}),null);
__d("AdsAdgroupPreviewsV2.react",["cx","fbt","AdsAdgroupPreviewsLoggingConstants","AdsAdgroupPreviewsV2Comments.react","AdsAdgroupPreviewsV2DCOPreviewEntry.react","AdsAdgroupPreviewsV2Header.react","AdsAdgroupPreviewsV2Section.react","AdsAdgroupSpecUtils","AdsAPIAdgroupRecord","AdsAPIAdgroupRecordUtils","AdsCCCategory","AdsDynamicPreviewItemTypes","AdsIntelligentNotificationContainer.react","AdsLoadState_LEGACY","AdsObjectivesV2Utils","AdsPreviewApiFormats","AdsPreviewsV2Constants","AdsTestIDs","LatchBoundary.react","OptimisticAdPreviewUtils","React","XUICarousel.react","XUICarouselItem.react","adsOptimisticPreviewQESelector","areEqual","deepCompare","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=0;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.$1=!1,this.$2=function(a,b,c){c===void 0&&(c=!0);var d=this.props.previewSpec.previewPlugins;this.props.onAdFormatIndexChange(d.toIndexedSeq().get(a).apiFormat,a,this.props.previewSpec.adgroupIndex,c,b)}.bind(this),b}a.prototype.shouldComponentUpdate=function(a){return!b("areEqual")(this.props,a)};a.prototype.componentDidMount=function(){var a=this.props.previewSpec.previewPlugins.valueSeq().toJS().map(function(a){return a.apiFormat});this.props.setPreviewFormatsForAdgroup(a,this.props.previewSpec.adgroupIndex)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){__p&&__p();var c;this.$1=!1;(!b("areEqual")((c=this.props.previewSpec.adgroupSpec)!=null?c.creative:c,(c=a.previewSpec.adgroupSpec)!=null?c.creative:c)||!b("areEqual")((c=this.props.previewSpec.dynamicCustomization)!=null?c:{},(c=a.previewSpec.dynamicCustomization)!=null?c:{})||this.props.previewRenderType!==a.previewRenderType)&&(this.$1=!0,j++);c=this.props.previewSpec.previewPlugins;var d=a.previewSpec.previewPlugins;if(c.size===0||d.size===0)return;var e=d.size;a=a.formatIndex;a==null||a>=e||a<0?(this.refs.carousel&&this.refs.carousel.setIndex(0),this.$2(0,b("AdsAdgroupPreviewsLoggingConstants").COMPONENT_CLAMP,!1)):this.refs.carousel&&this.refs.carousel.setIndex(a);e=d.valueSeq().toJS().map(function(a){return a.apiFormat});a=c.valueSeq().toJS().map(function(a){return a.apiFormat});b("deepCompare")(e,a)||this.props.setPreviewFormatsForAdgroup(e,this.props.previewSpec.adgroupIndex)};a.prototype.shouldOptimisticallyUpdate=function(a){var c=new(b("AdsAPIAdgroupRecord"))(this.props.previewSpec.adgroupSpec),d=b("AdsAPIAdgroupRecordUtils").getSingleMediaType(c);c=b("AdsAPIAdgroupRecordUtils").getLinkPostFormat(c,this.props.adgroupSpecPathPlugin);return b("OptimisticAdPreviewUtils").shouldUpdate(this.props.optimisticAdPreviewQEParams,a,d,c)};a.prototype.render=function(){__p&&__p();var a=this.props.previewSpec;a=a.objective;var c=this.props.hideAdgroupPreview?"none":"block";if(!b("AdsObjectivesV2Utils").isObjectiveSupported(a))return null;if(this.props.previewSpec.previewPlugins.size===0)return b("React").createElement("div",{className:"_39ui",style:{display:c}},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"error_message_that_ad_set_doesn't_have_placements_selected",textData:[{type:"PARAGRAPH",data:{text:h._("No placements have been selected for the ad set containing this ad. Please update the placement section.")}}]}}));a=this.props.previewSpec.previewPlugins;var d=this.props.formatIndex||0;(d<0||d>=a.size)&&(d=0);a=null;this.props.enableComment&&this.props.comments&&(a=b("React").createElement(b("AdsAdgroupPreviewsV2Comments.react"),{commentsLO:this.props.comments,format:this.props.format,isDraft:this.props.isDraft||!1,isDynamicAd:this.props.previewSpec.useDCOPreviewEntry||this.props.previewSpec.dynamicPreviewItemType!==b("AdsDynamicPreviewItemTypes").NONE}));return b("React").createElement("div",{className:"_39ui","data-testid":b("AdsTestIDs").PREVIEW_CAROUSEL,style:{display:c}},this.$3(d),b("React").createElement(b("AdsAdgroupPreviewsV2DCOPreviewEntry.react"),{accountCapabilities:this.props.accountCapabilities,accountID:this.props.accountID,previewSpec:this.props.previewSpec}),b("React").createElement("div",{className:"_6ox-"},this.$4(d),a))};a.prototype.$3=function(a){var c=this.props.previewSpec.previewPlugins;return b("React").createElement(b("AdsAdgroupPreviewsV2Header.react"),{customHeaderComponent:this.props.customHeaderComponent,fixedWidthSelector:this.props.fixedWidthSelector,index:a,maxIndex:c.size-1,minIndex:0,previewPlugins:c,onChange:this.$2})};a.prototype.$4=function(a){__p&&__p();var c=this.$5(),d=this.props,e=d.customContainerHeight,f=d.previewSpec;d=d.width;c=c&&c.loadState===b("AdsLoadState_LEGACY").ERROR;var g=e>b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT?e-b("AdsPreviewsV2Constants").HEADER_HEIGHT:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT;if(c)return b("React").createElement("div",{style:{marginBottom:"16px",marginLeft:"16px",marginRight:"16px"}},b("React").createElement(b("AdsIntelligentNotificationContainer.react"),{ccCardProps:{category:b("AdsCCCategory").ACTIVE_FEEDBACK,messageID:"ad_preview_is_unavailable_because_the_page_post_cannot_be_loaded",textData:[{type:"PARAGRAPH",data:{text:h._("Sorry, we can't show a preview because the Page post of this ad is unavailable.")}}]}}));var i=f.adgroupIndex,k=f.adgroupSpec;e=f.previewPlugins;c=e.valueSeq().toJS();var l=e.some(function(a,c){return a.apiFormat===b("AdsPreviewApiFormats").INSTAGRAM_STORY});e=c.map(function(c,d){var e=c.apiFormat,h=Math.abs(a-d)<=(this.props.renderMore?1:0);d=!this.props.hideAdgroupPreview&&a===d;var m=this.shouldOptimisticallyUpdate(e),n="adgroup-"+i+"-"+e;m||(n+="-"+j);c=b("React").createElement(b("AdsAdgroupPreviewsV2Section.react"),{accountCapabilities:this.props.accountCapabilities,accountID:this.props.accountID,adgroupSpec:k,adgroupSpecPathPlugin:this.props.adgroupSpecPathPlugin,endDateTimeStamp:this.props.endDateTimeStamp,format:e,hasInstagramStoryFormat:l,hasOverlayedVideoRendering:this.props.hasOverlayedVideoRendering,imageURL:this.props.imageURL,isEdit:this.$1,key:n,lastForceUpdateTimeStamp:this.props.lastForceUpdateTimeStamp,optimisticAdPreviewQEParams:this.props.optimisticAdPreviewQEParams,plugin:c,previewParent:this.props.previewParent,previewRenderType:this.props.previewRenderType,previewSpec:f,processingInstagramOrganicVideo:this.props.processingInstagramOrganicVideo,sectionHeight:g,shouldLogLoading:d,shouldOptimisticallyUpdate:m,shouldRenderInstreamVideoPACUpsell:this.props.shouldRenderInstreamVideoPACUpsell,startDateTimeStamp:this.props.startDateTimeStamp});return b("React").createElement(b("XUICarouselItem.react"),{key:e,style:{width:this.props.width}},b("React").createElement(b("LatchBoundary.react"),{key:n,shouldRender:h},c))}.bind(this));return b("React").createElement(b("XUICarousel.react"),{initialAutoplay:!1,initialIndex:a,ref:"carousel",resizeViewport:"disabled",viewportHeight:g,viewportWidth:d,wrapAround:!1},e)};a.prototype.$5=function(){var a=this.props.previewSpec,c=a.adgroupSpec;a=a.pagePostDetails;c=b("AdsAdgroupSpecUtils").getPagePostID(c);return a&&a[c]};a.defaultProps={customContainerHeight:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT,renderMore:!0,width:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_WIDTH,onAdFormatIndexChange:b("emptyFunction").thatReturnsNull};e.exports=a}),null);
__d("AdsAdgroupPreviewsLoggerStore",["AdsAdgroupOptimisticAdPreviewErrorActionFlux","AdsAdgroupOptimisticAdPreviewSkippedActionFlux","AdsAdgroupOptimisticAdPreviewSuccessActionFlux","AdsAdgroupPreviewLoadErrorDataActionFlux","AdsAdgroupPreviewLoadFinishedDataActionFlux","AdsAdgroupPreviewLoadStartDataActionFlux","AdsAdgroupPreviewLoadSuccessDataActionFlux","AdsAdgroupPreviewSelectedPreviewLoadedDataActionFlux","AdsAdgroupPreviewSwitchToFormatDataActionFlux","AdsDataAtom","AdsInterfacesLogger","AdsPreviewLogger","FluxReduceStore","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("gkx")("779516");g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.$AdsAdgroupPreviewsLoggerStore1=function(a,c){b("AdsPreviewLogger").log(a,c)};a.prototype.__getActionTypes=function(){return h?[b("AdsAdgroupOptimisticAdPreviewErrorActionFlux").actionType,b("AdsAdgroupOptimisticAdPreviewSkippedActionFlux").actionType,b("AdsAdgroupOptimisticAdPreviewSuccessActionFlux").actionType,b("AdsAdgroupPreviewLoadErrorDataActionFlux").actionType,b("AdsAdgroupPreviewLoadFinishedDataActionFlux").actionType,b("AdsAdgroupPreviewLoadStartDataActionFlux").actionType,b("AdsAdgroupPreviewLoadSuccessDataActionFlux").actionType,b("AdsAdgroupPreviewSelectedPreviewLoadedDataActionFlux").actionType,b("AdsAdgroupPreviewSwitchToFormatDataActionFlux").actionType]:null};a.prototype.reduce=function(a,c){__p&&__p();switch(c.action.actionType){case b("AdsAdgroupPreviewLoadStartDataActionFlux").actionType:this.$AdsAdgroupPreviewsLoggerStore1("preview_load_start",c.action.loggingData);return a;case b("AdsAdgroupPreviewSelectedPreviewLoadedDataActionFlux").actionType:this.$AdsAdgroupPreviewsLoggerStore1("selected_preview_loaded",c.action.loggingData);return a;case b("AdsAdgroupPreviewLoadSuccessDataActionFlux").actionType:this.$AdsAdgroupPreviewsLoggerStore1("preview_load_success",c.action.loggingData);return a;case b("AdsAdgroupPreviewLoadFinishedDataActionFlux").actionType:this.$AdsAdgroupPreviewsLoggerStore1("preview_load_finished",c.action.loggingData);return a;case b("AdsAdgroupPreviewLoadErrorDataActionFlux").actionType:this.$AdsAdgroupPreviewsLoggerStore1("preview_load_error",c.action.loggingData);return a;case b("AdsAdgroupOptimisticAdPreviewErrorActionFlux").actionType:for(var d=c.action.errors.entrySeq(),e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;this.$AdsAdgroupPreviewsLoggerStore1("optimistic_preview_error",babelHelpers["extends"]({},c.action.loggingData,{errorType:g[0]+":"+g[1]}))}c.action.errors.size>1&&this.$AdsAdgroupPreviewsLoggerStore1("optimistic_preview_multiple_errors",babelHelpers["extends"]({errorType:JSON.stringify(c.action.errors)},c.action.loggingData));return a;case b("AdsAdgroupOptimisticAdPreviewSkippedActionFlux").actionType:this.$AdsAdgroupPreviewsLoggerStore1("optimistic_preview_skipped",babelHelpers["extends"]({},c.action.loggingData));return a;case b("AdsAdgroupOptimisticAdPreviewSuccessActionFlux").actionType:this.$AdsAdgroupPreviewsLoggerStore1("optimistic_preview_success",babelHelpers["extends"]({},c.action.loggingData,{message:c.action.successes.toString()}));return a;case b("AdsAdgroupPreviewSwitchToFormatDataActionFlux").actionType:c.action.data.shouldLog&&b("AdsInterfacesLogger").log({eventName:"select_preview_section",data:{ad_preview_format:c.action.data.format,event_source:c.action.data.loggingSource}});return a}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsInsightsAdCommentsDataProvider",["AdsInsightsAdCommentsDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsInsightsAdCommentsDataProviderPlugin"),"AdsInsightsAdCommentsDataProviderPlugin")}),null);
__d("AdsInsightsAdCommentsLoadedDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.merge(b.comments)}};e.exports=a}),null);
__d("AdsInsightsAdCommentsLoadedDataAction",["Laminar","AdsInsightsAdCommentsLoadedDataReducerPlugin","AdsInsightsAdCommentsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsInsightsAdCommentsLoadedDataReducerPlugin"),b("AdsInsightsAdCommentsDataProvider"),{})]},function(){return[]},"AD_COMMENTS_LOADED");e.exports=a}),null);
__d("AdsInsightsAdCommentsLoadingDataReducerPlugin",["mapSet"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return a.merge(b("mapSet")(c.adIDs,function(b){return[b,a.get(b).loading()]}))}};e.exports=a}),null);
__d("AdsInsightsAdCommentsLoadingDataAction",["Laminar","AdsInsightsAdCommentsLoadingDataReducerPlugin","AdsInsightsAdCommentsDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsInsightsAdCommentsLoadingDataReducerPlugin"),b("AdsInsightsAdCommentsDataProvider"),{})]},function(){return[]},"AD_COMMENTS_LOADING");e.exports=a}),null);
__d("AdsInsightsAdCommentsDataProviderPlugin",["regeneratorRuntime","AdsGraphAPI","AdsInsightsAdCommentsLoadedDataAction","AdsInsightsAdCommentsLoadingDataAction","LoadObjectMap","immutable","promiseDone","promiseLoadObjectsFromKeys"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Record({instagram:b("immutable").List(),facebook:b("immutable").List()}),h=b("AdsGraphAPI").get(e.id);function i(a){__p&&__p();var c,d,e,f,i;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:l.next=2;return b("regeneratorRuntime").awrap(h.object("ad",a).edge("adcreatives").get({fields:"effective_instagram_story_id,effective_object_story_id"}));case 2:c=l.sent;d=c.data;e=d[0].effective_object_story_id;f=d[0].effective_instagram_story_id;i={facebook:b("immutable").List(),instagram:b("immutable").List()};if(!e){l.next=11;break}l.next=10;return b("regeneratorRuntime").awrap(j(e));case 10:i.facebook=l.sent;case 11:if(!f){l.next=15;break}l.next=14;return b("regeneratorRuntime").awrap(k(f));case 14:i.instagram=l.sent;case 15:return l.abrupt("return",g(i));case 16:case"end":return l.stop()}},null,this)}function j(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(h.object("post",a).get({fields:"comments.order(reverse_chronological){attachment,comments,comment_count,created_time,from,id,like_count,message,message_tags,permalink_url}"}));case 2:c=e.sent;d=c.comments;return e.abrupt("return",b("immutable").List(d&&d.data||[]));case 5:case"end":return e.stop()}},null,this)}function k(a){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(h.object("post",a).get({fields:"comments.order(reverse_chronological){attachment,message,is_hidden,mentioned_instagram_users,instagram_comment_id,instagram_user{has_profile_picture,profile_pic,username},comment_type,created_at}"}));case 2:c=e.sent;d=c.comments;return e.abrupt("return",b("immutable").List(d&&d.data||[]));case 5:case"end":return e.stop()}},null,this)}a={initialState:b("LoadObjectMap").create(function(a){b("AdsInsightsAdCommentsLoadingDataAction").dispatch({adIDs:a},{line:"142",module:"AdsInsightsAdCommentsDataProviderPlugin.js"}),b("promiseDone")(b("promiseLoadObjectsFromKeys")(a,i),function(a){b("AdsInsightsAdCommentsLoadedDataAction").dispatch({comments:a},{line:"144",module:"AdsInsightsAdCommentsDataProviderPlugin.js"})})})};e.exports=a}),null);
__d("AdsMerchantOverlaysVideoRenderingStatusProvider",["AdsMerchantOverlaysVideoRenderingStatusProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMerchantOverlaysVideoRenderingStatusProviderPlugin"),"AdsMerchantOverlaysVideoRenderingStatusProviderPlugin")}),null);
__d("AdsPEBaseSelectionEditStatusStore",["AdsDataAtom","FluxReduceStore","abstractMethod","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,b("immutable").Record({newIDs:[],oldIDs:[]}));g&&g.prototype;function i(){g.apply(this,arguments)}c=babelHelpers.inherits(a,b("FluxReduceStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("AdsDataAtom")),this.getSelectionNewCount=b("adsCreateStoreSelector")([this],function(){return this.$AdsPEBaseSelectionEditStatusStore5().length}.bind(this),e.id),this.getSelectionOldCount=b("adsCreateStoreSelector")([this],function(){return this.$AdsPEBaseSelectionEditStatusStore6().length}.bind(this),e.id),this.$AdsPEBaseSelectionEditStatusStore1=[this.__getSelectionStore(),this.__getEditStatusStore()],this.$AdsPEBaseSelectionEditStatusStore2=this.$AdsPEBaseSelectionEditStatusStore1.map(function(a){return a.getDispatchToken()})}a.prototype.getInitialState=function(){return new i({oldIDs:this.$AdsPEBaseSelectionEditStatusStore3(),newIDs:this.$AdsPEBaseSelectionEditStatusStore4()})};a.prototype.reduce=function(a){b("AdsDataAtom").waitFor(this.$AdsPEBaseSelectionEditStatusStore2);return!this.$AdsPEBaseSelectionEditStatusStore1.some(function(a){return a.hasChanged()})?a:a.set("oldIDs",this.$AdsPEBaseSelectionEditStatusStore3()).set("newIDs",this.$AdsPEBaseSelectionEditStatusStore4())};a.prototype.$AdsPEBaseSelectionEditStatusStore5=function(){return this.getState().newIDs};a.prototype.$AdsPEBaseSelectionEditStatusStore6=function(){return this.getState().oldIDs};a.prototype.$AdsPEBaseSelectionEditStatusStore4=function(){return this.__getSelectionStore().getSelectedIDs().filter(function(a){return this.__getEditStatusStore().isNew(a)}.bind(this))};a.prototype.$AdsPEBaseSelectionEditStatusStore3=function(){return this.__getSelectionStore().getSelectedIDs().filter(function(a){return!this.__getEditStatusStore().isNew(a)}.bind(this))};a.prototype.__getSelectionStore=function(){return b("abstractMethod")("AdsPEBaseSelectionEditStatusStore","__getSelectionStore")};a.prototype.__getEditStatusStore=function(){return b("abstractMethod")("AdsPEBaseSelectionEditStatusStore","__getEditStatusStore")};a.__moduleID=e.id;e.exports=a}),null);
__d("AdsPEAdgroupSelectionEditStatusStore",["AdsAdgroupDraftFragmentStore","AdsPEAdSelectionStore","AdsPEBaseSelectionEditStatusStore"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsPEBaseSelectionEditStatusStore"));g&&g.prototype;a.prototype.__getSelectionStore=function(){return b("AdsPEAdSelectionStore")};a.prototype.__getEditStatusStore=function(){return b("AdsAdgroupDraftFragmentStore")};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsPreviewsV2SetPreviewFormatsForAdgroupReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("previewFormatMap",a.get("previewFormatMap").set(b.data.adgroupIndex,b.data.previewFormats))}};e.exports=a}),null);
__d("AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction",["Laminar","AdsPreviewsV2SetPreviewFormatsForAdgroupReducerPlugin","AdsAdgroupPreviewsV2UIDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsPreviewsV2SetPreviewFormatsForAdgroupReducerPlugin"),b("AdsAdgroupPreviewsV2UIDataProvider"),{})]},function(){return[]},"PREVIEWS_V2.SET_PREVIEW_FORMATS_FOR_ADGROUP");e.exports=a}),null);
__d("AdsPlacementAssetCustomizationSelectors",["AdsAdgroupLiveStore","AdsAPICampaignPaths","AdsAssetFeedUtils","AdsCFAdgroupUtils","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetUtils","AdsPlacementEligibilityInfoUtils","LoadObject","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorBlockListAccountListSelector","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,c){return b("AdsPlacementAssetUtils").getCustomizationGroupInfoFromAdObjectList(c)},{name:e.id+".candidateAssetGroupSelector"});c=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.map(function(a){return a.adgroup.id}).filter(function(a){return!b("AdsCFAdgroupUtils").isNewID(a)})},{name:e.id+".liveAdgroupIDsSelector"});d=b("adsCreateStoreSelector")([b("AdsAdgroupLiveStore")],function(a){return b("AdsAdgroupLiveStore").getCached(a).getValue()},e.id+".liveAdgroupSelector");f=b("adsCreateMapSelector")(c,d,e.id+".liveAdgroupMapSelector");c=b("adsCreateSelector")([b("adsUEditorAccountSelector"),b("adsUEditorBlockListAccountListSelector"),b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),f],function(a,c,d,e){__p&&__p();d=d.map(function(d){__p&&__p();var f=d.adgroup,g=d.campaign;d=d.campaignGroup;var h=e.get(f.id);if(h&&h.creative&&!b("AdsAssetFeedUtils").isPACAdgroupFromSpec(h))return b("LoadObject").withValue(!1);h=d.buying_type;d=d.objective;var i=b("getByPath")(g,b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);h=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(g,h,a.capabilities,d,c,i);return b("LoadObject").withValue(b("AdsPlacementAssetEligibilityUtils").isEligibleForPlacementAssetCustomizationPhase2(g,f,h)&&!b("AdsPlacementAssetEligibilityUtils").isPhase1Preferred(h.spec,h.capabilities))});if(d.some(function(a){return a.isLoading()}))return b("LoadObject").loading();d=d.every(function(a){return a.getValueEnforcing()});return b("LoadObject").withValue(!d)},{name:e.id+".adsUEditorAdgroupIsUsingPlatformCustomizationUISelector"});d=b("adsCreateSelector")([b("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return b("AdsPlacementAssetUtils").getPlacementAssetSelectorConfigForAdObjectList(a)},{name:e.id+".pacConfigSelector"});e.exports={adsUEditorAdgroupIsUsingPlatformCustomizationUISelector:c,candidateAssetGroupSelector:a,pacConfigSelector:d}}),null);
__d("AdsAssetFeedVideoAssetsUtils",["invariant","AdsAPIAdAssetFeedVideosFields","AdsAssetFeedFieldUtils","AdsLoadState_LEGACY","LoadObject","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[];a={getVideoAssetIDs:function(a){return!a?[]:a.map(function(a){return b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID)}).toArray().filter(Boolean)},getVideoThumbnailUrlMap:function(a){var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);d!=null&&c.set(d,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").THUMBNAIL_URL))});return c},getVideoCaptionIDsMap:function(a){__p&&__p();var c=new Map();a&&a.forEach(function(a){var d=b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID);if(d!=null){a=a.get(b("AdsAPIAdAssetFeedVideosFields").CAPTION_IDS);a instanceof b("immutable").List&&(a=a.map(String).toArray());Array.isArray(a)||(a=h);c.set(d,a)}});return c},getVideoAssetsSelect:function(a,c,d,e){__p&&__p();a instanceof Array||g(0,4024);if(a.length===0)return b("LoadObject").empty();if(c.some(function(a){return a&&a.loadState!==b("AdsLoadState_LEGACY").LOADED}))return b("LoadObject").loading();a=a.reduce(function(a,b){var f=c.get(b);f&&(a[b]={captionIDs:e.get(b)||[],format:"video",thumbnailUrl:d.get(b),video:f});return a},{});return b("LoadObject").withValue(b("immutable").Map(a))}};e.exports=a}),null);
__d("AdsVideoAssetSelectors",["invariant","AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsBulkValueUtils","AdsMixedValue","AdsUEditorAdgroupBulkSelectors","AdsVideoStore","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);c=b("adsCreateSelector")([a],function(a){if(!a||a instanceof b("AdsMixedValue"))return null;a=b("AdsBulkValueUtils").getUniformValue(a,null);typeof a!=="string"||g(0,6123);return a},{name:e.id+".assetFeedVideoListSelector"});d=b("adsCreateSelector")([c],b("AdsAssetFeedVideoAssetsUtils").getVideoAssetIDs,{name:e.id+".videoAssetIDsSelector"});f=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return b("AdsVideoStore").get(a)},e.id+".videoInfoStoreSelector");f=b("adsCreateMapSelector")(d,f,e.id+".videoInfoMapSelector");var h=b("adsCreateSelector")([c],b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailUrlMap,{name:e.id+".videoThumbnailUrlMapSelector"}),i=b("adsCreateSelector")([c],b("AdsAssetFeedVideoAssetsUtils").getVideoCaptionIDsMap,{name:e.id+".videoCaptionIDsMapSelector"});h=b("adsCreateSelector")([d,f,h,i],b("AdsAssetFeedVideoAssetsUtils").getVideoAssetsSelect,{name:e.id+".videoAssetsSelector"});e.exports={assetFeedBulkVideoAssetListSelector:a,assetFeedVideoListSelector:c,videoAssetsSelector:h,videoAssetIDsSelector:d,videoInfoMapSelector:f}}),null);
__d("AdsVideoPlacementAssetCustomizationSelectors",["invariant","AdsAPIAdAssetFeedFields","AdsAPIAdAssetFeedVideosFields","AdsAPIAdAssetTargetRuleFields","AdsAPIAdgroupPaths","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsAssetFeedFieldUtils","AdsBulkValueUtils","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsVideoAssetSelectors","LoadObject","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","firstx","getByPath","immutable","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector;c=b("AdsPlacementAssetCustomizationSelectors").pacConfigSelector;d=b("AdsVideoAssetSelectors").assetFeedVideoListSelector;f=b("AdsVideoAssetSelectors").videoAssetsSelector;var h=b("AdsVideoAssetSelectors").videoInfoMapSelector,i=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES);i=b("adsCreateSelector")([i,d],function(a,c){if(a instanceof b("AdsMixedValue")||!c)return null;a=b("AdsBulkValueUtils").getUniformValue(a,null);var d=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);a=b("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(a,b("AdsAPIAdAssetTargetRuleFields").VIDEO_LABEL);c=b("AdsAssetFeedFieldUtils").getAssetMapForLabels(c,b("AdsAPIAdAssetFeedVideosFields").ADLABELS,d).map(function(a){return b("nullthrows")(b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID))});return{labels:d,placementsByLabel:a,videoIDsByLabel:c}},{name:e.id+".assetFeedAdgroupInfoSelector"});function j(a,c,d,e){__p&&__p();if(!c)return null;var f=b("AdsBulkValueUtils").getUniformValue(a,b("AdsAPIObjectives").NONE);return c.videoIDsByLabel.map(function(a,g){a=d.get(a);if(!a)return b("immutable").List();a=e(a,b("nullthrows")(c).placementsByLabel.get(g),f);return b("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a)}).filter(function(a){return a.size!==0})}var k=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),i,h],function(a,b,c){return j(a,b,c,function(a,b,c){return b})},{name:e.id+".assetGroupsByAssetSelector"});h=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),i,h],function(a,c,d){return j(a,c,d,b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo)},{name:e.id+".validAssetGroupsByAssetSelector"});var l=b("adsCreateSelector")([i,a,f,h],function(a,c,d,e){if(d.isLoading())return b("LoadObject").loading();return d.isEmpty()||!a||a.labels.size===0||!c||!e?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector"}),m=b("adsCreateSelector")([f],function(a){if(a.isLoading())return b("LoadObject").loading();return a.isEmpty()?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoDLOCanRenderFromAssetFeedSelector"}),n=b("adsCreateSelector")([b("adsUEditorAccountSelector"),l,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),i,a,f,h,k],function(a,c,d,e,f,g,h,i){__p&&__p();if(g.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||g.isEmpty()||!e||e.labels.size===0||!f||!h||!i)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));var j=g.getValueEnforcing();c=e.videoIDsByLabel.map(function(a){return j.get(a)});return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:c,assetGroups:f.assetGroups,basePlacementGroup:null,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],assetsPlacements:e.placementsByLabel,placementsByAssetGroup:f.placementsByAssetGroup,isUsingPlatformCustomizationUI:!1,labels:e.labels,validAssetGroupsByAsset:h,assetGroupsByAsset:i})},{name:e.id+".adsUEditorAdgroupVideoPACAssetFeedSelector"}),o=b("adsCreateSelector")([b("adsUEditorAccountSelector"),m,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),a,f,c],function(a,c,d,e,f,h){__p&&__p();if(f.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||f.isEmpty()||!e)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));c=f.getValueEnforcing();f=b("firstx")(d).adgroup;var i=b("AdsAssetFeedFieldUtils").getDefaultAssetIndex(f,b("AdsAPIAdAssetFeedFields").VIDEOS);f=b("getByPath")(f,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);var j=f.size>1;f=b("AdsAssetFeedFieldUtils").getAssetAtIndex(f,b("AdsAPIAdAssetFeedVideosFields").VIDEO_ID,i);f!=null&&f!==""||g(0,762);i=b("immutable").Map([[h.basePlacementGroup,c.get(f)]]);c=b("immutable").List.of(h.basePlacementGroup);return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:i,assetGroups:e.assetGroups,assetsPlacements:b("immutable").Map(),basePlacementGroup:h.basePlacementGroup,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],hasLSC:j,placementsByAssetGroup:b("immutable").Map(),isUsingPlatformCustomizationUI:!0,labels:c,validAssetGroupsByAsset:b("immutable").Map()})},{name:e.id+".adsUEditorAdgroupVideoDLOAssetFeedSelector"});a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),m,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),a,f,c,d],function(a,c,d,e,f,g,h){__p&&__p();if(f.isLoading()||c.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||f.isEmpty()||!e)return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));c=f.getValueEnforcing();f=h?h.map(function(a){return a.get("video_id").toString()}):b("immutable").List();return b("LoadObject").withValue({accountID:a.account_id,adgroupIDs:d.map(function(a){return a.adgroup.id}),assets:c,assetGroups:e.assetGroups,assetsPlacements:b("immutable").Map(),basePlacementGroup:g.basePlacementGroup,campaignIDs:d.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],hasDCO:!0,placementsByAssetGroup:b("immutable").Map(),isUsingPlatformCustomizationUI:!0,labels:f,validAssetGroupsByAsset:b("immutable").Map()})},{name:e.id+".adsUEditorAdgroupVideoDCOAssetFeedSelector"});e.exports={validAssetGroupsByAssetSelector:h,assetGroupsByAssetSelector:k,assetFeedAdgroupInfoSelector:i,adsUEditorAdgroupVideoPACAssetFeedSelector:n,adsUEditorAdgroupVideoDLOAssetFeedSelector:o,adsUEditorAdgroupVideoDCOAssetFeedSelector:a,adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector:l,adsUEditorAdgroupVideoDLOCanRenderFromAssetFeedSelector:m,adsUEditorAdgroupVideoDCOCanRenderFromAssetFeedSelector:m}}),null);
__d("AdsCarteAssetCustomizationRuleUtils",["invariant","AdsAPIAdLabelFields"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return!!a&&a.has(b)}function c(a,c){a=a.getIn([c,b("AdsAPIAdLabelFields").NAME]);typeof a==="string"||g(0,1837);return a}e.exports={hasLabelFieldInRule:a,getLabelNameFromTargetingRule:c}}),null);
__d("AdsVideoPlacementAssetSelectorSelectors",["AdsAPIAdgroupPaths","AdsAPICampaignGroupPaths","AdsAPIObjectives","AdsBulkValueUtils","AdsCarteAssetCustomizationSpecSelectors","AdsImageIDClasses","AdsImageInfoStore","AdsLoadState_LEGACY","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetValidationUtils","AdsUEditorAdgroupBulkSelectors","AdsUEditorCampaignGroupBulkSelectors","AdsVideoStore","LoadObject","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsCarteAssetCustomizationSpecSelectors").adsCarteHasDCAssetCustomizationAssetFeedSelector;c=b("AdsCarteAssetCustomizationSpecSelectors").adsCarteSelectedSegmentVideoDataSelector;var g=b("AdsImageIDClasses").AdsImageID;d=b("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupIsUsingPlatformCustomizationUISelector;f=b("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector;var h=b("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,i=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,j=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID),k=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL),l=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH),m=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CAPTION_IDS),n=b("AdsUEditorAdgroupBulkSelectors").selectorByPath(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path),o=b("adsCreateStoreSelector")([b("AdsVideoStore")],function(a){return a==null||a===""?null:b("AdsVideoStore").get(a)},e.id+".videoInfoStoreSelector");j=b("adsCreateSelector")([a,c,j,n],function(a,c,d,e){__p&&__p();if(!a&&(b("AdsBulkValueUtils").isNullValue(d)||d instanceof b("AdsMixedValue")))return null;a=a?b("AdsBulkValueUtils").getUniformValueOrDefault(c.videoID,null):b("AdsBulkValueUtils").getUniformValue(d,null);c=e.getValues().map(function(a){return a!=null&&a.instagram!=null&&a.instagram.video_id!=null?a.instagram.video_id:null}).filter(function(a,b,c){return c.indexOf(a)===b});if(c.length>1)return null;d=c.length===0?null:c[0];return{baseVideoID:a,instagramCustomizationVideoID:d}},{name:e.id+".platformVideoIDsSelector"});var p=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSizeURL(a)},e.id+".imageURLStoreSelector"),q=b("adsCreateSelector")([b("adsUEditorAccountSelector"),l],function(a,c){c=b("AdsBulkValueUtils").getUniformValue(c,null);return c!=null&&c!==""?[g.fromAcountAndHash(a.account_id,c)]:[]},{name:e.id+".imageIDsFromHashSelector"});q=b("adsCreateMapSelector")(q,p,e.id+".imageURLMapSelector");p=b("adsCreateSelector")([j],function(a){var b=[];a&&a.baseVideoID!=null&&a.baseVideoID!==""&&b.push(a.baseVideoID);a&&a.instagramCustomizationVideoID!=null&&a.instagramCustomizationVideoID!==""&&b.push(a.instagramCustomizationVideoID);return b},{name:e.id+".videoIDsSelector"});p=b("adsCreateMapSelector")(p,o,e.id+".videoInfoMapSelector");o=b("adsCreateSelector")([b("adsUEditorAccountSelector"),q,n,j,a,c,m,p,l,k],function(a,c,d,e,f,h,i,j,k,l){__p&&__p();if(e==null)return b("LoadObject").empty();var m=e.baseVideoID!=null&&e.baseVideoID!==""?j.get(e.baseVideoID):null;j=e.instagramCustomizationVideoID!=null&&e.instagramCustomizationVideoID!==""?j.get(e.instagramCustomizationVideoID):null;if(m&&m.loadState!==b("AdsLoadState_LEGACY").LOADED||j&&j.loadState!==b("AdsLoadState_LEGACY").LOADED)return b("LoadObject").loading();var n;if(m){e=f?b("AdsBulkValueUtils").getUniformValueOrDefault(h.imageHash,null):b("AdsBulkValueUtils").getUniformValue(k,null);k=f?b("AdsBulkValueUtils").getUniformValueOrDefault(h.imageURL,null):b("AdsBulkValueUtils").getUniformValue(l,null);if((k==null||k==="")&&e!=null&&e!==""){h=g.fromAcountAndHash(a.account_id,e);l=c.get(h);if(l.isLoading())return b("LoadObject").loading();else l.hasValue()&&(k=l.getValueEnforcing())}a=f?null:b("AdsBulkValueUtils").getUniformValue(i,null);a!=null&&a instanceof b("immutable").List&&(a=a.map(String).toArray());n={captionIDs:a||[],format:"video",thumbnailUrl:k,video:m}}var o;if(j){e=null;var p;c=b("AdsBulkValueUtils").getUniformValue(d,null);c!=null&&c.instagram!=null&&(e=c.instagram.image_url,p=c.instagram.caption_ids);p!=null&&p instanceof b("immutable").List&&(p=p.map(String).toArray());o={captionIDs:p||[],format:"video",thumbnailUrl:e,video:j}}return b("LoadObject").withValue({baseVideo:n,instagramCustomizationVideo:o})},{name:e.id+".videosSelector"});q=b("adsCreateSelector")([b("AdsUEditorCampaignGroupBulkSelectors").selectorByPath(b("AdsAPICampaignGroupPaths").OBJECTIVE),f,d,h,j,p],function(a,c,d,e,f,g){__p&&__p();if(d.isLoading())return b("LoadObject").loading();if(f==null)return b("LoadObject").empty();d=d.getValueEnforcing();var h=[];f.baseVideoID!=null&&f.baseVideoID!==""&&h.push(e.basePlacementGroup);(f.instagramCustomizationVideoID!=null&&f.instagramCustomizationVideoID!==""||d)&&e.customizationPlacementGroups.length>0&&h.push(e.customizationPlacementGroups[0]);var i,j=b("immutable").Map(),k,l;if(!d&&h.length===1&&c!=null){i=c.assetGroups;j=c.placementsByAssetGroup;var m=f.baseVideoID!=null?g.get(f.baseVideoID):null;if(m){e=i.filter(function(c){c=j.get(c);var d=b("AdsBulkValueUtils").getUniformValue(a,b("AdsAPIObjectives").NONE);d=b("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo(m,b("nullthrows")(c),d);return d.size===c.size});k=b("immutable").Map((c={},c[h[0]]=b("immutable").List(e),c));l=b("immutable").Map((g={},g[h[0]]=b("immutable").List(i),g))}}return b("LoadObject").withValue({assetGroups:i||[],isUsingPlatformCustomizationUI:d,labels:b("immutable").List(h),placementsByAssetGroup:j,validAssetGroupsByAsset:k||b("immutable").Map(),assetGroupsByAsset:l||b("immutable").Map()})},{name:e.id+".nonAssetFeedAdgroupInfoSelector"});n=b("adsCreateSelector")([q,o],function(a,c){if(c.isLoading()||a.isLoading())return b("LoadObject").loading();if(c.isEmpty()||a.isEmpty())return b("LoadObject").withValue(!1);a=c.getValueEnforcing();c=a.baseVideo;return c==null?b("LoadObject").withValue(!1):b("LoadObject").withValue(!0)},{name:e.id+".adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector"});a=b("adsCreateSelector")([b("adsUEditorAccountSelector"),n,b("adsUEditorAdObjectsForSelectedAdgroupsSelector"),q,h,o],function(a,c,d,e,f,g){__p&&__p();if(c.isLoading()||g.isLoading()||e.isLoading())return b("LoadObject").loading();if(!c.getValueEnforcing()||g.isEmpty()||e.isEmpty())return b("LoadObject").withError(new Error("Not eligible to render placement asset selector from non asset feed"));c=a.account_id;a=g.getValueEnforcing();g=a.baseVideo;if(g==null)return b("LoadObject").withError(new Error("An initial video must be selected to use the placement asset selector"));var h={};g&&(h[f.basePlacementGroup]=g);a.instagramCustomizationVideo&&(h[i.INSTAGRAM]=a.instagramCustomizationVideo);return b("LoadObject").withValue(babelHelpers["extends"]({accountID:c,adgroupIDs:d.map(function(a){return a.adgroup.id}),campaignIDs:d.map(function(a){return a.campaign.id}),assets:b("immutable").Map(h)},e.getValueEnforcing(),f))},{name:e.id+".adsUEditorAdgroupVideoPACNonAssetFeedSelector"});e.exports={nonAssetFeedAdgroupInfoSelector:q,adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector:n,adsUEditorAdgroupVideoPACNonAssetFeedSelector:a}}),null);
__d("AdsUEditorAdgroupInstreamVideoPACSelectors",["AdsAccountCapabilities","AdsAccountUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsUEditorCampaignSelectors","AdsVideoPlacementAssetCustomizationSelectors","AdsVideoPlacementAssetSelectorSelectors","AdsVideoSpecsUtils","adsCreateSelector","adsUEditorAccountSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAssetCustomizationTypes").AdsAssetCustomizationGroups;a=b("AdsVideoPlacementAssetCustomizationSelectors").adsUEditorAdgroupVideoPACAssetFeedSelector;c=b("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector;d=b("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideoPACNonAssetFeedSelector;f=b("adsCreateSelector")([b("adsUEditorAccountSelector"),c,a,d,b("AdsUEditorCampaignSelectors").eligibilityInformation],function(a,c,d,e,f){__p&&__p();if(!b("AdsAccountUtils").hasCapabilityFromList(f.capabilities,b("AdsAccountCapabilities").VERTICAL_VIDEO_PAC_INSTREAM_UPSELL))return!1;if(c.isLoading()||!c.hasValue())return!1;a=c.getValue();if(a&&e.isLoading()||!a&&d.isLoading())return!1;c=a?e.getValue():d.getValue();a=b("AdsPlacementAssetEligibilityUtils").getVideoWithSpecificPlacement(c,g.FACEBOOK_INSTREAM);return!!a&&b("AdsVideoSpecsUtils").isInvalidFacebookInstreamVideoInPACFlow(f,a)},{name:e.id+".AdsUEditorAdgroupInstreamVideoPACUpsellSelector"});e.exports={AdsUEditorAdgroupInstreamVideoPACUpsellSelector:f}}),null);
__d("AdsAdgroupPreviewsV2UIProviderStore",["AdsAdgroupPreviewsV2UIDataProvider"],(function(a,b,c,d,e,f){"use strict";e.exports=b("AdsAdgroupPreviewsV2UIDataProvider").toFluxStore()}),null);
__d("adsAdgroupPreviewsV2Selector",["AdsAdgroupPreviewsV2UIProviderStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsAdgroupPreviewsV2UIProviderStore")],function(){return b("AdsAdgroupPreviewsV2UIProviderStore").getState()},e.id+".adsAdgroupPreviewsV2Selector");e.exports=a}),null);
__d("adsAdgroupPreviewsV2FormatIndexSelector",["adsAdgroupPreviewsV2Selector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([],function(a){return a.previewSpec.adgroupIndex},e.id+".adgroupIndexPropSelector");c=b("adsCreateSelector")([b("adsAdgroupPreviewsV2Selector"),a],function(a,b){return a.formatIndexMap.get(b)},{name:e.id+".adsAdgroupPreviewsV2FormatIndexSelector"});e.exports=c}),null);
__d("adsAdgroupPreviewsV2FormatSelector",["adsAdgroupPreviewsV2FormatIndexSelector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([],function(a){return a.previewSpec.previewPlugins},e.id+".AdsPreviewPluginsSelector");c=b("adsCreateSelector")([b("adsAdgroupPreviewsV2FormatIndexSelector"),a],function(a,b){b=b.keySeq();var c,d=a;a>=0&&(a>=b.size&&(d=0),c=b.get(d));return c},{name:e.id+".adsAdgroupPreviewsV2FormatSelector"});e.exports=c}),null);
__d("adsAdgroupPreviewsV2RenderTypeSelector",["adsAdgroupPreviewsV2Selector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([],function(a){return a.previewSpec.adgroupIndex},e.id+".adgroupIndexPropSelector");c=b("adsCreateSelector")([b("adsAdgroupPreviewsV2Selector"),a],function(a,b){return a.previewRenderTypeMap.get(b)},{name:e.id+".adsAdgroupPreviewsV2RenderTypeSelector"});e.exports=c}),null);
__d("adsUEditorCanvasAdgroupTemplateVideoPreviewSelector",["AdsCanvasConstants","AdsCanvasDocumentStore","AdsCanvasTemplateVideoPreviewProvider","LoadObject","RichMediaElementTypeConstant","adsCreateSelector","adsUEditorCanvasIDFromAdgroupSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsCanvasConstants").CANVAS_COPY_SUFFIX,h=b("RichMediaElementTypeConstant").RichMediaElementTypes;a=b("adsCreateSelector")([b("adsUEditorCanvasIDFromAdgroupSelector"),b("AdsCanvasDocumentStore").getByID],function(a,c){if(a==null)return b("LoadObject").empty();var d=c(a);return d.isLoading()||d.isEmpty()?b("LoadObject").loading():c(a+g).map(function(a){a=a.elements.find(function(a){return a.elementType===h.TEMPLATE_VIDEO});return a==null?b("LoadObject").empty():b("LoadObject").withValue(a.id)})},{name:e.id+".adsUEditorTemplateVideoElementIDFromAdgroupSelector"});c=b("adsCreateSelector")([a,b("AdsCanvasTemplateVideoPreviewProvider").toFluxSelector()],function(a,c){return a.map(function(a){return c.get(a).map(function(c){return b("LoadObject").withValue({elementID:a,isPreviewReady:c})})})},{name:e.id+".adsUEditorCanvasAdgroupTemplateVideoPreviewSelector"});e.exports=c}),null);
__d("AdsAdgroupPreviewsV2Container.react",["AdsAdgroupDraftFragmentStore","AdsAdgroupPreviewsLoggerStore","AdsAdgroupPreviewsV2.react","AdsAdgroupPreviewSwitchToFormatDataAction","AdsAdgroupPreviewUpdateTimestampStore","AdsAdgroupSpecPathPluginResolver","AdsAPIAdgroupPaths","AdsAPICampaignRecordUtils","AdsAudienceDirectConfig","AdsCanvasTemplateVideoPreviewUtils","AdsDefaultAdgroupSpecPathPlugin","AdsFluxContainer","AdsImageInfoStoreUtils","AdsInsightsAdCommentsDataProvider","AdsInstagramVideoUploaderProviderStore","AdsMerchantOverlaysVideoRenderingStatusProvider","AdsPEAdgroupSelectionEditStatusStore","AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction","AdsSelectorUtils","AdsSimpleTipShowTipDataAction","AdsSimpleTipTypes","AdsUEditorAdgroupInstreamVideoPACSelectors","AdsUEditorContextType","LoadObject","MouseEventAccumulator.react","React","adsAdgroupPreviewsV2FormatIndexSelector","adsAdgroupPreviewsV2FormatSelector","adsAdgroupPreviewsV2RenderTypeSelector","adsOptimisticPreviewQESelector","adsUEditorCanvasAdgroupTemplateVideoPreviewSelector","getByPath","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsUEditorAdgroupInstreamVideoPACSelectors").AdsUEditorAdgroupInstreamVideoPACUpsellSelector;c=b("React").Component;var i=b("AdsMerchantOverlaysVideoRenderingStatusProvider").toFluxStore(),j=b("AdsInsightsAdCommentsDataProvider").toFluxSelector(),k=b("gkx")("780332");d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(a){g.constructor.call(this,a),this.state={adgroupSpecPathPlugin:b("AdsDefaultAdgroupSpecPathPlugin"),comments:b("LoadObject").loading(),format:null,formatIndex:0,isDraft:!1,optimisticAdPreviewQEParams:{isOptimisticCarouselAdPreviewEnabled:!1,isOptimisticDesktopImageAdPreviewEnabled:!1,isOptimisticEmptyImageAdPreviewEnabled:!1,isOptimisticIgAdPreviewEnabled:!1,isOptimisticImageAdPreviewEnabled:!1,isOptimisticVideoAdPreviewEnabled:!1,isOptimisticAnInterstitialEnabled:!1},lastForceUpdateTimeStamp:0,hasOverlayedVideoRendering:!1,processingInstagramOrganicVideo:!1,shouldRenderInstreamVideoPACUpsell:!1,previewRenderType:null,templateVideoPreviewData:b("LoadObject").empty()}}a.prototype.componentDidMount=function(){b("AdsSimpleTipShowTipDataAction").dispatch({tip:b("AdsSimpleTipTypes").DYNAMIC_ADS_UPSELL_ADGROUP_PREVIEW_V2},{line:"140",module:"AdsAdgroupPreviewsV2Container.react.js"})};a.prototype.componentWillUnmount=function(){var a=this.state.templateVideoPreviewData.getValue();a!=null&&b("AdsCanvasTemplateVideoPreviewUtils").stopPolling(a.elementID)};a.prototype.componentDidUpdate=function(a,c){__p&&__p();a=this.state.templateVideoPreviewData;if(a!==c.templateVideoPreviewData){if(a.isLoading()||a.isEmpty())return;c=a.getValueEnforcing();a=c.elementID;c=c.isPreviewReady;if(c)return;b("AdsCanvasTemplateVideoPreviewUtils").startPolling(a)}};a.getStores=function(a,c){a=c.adgroupEditorContext;c=[].concat(b("adsAdgroupPreviewsV2FormatIndexSelector").getStores(),b("adsAdgroupPreviewsV2FormatSelector").getStores(),b("adsAdgroupPreviewsV2RenderTypeSelector").getStores(),j.getStores(),b("adsOptimisticPreviewQESelector").getStores(),[b("AdsAdgroupPreviewUpdateTimestampStore"),b("AdsInstagramVideoUploaderProviderStore"),i],b("AdsSelectorUtils").getStores([h,b("adsUEditorCanvasAdgroupTemplateVideoPreviewSelector")],a));k||c.push(b("AdsAdgroupPreviewsLoggerStore"),b("AdsPEAdgroupSelectionEditStatusStore"));return c};a.calculateState=function(a,c,d){__p&&__p();a=d.adgroupEditorContext;d=h(a);var e=c.previewSpec,f=b("AdsAdgroupPreviewUpdateTimestampStore").getState().get("lastForceUpdateTimeStamp"),g=b("adsAdgroupPreviewsV2FormatIndexSelector")(c),k=b("AdsAdgroupSpecPathPluginResolver").resolve({accountType:b("AdsAudienceDirectConfig").accountType,objective:e.objective,promotedObjectType:b("AdsAPICampaignRecordUtils").getPromotedObjectType(e.objective,e.campaign)}),l=b("AdsInstagramVideoUploaderProviderStore").getState().get("isProcessing"),m=i.getState();m=m.isRenderingVideo;var n=b("adsAdgroupPreviewsV2FormatSelector")(c),o=b("AdsAdgroupDraftFragmentStore").isNew(e.adgroupSpec.id);if(c.enableComment&&!o){var p=j().get(e.adgroupSpec.id);p=!n||p.isEmpty()?b("LoadObject").loading():p}else p=b("LoadObject").empty();var q=b("adsOptimisticPreviewQESelector")();e=b("getByPath")(e.adgroupSpec,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.STATIC_FALLBACK_SPEC.path);e=e?b("adsAdgroupPreviewsV2RenderTypeSelector")(c):null;c=b("adsUEditorCanvasAdgroupTemplateVideoPreviewSelector")(a);return{adgroupSpecPathPlugin:k,comments:p,format:n,formatIndex:g,isDraft:o,optimisticAdPreviewQEParams:q,lastForceUpdateTimeStamp:f,hasOverlayedVideoRendering:m,processingInstagramOrganicVideo:l,shouldRenderInstreamVideoPACUpsell:d,previewRenderType:e,templateVideoPreviewData:c}};a.prototype.render=function(){var a=this.props.previewSpec;a.adgroupSpec=b("AdsImageInfoStoreUtils").generateFullSizeURLAdgroup(a.adgroupSpec);return b("React").createElement(b("MouseEventAccumulator.react"),{render:function(a){a=a.hover;return b("React").createElement(b("AdsAdgroupPreviewsV2.react"),{accountCapabilities:this.props.accountCapabilities,accountID:this.props.accountID,adgroupSpecPathPlugin:this.state.adgroupSpecPathPlugin,comments:this.state.comments,customContainerHeight:this.props.customContainerHeight,customHeaderComponent:this.props.customHeaderComponent,enableComment:this.props.enableComment,endDateTimeStamp:this.props.endDateTimeStamp,fixedWidthSelector:this.props.fixedWidthSelector,format:this.state.format,formatIndex:this.state.formatIndex,hasOverlayedVideoRendering:this.state.hasOverlayedVideoRendering,hideAdgroupPreview:this.props.hideAdgroupPreview,imageURL:this.props.imageURL,isDraft:this.state.isDraft,lastForceUpdateTimeStamp:this.state.lastForceUpdateTimeStamp,optimisticAdPreviewQEParams:this.state.optimisticAdPreviewQEParams,previewParent:this.props.previewParent,previewRenderType:this.state.previewRenderType,previewSpec:this.props.previewSpec,processingInstagramOrganicVideo:this.state.processingInstagramOrganicVideo,renderMore:a,setPreviewFormatsForAdgroup:this.$1,shouldRenderInstreamVideoPACUpsell:this.state.shouldRenderInstreamVideoPACUpsell,startDateTimeStamp:this.props.startDateTimeStamp,width:this.props.width,onAdFormatIndexChange:this.$2})}.bind(this)})};a.prototype.$2=function(a,c,d,e,f){b("AdsAdgroupPreviewSwitchToFormatDataAction").dispatch({data:{format:a,formatIndex:c,adgroupIndex:d,shouldLog:e,loggingSource:f}},{line:"347",module:"AdsAdgroupPreviewsV2Container.react.js"})};a.prototype.$1=function(a,c){b("AdsPreviewsV2SetPreviewFormatsForAdgroupDataAction").dispatch({data:{previewFormats:a,adgroupIndex:c}},{line:"362",module:"AdsAdgroupPreviewsV2Container.react.js"})};a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id+".exports"})}),null);
__d("AdsDCOPreviewUtils",["invariant","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdgroupPaths","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=function(a){return a&&a.filter(function(a){return a.get(b("AdsAPIAdAssetFeedBodiesFields").TEXT).trim().length>0})},i=function(a,c,d){return a.setIn(d,b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(c.getIn(d),0))},j={normalizeAdgroupForPreview:function(a){return!b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a)?a:a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID).updateIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,h).updateIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,h)},getDefaultSingleAssetAdgroup:function(a){var c;b("AdsAssetFeedUtils").isRegularDCOAdgroupFromRecord(a)||g(0,3891);var d=[b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES].reduce(function(b,c){return i(b,a,c)},j.removeMediaAssetFromAdgroup(a));if(a.hasIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES)&&b("AdsAssetFeedFieldUtils").getSingleValueAssetForType((c=a.creative)==null?void 0:(c=c.asset_feed_spec)==null?void 0:c.images,0))return i(d,a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);else if(a.hasIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS))return i(d,a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);return d},removeMediaAssetFromAdgroup:function(a){return a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)},updateSingleAssetAdgroupField:function(a,c,d,e){return c.setIn(e,b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),d))},updateFullCarouselAssetAdgroupField:function(a,c,d,e){__p&&__p();var f=b("AdsAssetFeedFieldUtils").getAssetsForType(a.getIn(e)),h=e.concat("0"),i=e.concat(d),j=b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),0);j instanceof b("immutable").List||j==null||g(0,3892);a=b("AdsAssetFeedFieldUtils").getSingleValueAssetForType(a.getIn(e),d);a instanceof b("immutable").List||a==null||g(0,3893);if(j&&a){d=j.get(0);j=a.get(0);return c.setIn(e,f).setIn(i,d).setIn(h,j)}return c.setIn(e,f)},getValidAdVariationCount:function(a){a=(a=a.creative)==null?void 0:a.asset_feed_spec;if(a==null)return 0;var b=a.images&&a.images.length||0,c=a.videos&&a.videos.length||0,d=a.bodies&&a.bodies.length||1,e=a.call_to_action_types&&a.call_to_action_types.length||0,f=a.titles&&a.titles.length||1;a=a.descriptions&&a.descriptions.length||1;e=e*f*a||1;return(b+c)*e*d}};e.exports=j}),null);
__d("AdsDynamicCreativeOptimizationLoggerEvents",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({CAMPAIGN_DYNAMIC_CREATIVE_SECTION_MOUNTED:"dco_campaign_dynamic_creative_section_mounted",NOTIFICATION_DIALOG_CONFIRMED:"dco_notification_dialog_confirmed",NOTIFICATION_DIALOG_DISMISSED:"dco_notification_dialog_dismissed",NOTIFICATION_DIALOG_OPEN:"dco_notification_dialog_open",DCO_FLOW_INITIATED:"dco_flow_initiated",DCO_FLOW_BYPASS_MODAL:"dco_flow_bypass_modal",DCO_CONVERSION_WITHOUT_ADGROUP:"dco_conversion_without_adgroup",DCO_CONVERSION_REFETCH_ADGROUP:"dco_conversion_refetch_adgroup",PREVIEW_ENTRY_MOUNTED:"dco_preview_entry_mounted",CLICK_ASSET_DROPDOWNS:"dco_click_asset_dropdowns",CLICK_TO_OPEN_PREVIEW_DIALOG:"dco_click_to_open_preview_dialog",CLOSE_PREVIEW_DIALOG:"dco_close_preview_dialog",SELECT_IMAGES_DIALOG_SHOW:"dco_select_images_dialog_show",SELECT_IMAGES_DIALOG_HIDE:"dco_select_images_dialog_hide",CTA_DROPDOWN_OPENED:"cta_dropdown_opened"});e.exports=a}),null);
__d("AdsAdgroupPreviewsV2DCOPreviewEntry.react",["cx","fbt","AdsDCONoticeUtils","AdsDCOPreviewDialogContainer.react","AdsDCOPreviewUtils","AdsDynamicCreativeOptimizationLoggerEvents","AdsIntelligentBlueTip.react","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsTestIDs","React","SUIBusinessTheme","SUIBusinessThemeContainer.react","SUIButton.react","SUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="dynamic_creative_preview_entry_button",k="ax_ads_adgroup_dco_preview_entry_tip";function l(a){a.accountID;a=a.validateCondition;return b("React").createElement(b("AdsIntelligentBlueTip.react"),{contextNodeID:j,messageID:k,position:"left",validateCondition:a})}c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isDialogShown:!1},this.$1=function(){this.setState({isDialogShown:!1}),b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLOSE_PREVIEW_DIALOG,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),this.$2=function(){this.setState({isDialogShown:!0}),b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLICK_TO_OPEN_PREVIEW_DIALOG,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),this.$4=function(){return!this.$3()}.bind(this),c}a.prototype.componentDidMount=function(){b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").PREVIEW_ENTRY_MOUNTED,eventCategory:b("AdsInterfacesLogEvents").EventCategory.AD_EDIT})};a.prototype.$3=function(){var a=b("AdsDCOPreviewUtils").getValidAdVariationCount(this.props.previewSpec.adgroupSpec);return a<=1};a.prototype.render=function(){__p&&__p();var a=this.props.previewSpec,c=a.adgroupSpec;a=a.useDCOPreviewEntry;if(a!==!0)return null;a=c==null?void 0:c.id;c=this.state.isDialogShown?b("React").createElement(b("AdsDCOPreviewDialogContainer.react"),{adgroupID:a,onHide:this.$1}):null;a=b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIText.react"),{display:"block",shade:"medium",size:"meta1",weight:"bold"},h._("This is an example.")));var d=this.$3();d=b("React").createElement("div",null,b("React").createElement(l,{accountID:this.props.accountID,validateCondition:this.$4}),b("React").createElement(b("SUIButton.react"),{"data-testid":b("AdsTestIDs").PREVIEW_DCO_VARIATIONS_BUTTON,disabled:d,id:j,label:h._("View More Variations"),theme:b("SUIBusinessTheme"),tooltip:d?b("AdsDCONoticeUtils").getPreviewEntryDisabledTooltip():null,onClick:this.$2}));return b("React").createElement("div",{className:"_17gl"},b("React").createElement("div",{className:"_17hm"},a,d),c)};e.exports=a}),null);
__d("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";a=g._("The preview ad will automatically refresh when you select a new option for any asset.");b=g._("Preview Possible Ad Variations");e.exports={BODY:a,TITLE:b}}),null);
__d("AdsDCOCarouselPreviewNuxConfig",["AdsCCCategory","AdsDynamicCreativeCarouselPreviewMoreVariationsNUX","AdsRecommendationTipConfig"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("AdsRecommendationTipConfig"));g=c&&c.prototype;function a(){g.constructor.call(this,{category:b("AdsCCCategory").ACTIVE_FEEDBACK,header:b("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX").TITLE,messageID:"dco_carousel_preview_more_variations",textData:[{type:"PARAGRAPH",data:{text:b("AdsDynamicCreativeCarouselPreviewMoreVariationsNUX").BODY}}]})}e.exports={AdsDCOCarousePreviewNuxConfig:a}}),null);
__d("AdsDCOFieldsLabels",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={AUTOMATIC_FORMAT_LABEL:g._("Images, videos and slideshows")};e.exports=a}),null);
__d("AdsLinkDescriptionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({NEWS_FEED:null,GENERAL:null});e.exports=a}),null);
__d("AdsLinkDescriptionUtils",["fbt","invariant","AdsLinkDescriptionTypes","AdsObjectStorySpecFieldLabels","ApiObjectStorySpecLinkFields"],(function(a,b,c,d,e,f,g,h){"use strict";a={getLabel:function(a){switch(a){case b("AdsLinkDescriptionTypes").NEWS_FEED:return g._("News Feed link description");case b("AdsLinkDescriptionTypes").GENERAL:return b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").DESCRIPTION);default:h(0,1576,a)}}};e.exports=a}),null);
__d("AdsDCOPreviewAssetSelectionPanel.react",["cx","AdsAPIAdAssetFeedBodiesFields","AdsAPIAdAssetFeedDescriptionsFields","AdsAPIAdAssetFeedTitlesFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetDropdownPicker.react","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCreativeFieldLabels","AdsDCOCarouselPreviewNuxConfig","AdsDCOFieldsLabels","AdsIntelligentComponentsMessageGroupEnum","AdsIntelligentInlineNux.react","AdsLabeledField.react","AdsLinkDescriptionTypes","AdsLinkDescriptionUtils","AdsObjectStorySpecFieldLabels","ApiAdCreativeFields","ApiCallToActionFields","ApiObjectStorySpecLinkFields","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsDCOCarouselPreviewNuxConfig").AdsDCOCarousePreviewNuxConfig;function j(a){return a.isDisabled===!0?null:b("React").createElement(b("AdsLabeledField.react"),{className:"_3-98",label:a.label},a.children)}c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES,a)}.bind(this),this.$2=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES,a),this.props.objective===b("AdsAPIObjectives").LEAD_GENERATION&&this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTIONS,a)}.bind(this),this.$3=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS,a)}.bind(this),this.$4=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,a)}.bind(this),this.$5=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES,a)}.bind(this),this.$6=function(a){this.props.onSelectAssetbyPathAtIndex(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,a)}.bind(this),this.$7=function(a,b){if(b==null)return;b.format==="video"?this.$6(b.index):b.format==="image"&&this.$4(b.index)}.bind(this),c}a.prototype.$8=function(a){a=this.props.fullAssetsAdgroup.getIn(a);return a?a.toArray():[]};a.prototype.$9=function(){var a=new i();a=a.getTipProps();var c=a.category,d=a.header,e=a.messageID;a=a.textData;return b("React").createElement("div",{className:"_3-98"},b("React").createElement(b("AdsIntelligentInlineNux.react"),{ccCardProps:{category:c,header:d,textData:a},messageGroup:b("AdsIntelligentComponentsMessageGroupEnum").CREATION_AND_EDITING_L1,messageID:e}))};a.prototype.$10=function(){__p&&__p();var a=b("AdsAssetFeedUtils").hasSingleVideoFormat(this.props.fullAssetsAdgroup),c=b("AdsAssetFeedUtils").hasSingleImageFormat(this.props.fullAssetsAdgroup),d=b("AdsAssetFeedUtils").hasAutomaticFormat(this.props.fullAssetsAdgroup),e=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);if(a)return b("React").createElement(j,{label:b("AdsCreativeFieldLabels").get(b("ApiAdCreativeFields").VIDEO_ID)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.props.videoAssets,mode:"video-asset",onSelectAssetAtIndex:this.$6}));if(c||e)return b("React").createElement(j,{label:b("AdsCreativeFieldLabels").get(b("ApiAdCreativeFields").IMAGE_HASH)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.props.imageAssets,mode:"image-asset",onSelectAssetAtIndex:this.$4}));if(d){c=this.props.imageAssets.map(function(a,b){return{value:a,index:b}});e=this.props.videoAssets.map(function(a,b){return{value:a,index:b}});return b("React").createElement(j,{isDisabled:a,label:b("AdsDCOFieldsLabels").AUTOMATIC_FORMAT_LABEL},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:c.concat(e),mode:"automatic-asset",onSelectAssetAtIndex:this.$7}))}return null};a.prototype.render=function(){var a=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);a=a?this.$9():null;var c=b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(this.props.fullAssetsAdgroup);return b("React").createElement("div",null,a,b("React").createElement(j,{label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").MESSAGE)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$8(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.BODIES),fieldName:b("AdsAPIAdAssetFeedBodiesFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$1})),this.$10(),b("React").createElement(j,{isDisabled:!c,label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").NAME)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$8(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TITLES),fieldName:b("AdsAPIAdAssetFeedTitlesFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$5})),b("React").createElement(j,{isDisabled:this.props.objective===b("AdsAPIObjectives").APP_INSTALLS||!c,label:b("AdsLinkDescriptionUtils").getLabel(b("AdsLinkDescriptionTypes").NEWS_FEED)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$8(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.DESCRIPTIONS),fieldName:b("AdsAPIAdAssetFeedDescriptionsFields").TEXT,mode:"text-asset",onSelectAssetAtIndex:this.$3})),b("React").createElement(j,{isDisabled:!c,label:b("AdsObjectStorySpecFieldLabels").get(b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION).get(b("ApiCallToActionFields").TYPE)},b("React").createElement(b("AdsAssetDropdownPicker.react"),{assets:this.$8(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.CALL_TO_ACTION_TYPES),mode:"cta-asset",onSelectAssetAtIndex:this.$2})))};e.exports=a}),null);
__d("AdsDCOPreviewDialog.react",["cx","fbt","AdsAPIAdgroupPaths","AdsAssetFeedUtils","AdsDCOPreviewAssetSelectionPanel.react","AdsDCOPreviewPanelContainer.react","AdsDCOPreviewUtils","AdsDynamicCreativeOptimizationLoggerEvents","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsModalBodyNoPadding.react","AdsTestIDs","LayerFadeOnHide","React","SUIBusinessThemeContainer.react","SUIModal.react","SUIModalCloseButton.react","SUIModalFillViewportHeight","SUIModalFooter.react","SUIModalHeader.react","areEqual"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=864;function k(a){return b("React").createElement("div",{className:"_4edn"},b("React").createElement(b("AdsDCOPreviewPanelContainer.react"),{adgroup:a.adgroup.toJS()}))}function l(a){return b("React").createElement("div",{className:"_4edo"},b("React").createElement(b("AdsDCOPreviewAssetSelectionPanel.react"),{fullAssetsAdgroup:a.fullAssetsAdgroup,imageAssets:a.imageAssets,objective:a.objective,videoAssets:a.videoAssets,onSelectAssetbyPathAtIndex:a.onSelectAssetbyPathAtIndex}))}c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={singleAssetAdgroup:b("AdsDCOPreviewUtils").getDefaultSingleAssetAdgroup(this.props.fullAssetsAdgroup),fullCarouselAssetAdgroup:this.props.fullAssetsAdgroup},this.$2=function(a,c){var d=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);if(!d)this.setState(function(d){d=b("AdsDCOPreviewUtils").updateSingleAssetAdgroupField(this.props.fullAssetsAdgroup,this.$1(a)?b("AdsDCOPreviewUtils").removeMediaAssetFromAdgroup(d.singleAssetAdgroup):d.singleAssetAdgroup,c,a);return{singleAssetAdgroup:d}}.bind(this));else{d=b("AdsDCOPreviewUtils").updateFullCarouselAssetAdgroupField(this.props.fullAssetsAdgroup,this.state.fullCarouselAssetAdgroup,c,a);this.setState({fullCarouselAssetAdgroup:d})}b("AdsInterfacesLogger").log({eventName:b("AdsDynamicCreativeOptimizationLoggerEvents").CLICK_ASSET_DROPDOWNS,eventCategory:b("AdsInterfacesLogEvents").EventCategory.USER_ACTION})}.bind(this),c}a.prototype.$1=function(a){return b("areEqual")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES)||b("areEqual")(a,b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS)};a.prototype.render=function(){var a=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.fullAssetsAdgroup);return b("React").createElement(b("SUIBusinessThemeContainer.react"),null,b("React").createElement(b("SUIModal.react"),{behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),SUIModalFillViewportHeight:b("SUIModalFillViewportHeight")},footer:b("React").createElement(b("SUIModalFooter.react"),{primaryButton:b("React").createElement(b("SUIModalCloseButton.react"),{onClick:this.props.onHide})}),header:b("React").createElement(b("SUIModalHeader.react"),{title:h._("Preview ad variations")}),isShown:!0,width:j,onHide:this.props.onHide},b("React").createElement(b("AdsModalBodyNoPadding.react"),null,b("React").createElement("div",{className:"_4edp","data-testid":b("AdsTestIDs").PREVIEW_DCO_VARIATIONS},b("React").createElement(l,{fullAssetsAdgroup:this.props.fullAssetsAdgroup,imageAssets:this.props.imageAssets,objective:this.props.objective,videoAssets:this.props.videoAssets,onSelectAssetbyPathAtIndex:this.$2}),b("React").createElement(k,{adgroup:a?this.state.fullCarouselAssetAdgroup:this.state.singleAssetAdgroup})))))};e.exports=a}),null);
__d("AdsAssetSelectorsUtils",["invariant","AdsImageIDClasses","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageIDClasses").AdsImageID,i=b("immutable").Map;a={compactMap:function(a){var c=b("immutable").Map().asMutable();a.forEach(function(a,b){a!=null&&c.set(b,a)});return c},getImageID:function(a,b,c){if(b!=null)return h.fromAcountAndHash(a,b);else if(c!=null)return h.fromExternalURL(c);return null},fromAdsLegacyImageToImageAsset:function(a){var b=a.getAdAccountHash();a=a.getUrl();if(b!=null&&b!=="")return i({hash:b});a!=null&&a!==""||g(0,1494);return i({url:a})}};e.exports=a}),null);
__d("AdsImageAssetSelectors",["invariant","AdsAssetSelectorsUtils","AdsImageDimensionProviderStore","AdsImageIDClasses","AdsImageInfoStore","AdsShutterstockImageByIDStore","AdsUEditorAdgroupBulkSelectors","AdsUnifiedCreativeAPIFields","LoadObject","ShutterstockImageUtils","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsImageIDClasses").AdsAccountImageID,i=b("AdsImageIDClasses").AdsExternalImageID;function j(a,b,c){if(!b.hasValue())return null;b=b.getValueEnforcing();var d=b.width;b=b.height;c=c!=null?{stockImageID:c,thumbHeight:b,thumbWidth:d,previewUrl:a,previewHeight:b,previewWidth:d}:null;return babelHelpers["extends"]({},c,{format:"image",hash:null,name:null,url:a,width:d,height:b})}function k(a,b,c){return!b.hasValue()?null:{format:"image",hash:a,name:c.hasValue()?c.getValueEnforcing():null,url:b.getValueEnforcing().get("url"),width:b.getValueEnforcing().get("width"),height:b.getValueEnforcing().get("height"),stockImageID:null,isSphericalPhoto:b.getValueEnforcing().get("isSphericalPhoto")}}a=b("adsCreateStoreSelector")([],function(a){return a.assetImageIDs},e.id+".imageAssetIDsSelector");c=b("adsCreateSelector")([a],function(a){return a?Array.from(a.values()):[]},{name:e.id+".imageAssetImageIDSelector"});d=b("adsCreateStoreSelector")([b("AdsShutterstockImageByIDStore")],function(a){if(a instanceof i){a=a.getUrl();if(b("ShutterstockImageUtils").isStockImageURL(a)){a=b("ShutterstockImageUtils").urlToID(a);return b("AdsShutterstockImageByIDStore").get(a)}}return null},e.id+".shutterstockImageSelector");f=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getFullSize(a)},e.id+".fullSizeImageSelector");var l=b("adsCreateStoreSelector")([b("AdsImageInfoStore")],function(a){return b("AdsImageInfoStore").getName(a)},e.id+".imageNameSelector"),m=b("adsCreateStoreSelector")([b("AdsImageDimensionProviderStore")],function(a){if(a instanceof i){a=a.getUrl();if(!b("ShutterstockImageUtils").isStockImageURL(a))return b("AdsImageDimensionProviderStore").getState().get(a)}return null},e.id+".imageDimensionsSelector"),n=b("adsCreateMapSelector")(c,d,e.id+".shutterstockImageMapSelector");d=b("adsCreateMapSelector")(c,f,e.id+".fullSizeImageMapSelector");f=b("adsCreateMapSelector")(c,l,e.id+".imageNameMapSelector");l=b("adsCreateMapSelector")(c,m,e.id+".imageDimensionsMapSelector");function o(a){return!!a&&(a.isLoading()||a.isEmpty())}c=b("adsCreateStoreSelector")([].concat(n.getStores(),[b("AdsImageDimensionProviderStore")]),function(a){__p&&__p();var c=n(a);if(c.some(o))return b("LoadObject").loading();var d=b("immutable").Map().asMutable();for(var a=a.assetImageIDs.values(),e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=a.length)break;g=a[f++]}else{f=a.next();if(f.done)break;g=f.value}g=g;var h=c.get(g);!h?d.set(g,null):d.set(g,b("AdsImageDimensionProviderStore").getState().get(h.getValueEnforcing().preview_url))}return b("LoadObject").withValue(d.asImmutable())},e.id+".shutterstockImageDimensionsMapSelector");m=b("adsCreateSelector")([a,d,f,l,n,c],function(a,c,d,e,f,l){__p&&__p();if(a==null||a.isEmpty())return b("LoadObject").withValue(null);if(l.isLoading())return b("LoadObject").loading();var m=l.getValueEnforcing();if(c.some(function(a){return a.isLoading()})||d.some(function(a){return a.isLoading()})||e.some(o)||f.some(o)||m.some(o))return b("LoadObject").loading();l=a.map(function(a){__p&&__p();if(a instanceof h){var l=a.getHash(),n=c.get(a),o=d.get(a);return k(l,n,o)}else if(a instanceof i){l=a.getUrl();n=e.get(a);o=null;if(b("ShutterstockImageUtils").isStockImageURL(l)){var p=f.get(a);p||g(0,3113);p=p.getValueEnforcing();l=p.preview_url;n=m.get(a);o=p.id}n!=null||g(0,3114);return j(l,n,o)}else return null});return b("LoadObject").withValue(b("AdsAssetSelectorsUtils").compactMap(l))},{name:e.id+".imageAssetsSelector"});d=b("AdsUEditorAdgroupBulkSelectors").selectorByCreativeField(b("AdsUnifiedCreativeAPIFields").imageHash);e.exports={assetFeedBulkImageHashSelector:d,imageAssetsSelector:m,imageAssetIDsSelector:a}}),null);
__d("AdsUEditorAdgroupImageDCOAssetSelectors",["invariant","AdsAccountStore","AdsAPIAdAssetFeedImagesFields","AdsAssetFeedFieldUtils","AdsAssetSelectorsUtils","AdsImageAssetSelectors","adsCreateSelector","adsCreateStoreSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("AdsImageAssetSelectors").imageAssetsSelector;var h=10;function i(a,c){var d=b("immutable").Map();c!=null&&(d=b("immutable").Map(c.map(function(c,d){return[""+d,b("AdsAssetSelectorsUtils").getImageID(a,b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").HASH),b("AdsAssetFeedFieldUtils").getAssetFieldStringValue(c,b("AdsAPIAdAssetFeedImagesFields").URL))]})));return b("AdsAssetSelectorsUtils").compactMap(d)}function j(a,c){__p&&__p();if(!a||!c)return b("immutable").Map();c.size===a.size||g(0,4026);return c.map(function(c,d){c.format==="image"||g(0,4027);d=parseInt(d,10);d>=0&&d<=h||g(0,4028);a||g(0,4029);d=a.get(d);d=b("AdsAssetFeedFieldUtils").getImageAssetCrops(d);return babelHelpers["extends"]({},c,{crops:d?d.toJS():d})})}var k=b("adsCreateSelector")([a],function(a){return a.map(function(a){if(!a)return b("immutable").Map();var c={};a.forEach(function(a,b){a.format==="image"&&(c[b]=a)});return b("immutable").Map(c)})},{name:e.id+".dcoImageAssetsSelector"});c=b("adsCreateStoreSelector")([].concat(b("AdsAccountStore").getSelectedAccount_LEGACY.getStores(),k.getStores()),function(a){var c=b("AdsAccountStore").getSelectedAccount_LEGACY();c=k({assetImageIDs:i(c.account_id,a)});return c.map(function(b){return j(a,b)})},e.id+".adsUEditorAdgroupDCOImageAssetByIndexSelector");e.exports={adsUEditorAdgroupDCOImageAssetByIndexSelector:c}}),null);
__d("AdsDCOPreviewDialogContainer.react",["invariant","AdsAdgroupCombinedStore","AdsAdgroupDerivedPaths","AdsAdgroupDerivedStore","AdsAPIAdgroupPaths","AdsAssetFeedVideoAssetsUtils","AdsDCOPreviewDialog.react","AdsFluxContainer","AdsSelectorUtils","AdsUEditorAdgroupImageDCOAssetSelectors","AdsUEditorContextType","AdsVideoStore","LoadingDialog.react","LoadObject","React","adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("AdsUEditorAdgroupImageDCOAssetSelectors").adsUEditorAdgroupDCOImageAssetByIndexSelector,j={mode:"loading"};function k(a){return a.valueSeq().toArray()}h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.getStores=function(a){return[b("AdsAdgroupCombinedStore"),b("AdsAdgroupDerivedStore"),b("AdsVideoStore")].concat(b("AdsSelectorUtils").getStores([i]))};a.getImageAssets=function(a){a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES);a=i(a);return a.isLoading()?b("LoadObject").loading():b("LoadObject").withValue(k(a.getValueEnforcing()))};a.getVideoAssets=function(a){__p&&__p();a=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS);var c=b("AdsAssetFeedVideoAssetsUtils").getVideoAssetIDs(a);a=b("AdsAssetFeedVideoAssetsUtils").getVideoAssetsSelect(c,b("immutable").Map(b("AdsVideoStore").getAll(c)),b("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailUrlMap(a),b("AdsAssetFeedVideoAssetsUtils").getVideoCaptionIDsMap(a));if(a.isLoading())return b("LoadObject").loading();if(a.isEmpty())return b("LoadObject").withValue([]);var d=a.getValueEnforcing();a=c.reduce(function(a,b,c){a[c]=d.get(b);return a},{});c=k(b("immutable").Map(a));return b("LoadObject").withValue(c)};a.calculateState=function(a,c,d){__p&&__p();a=d.adgroupEditorContext;c=!1;d=null;var e=null,f=null,h=null;a=b("adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector")(a);if(!a.isDone())c=!0;else{a=a.getValueEnforcing();a!=null&&a.length===1||g(0,1989);d=a[0].adgroup;e=a[0].campaignGroup;a=this.getImageAssets(d);a.isLoading()?c=!0:f=a.getValueEnforcing();a=this.getVideoAssets(d);a.isLoading()?c=!0:h=a.getValueEnforcing()}if(c)return j;else{a=b("getByPath")(e,b("AdsAdgroupDerivedPaths").OBJECTIVE);d!=null&&h!=null&&f!=null&&a!=null||g(0,4140);return{adgroup:d,imageAssets:f,mode:"shown",objective:a,videoAssets:h}}};a.prototype.render=function(){return this.state.mode==="loading"?b("React").createElement(b("LoadingDialog.react"),null):b("React").createElement(b("AdsDCOPreviewDialog.react"),{fullAssetsAdgroup:this.state.adgroup,imageAssets:this.state.imageAssets,objective:this.state.objective,videoAssets:this.state.videoAssets,onHide:this.props.onHide})};function a(){h.apply(this,arguments)}a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id+".exports"})}),null);
__d("AdsPreviewTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({AUTO_CAROUSEL:null,DYNAMIC_LOCAL_ADS:null,DYNAMIC_LOCAL_ADS_WITH_PRODUCT:null,DYNAMIC_PRODUCT:null,STANDARD:null});e.exports=a}),null);
__d("AdsPreviewV2Utils",["AdsAdgroupImageMutators","AdsAPIAdgroupPaths","AdsAPIAdgroupRecordUtils","AdsAPICampaignGroupRecordUtils","AdsAPICampaignPaths","AdsAPICampaignRecordUtils","AdsAPIObjectives","AdsAppUtils","AdsAssetFeedUtils","AdsCampaignUtils","AdsDynamicPreviewItemTypes","AdsLocalUtils","AdsPlacementEligibilityInfoUtils","AdsPlacementPluginList","AdsPreviewsPlugins","AdsPreviewTypes","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUnifiedCreativeAPIFields","ApiAdCreativeFields","ApiAdCreativeStorySpecFields","ApiObjectStorySpecFormatOption","ApiObjectStorySpecLinkFields","FBJSON","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("ApiAdCreativeFields").OBJECT_STORY_SPEC,h=b("ApiAdCreativeFields").PRODUCT_SET_ID,i=b("ApiAdCreativeStorySpecFields").TEMPLATE_DATA,j=b("ApiObjectStorySpecLinkFields").FORMAT_OPTION,k="NEW_ADGROUP_ID";function a(a){return a.includes(k)}function l(a,c,d,e){__p&&__p();d=b("AdsAPICampaignRecordUtils").getPromotedObjectType(c,d);var f=b("AdsPreviewTypes").STANDARD;if(!c)return m(b("AdsPreviewTypes").STANDARD);var k=b("getByPath")(a,[g,i,j]);switch(c){case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:if(k===b("ApiObjectStorySpecFormatOption").COLLECTION_VIDEO)break;f=b("getByPath")(a,[g,i])?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;break;case b("AdsAPIObjectives").APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").CONVERSIONS:case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").LEAD_GENERATION:if(c===b("AdsAPIObjectives").APP_INSTALLS&&!b("AdsAppUtils").isMobileAppInstall(c,d)||k===b("ApiObjectStorySpecFormatOption").COLLECTION_VIDEO)break;d=b("getByPath")(a,[g,i]);f=d&&!b("AdsAssetFeedUtils").isCreativeWithAssetFeed(a)?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;break;case b("AdsLocalUtils").isLocalObjectiveSwitch(c):if(e==null||e===""){f=b("AdsPreviewTypes").STANDARD;break}k=a[h];f=k?b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS;break}return m(f)}function m(a){switch(a){case b("AdsPreviewTypes").STANDARD:return b("AdsDynamicPreviewItemTypes").NONE;case b("AdsPreviewTypes").AUTO_CAROUSEL:return b("AdsDynamicPreviewItemTypes").AUTO_CAROUSEL;case b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS:return b("AdsDynamicPreviewItemTypes").LOCATION;case b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:return b("AdsDynamicPreviewItemTypes").LOCATION_AND_PRODUCT;case b("AdsPreviewTypes").DYNAMIC_PRODUCT:return b("AdsDynamicPreviewItemTypes").PRODUCT;default:return b("AdsDynamicPreviewItemTypes").NONE}}function n(a,c,d){a=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaignGroup:a,campaign:c,adGroup:d});return d!=null?["MESSAGE_PAGE","GET_DIRECTIONS"].includes(b("AdsAPIAdgroupRecordUtils").getCallToActionType(d,a)):!1}function c(a,c,d,e,f,g){__p&&__p();g===void 0&&(g=!1);if(a==null||e==null||c==null||d==null)return null;var h=d.buying_type,i=c.getIn(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);h=b("AdsPlacementEligibilityInfoUtils").buildEligibilityInformationFromCampaignSpec(c,h,a,e,[],i);a=b("immutable").Set();g&&f!=null&&b("AdsAssetFeedUtils").isPACAdgroupFromSpec(f)&&b("AdsAssetFeedUtils").hasTargetRules(f)?a=b("AdsPlacementPluginList").getFilteredPositions(h,f.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.TARGET_RULES)):a=b("AdsPlacementPluginList").getPositions(h);e=b("AdsPlacementEligibilityInfoUtils").getPreviewsFromPositions(h,a).toJS();i=b("AdsPreviewsPlugins").keys(e).getList();return n(d,c,f)?b("immutable").OrderedMap(i.filter(function(a){return!(a.apiFormat==="AUDIENCE_NETWORK_INSTREAM_VIDEO")}).map(function(a){return[a.apiFormat,a]})):b("immutable").OrderedMap(i.map(function(a){return[a.apiFormat,a]}))}function o(a){return a===b("AdsAPIObjectives").STORE_VISITS}function d(a,c,d){return d.creative?l(d.creative.toJS(),b("AdsAPICampaignGroupRecordUtils").getObjective(a),c,b("AdsAPICampaignGroupRecordUtils").getPromotedObjectPageID(a)):b("AdsDynamicPreviewItemTypes").NONE}function f(a,c,d){a=b("AdsAPICampaignGroupRecordUtils").getObjective(a);if(!o(a))return void 0;a=b("AdsCampaignUtils").getPlacePageSetID(c);c=b("AdsCampaignUtils").getTargetingApiSpec(c);return a!=null&&a!==""?d(b("FBJSON").stringify({targeting:c,placePageSetID:a})):void 0}function p(a,c,d){__p&&__p();d=d;a=b("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin({campaignGroup:a,campaign:c,cleanedAdgroup:d});c=b("AdsUnifiedCreativeAPIFields").pageWelcomeMessage.getPath(d,a);c&&(d=d.deleteIn(c));c=!!((a=d.creative)==null?void 0:a.object_story_spec);c&&(d=d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID));d=b("AdsAdgroupImageMutators").removeRedundantImageURL(d);c=!!((a=d.creative)==null?void 0:a.asset_feed_spec);d=c?d.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID):d;return d}e.exports={shouldDisableAudienceNetworkInstreamVideo:n,getDynamicPreviewItemTypeForPreviewType:m,getDynamicPreviewItemTypeFromAdgroupSpec:l,getDynamicPreviewItemTypeFromAdObjects:d,getPlacePageIDs:f,getPreviewPlugins:c,isAdBeingCreated:a,needsPlacePageID:o,cleanAdgroupForPreview:p}}),null);
__d("AdsDCOPreviewPanelContainer.react",["invariant","AdsAccountStore","AdsAdgroupPreviewsV2Container.react","AdsAssetFeedUtils","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsDynamicPreviewItemTypes","AdsFluxContainer","AdsPreviewV2Utils","AdsUEditorContextType","FDSSpinner.react","React","adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=618,j=524,k={mode:"loading"};h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.getStores=function(a){return[b("AdsAccountStore"),b("AdsCampaignCombinedStore"),b("AdsCampaignGroupCombinedStore")]};a.calculateState=function(a,c,d){__p&&__p();a=d.adgroupEditorContext;c=b("AdsAccountStore").getSelectedAccount_LEGACY();d=c.capabilities;c=c.account_id;a=b("adsUEditorAdObjectsLoadObjectForSelectedAdgroupsSelector")(a);if(!a.isDone())return k;a=a.getValueEnforcing();a!=null&&a.length===1||g(0,1989);var e=a[0].campaign;a=a[0].campaignGroup;return{accountCapabilities:d,accountID:c,campaign:e,campaignGroup:a,mode:"shown",objective:a.objective}};a.prototype.render=function(){var a=this.state;if(a.mode==="loading")return b("React").createElement(b("FDSSpinner.react"),{size:"small"});var c=b("AdsPreviewV2Utils").getPreviewPlugins(a.accountCapabilities,a.campaign,a.campaignGroup,a.objective)||b("immutable").OrderedMap(),d=b("AdsAssetFeedUtils").hasCarouselFormat(this.props.adgroup);c={adgroupIndex:-1,adgroupSpec:this.props.adgroup,dynamicPreviewItemType:b("AdsDynamicPreviewItemTypes").NONE,campaign:a.campaign,objective:a.objective,previewPlugins:c,shouldRenderExternalLinksSection:!1,shouldRenderPreviewByID:!1,useDCOPreviewEntry:!1,isDCOPreviewWithFixedIndex:d};return b("React").createElement(b("AdsAdgroupPreviewsV2Container.react"),{accountCapabilities:a.accountCapabilities,accountID:a.accountID,customContainerHeight:i,dynamicPreviewItemType:b("AdsDynamicPreviewItemTypes").NONE,previewSpec:c,width:j})};function a(){h.apply(this,arguments)}a.contextTypes=b("AdsUEditorContextType").adgroup;e.exports=b("AdsFluxContainer").create(a,{withProps:!0,withContext:!0,name:e.id+".exports"})}),null);
__d("AdsPreviewTypeUtils",["AdsAdgroupDerivedPaths","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsBulkValueUtils","AdsChildAttachmentsUtils","AdsEmptyValue","AdsLocalUtils","AdsPreviewTypes","AdsUniformValue","AdsWebsiteAdUtils","getBulkByPath","getByPath"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={fromAdgroupSpec:function(a,c){__p&&__p();var d;c=b("AdsBulkValueUtils").cleanBulkSpec(c);var e=b("getByPath")(a,b("AdsAdgroupDerivedPaths").OBJECTIVE);if(b("AdsWebsiteAdUtils").isWebsiteObjective(e)&&g._isStaticAndDynamicCarousel(c))return b("AdsPreviewTypes").AUTO_CAROUSEL;switch(e){case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return b("AdsPreviewTypes").DYNAMIC_PRODUCT;case b("AdsAPIObjectives").APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:d=c==null?void 0:(d=c.creative)==null?void 0:(d=d.object_story_spec)==null?void 0:d.template_data;return d?b("AdsPreviewTypes").DYNAMIC_PRODUCT:b("AdsPreviewTypes").STANDARD;case b("AdsLocalUtils").isLocalObjectiveSwitch(e):d=b("getByPath")(a,b("AdsAdgroupDerivedPaths").L3_PROMOTED_PAGE_ID);if(!d)return b("AdsPreviewTypes").STANDARD;e=b("getBulkByPath")(c,b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID);return e&&!(e instanceof b("AdsEmptyValue"))?b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS_WITH_PRODUCT:b("AdsPreviewTypes").DYNAMIC_LOCAL_ADS;default:return b("AdsPreviewTypes").STANDARD}},_isStaticAndDynamicCarousel:function(a){a=b("getBulkByPath")(a,b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.TEMPLATE_DATA.CHILD_ATTACHMENTS);return!(a instanceof b("AdsUniformValue"))?!1:b("AdsChildAttachmentsUtils").isStaticAndDynamicCarouselChildAttachments(a.getValue())}};e.exports=g}),null);
__d("AdsAdgroupSharedPreviewsV2.react",["AdsAdgroupPreviewsV2.react","AdsAPICampaignGroupPaths","AdsAPICampaignRecordUtils","AdsPreviewsV2Constants","AdsPreviewTypeUtils","AdsPreviewV2Utils","React","emptyFunction","getByPath","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(a){g.constructor.call(this,a);this.$2=function(a,b,c,d){b!==this.state.formatIndex&&this.setState({formatIndex:b})}.bind(this);var c=a.pluginResolver.resolve({accountType:a.accountType,objective:a.objective,promotedObjectType:b("AdsAPICampaignRecordUtils").getPromotedObjectType(a.objective,a.campaign)}),d=b("AdsPreviewV2Utils").getPreviewPlugins(a.adAccountSpec.capabilities,a.campaign,a.campaignGroup,a.objective)||b("immutable").OrderedMap();a=this.$1(a.campaignGroup);this.state={adgroupDerivedSpec:a,adgroupSpecPathPlugin:c,formatIndex:0,previewPlugins:d}}a.prototype.render=function(){var a=b("AdsPreviewTypeUtils").fromAdgroupSpec(this.state.adgroupDerivedSpec,this.props.adgroupSpec);a=b("AdsPreviewV2Utils").getDynamicPreviewItemTypeForPreviewType(a);a={adgroupIndex:0,adgroupSpec:this.props.adgroupSpec,campaign:this.props.campaign,dynamicPreviewItemType:a,isShared:!0,objective:this.props.objective,previewPlugins:this.state.previewPlugins,shouldRenderPreviewByID:!0};return b("React").createElement(b("AdsAdgroupPreviewsV2.react"),{accountCapabilities:this.props.adgroupSpec.capabilities,accountID:this.props.accountID,adgroupSpecPathPlugin:this.state.adgroupSpecPathPlugin,customContainerHeight:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_HEIGHT-b("AdsPreviewsV2Constants").HEADER_HEIGHT,formatIndex:this.state.formatIndex,previewParent:this.props.previewParent,previewSpec:a,renderAlternatePreview:b("emptyFunction"),setPreviewFormatsForAdgroup:b("emptyFunction"),shouldRenderDesktopExLinks:!1,shouldRenderMobileExLinks:!1,width:b("AdsPreviewsV2Constants").DEFAULT_PREVIEWS_WIDTH,onAdFormatIndexChange:this.$2})};a.prototype.$1=function(a){var c=b("getByPath")(a,b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID);a=a.objective;return{l3PromotedPageID:c,objective:a}};e.exports=a}),null);
__d("AdsSharedPreviewV2Bootstrapper",["AdsAdgroupSharedPreviewsV2.react","AdsAdgroupSpecPathPluginResolver","AdsAPICampaignGroupRecord","AdsAPICampaignRecord","ReactRenderer"],(function(a,b,c,d,e,f){"use strict";a={init:function(a,c){var d=new(b("AdsAPICampaignRecord"))(a.campaignSpec),e=new(b("AdsAPICampaignGroupRecord"))(a.campaignGroupSpec);d={accountID:a.accountID,accountType:a.accountType,adAccountSpec:a.adAccountSpec,adgroupSpec:a.adgroupSpec,campaign:d,campaignGroup:e,objective:a.objective,pluginResolver:b("AdsAdgroupSpecPathPluginResolver"),previewParent:"AdsSharedPreviewV2Bootstrapper"};b("ReactRenderer").constructAndRenderComponentAcrossTransitions(b("AdsAdgroupSharedPreviewsV2.react"),d,c)}};e.exports=a}),null);