(window.webpackJsonp=window.webpackJsonp||[]).push([["Frontpage~ModListing~ModQueuePages~ModerationPages~Multireddit~News~OriginalContent~ProfilePage~Sear~084298d5"],{"./src/reddit/components/ClassicPost/index.tsx":function(e,t,o){"use strict";var s=o("./node_modules/react/index.js"),r=o.n(s),n=o("./bundled-modules/styled-components/styled-components.min.js"),i=o.n(n),d=o("./src/config.ts"),a=o("./src/lib/getShortenedLink.ts"),c=o("./node_modules/polished/dist/polished.es.js"),l=o("./src/reddit/components/AdLinkWrapper/index.tsx"),p=o("./src/reddit/components/CallToActionButton/index.tsx"),m=o("./src/reddit/components/Flatlist/index.tsx"),h=o("./src/reddit/components/JSAPIContainers/index.tsx"),u=o("./src/reddit/components/PostOverflowMenu/index.tsx"),f=o("./src/reddit/components/CompactPost/HorizontalVotes.tsx"),x=o("./src/reddit/components/ExpandoButton/index.tsx"),g=o("./src/reddit/components/LargePost/index.tsx"),y=o("./src/reddit/components/ModModeReports/index.tsx"),b=o("./src/reddit/components/ModModeReports/helpers.ts"),v=o("./src/reddit/components/PostBackgroundWrapper/index.tsx"),w=o("./src/reddit/components/PostContainer/index.tsx"),C=o("./src/reddit/components/PostMedia/index.tsx"),O=o("./src/reddit/components/PostMeta/index.tsx"),P=o("./src/reddit/components/PostTitle/index.tsx"),S=o("./src/reddit/components/PostTopMeta/index.tsx"),I=o("./src/reddit/controls/OutboundLink/styled.tsx"),j=o("./src/reddit/models/Media/index.ts"),k=o("./src/reddit/components/ClassicPost/Thumbnail.tsx"),E=o("./node_modules/react-redux/es/index.js"),M=o("./node_modules/reselect/lib/index.js"),T=o("./src/app/actions/tooltip.ts"),L=o("./src/reddit/actions/post.ts"),R=o("./src/reddit/models/Vote/index.ts"),N=o("./src/reddit/contexts/InsideOverlay.tsx"),F=o("./src/reddit/contexts/PageLayer/index.tsx"),A=o("./src/reddit/selectors/activeModalId.ts"),$=o("./src/reddit/selectors/experiments/subscribeText.ts"),V=o("./src/reddit/selectors/moderatorPermissions.ts"),_=o("./src/reddit/selectors/monthsToMinutes.ts"),B=o("./src/reddit/selectors/posts.ts"),W=o("./src/reddit/selectors/user.ts");const z={autoplayPref:W.b,activeModalId:A.a,crosspost:B.c,currentUser:W.j,inlineSubscribeIsEnabled:$.a,isActive:B.f,isExpanded:B.h,isFrontpageHome:_.i,isMeta:(e,{postId:t})=>Object(B.m)(e,t),language:W.J,moderatorPermissions:V.f,modModeEnabled:F.M,newsStory:()=>null,post:B.C,poll:(e,t)=>{const o=e.posts.metaMap[t.postId];return o?e.polls.models[o]:null},showMedia:F.r,subredditOrProfile:B.N,userIsOp:W.X,flairStyleTemplate:F.O},U=(e,{postId:t})=>({handleVote:o=>{const s=o===R.a.upvoted?Object(L.G)(t):Object(L.m)(t);e(s)},onIgnoreReports:()=>e(Object(L.E)(t)),onOpenReportsDropdown:t=>e(Object(T.e)({tooltipId:t}))}),D=(e,t,o)=>Object.assign({},e,t,o,{formatTitle:e=>e.title}),K=Object(E.connect)(()=>Object(M.createStructuredSelector)(z),U,D);var H=o("./src/reddit/selectors/news.ts");const J=Object(F.t)(),G=Object.assign({},z,{newsStory:H.q}),Q=Object(E.connect)(()=>Object(M.createStructuredSelector)(G),U,D);var X,Y=o("./src/lib/LRUCache/index.ts"),q=(X="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,s){var r=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===n)t.children=s;else if(n>1){for(var d=Array(n),a=0;a<n;a++)d[a]=arguments[a+3];t.children=d}return{$$typeof:X,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}});const Z=Object(F.t)({searchQuery:F.S}),ee=new Y.a(250),te=Object(E.connect)(()=>Object(M.createStructuredSelector)(z),U,(e,t,o)=>Object.assign({},e,t,o,{formatTitle:(e=>{const t=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return e=>{const o=`${e.id}-${t}`;let s=ee.get(o);if(void 0===s){const n=new RegExp(`(\\b${t}\\b)`,"gi"),i=e.title.split(n);for(let e=1;e<i.length;e+=2)i[e]=q("em",{style:{fontWeight:700}},void 0,i[e]);s=q("span",{style:{fontWeight:"normal"}},void 0,r.a.Children.toArray(i)),ee.set(o,s)}return s}})(o.searchQuery||"")}));var oe=o("./src/reddit/helpers/hasModFlairPermissions/index.ts"),se=o("./src/reddit/helpers/hasModPostPermissions/index.ts"),re=o("./src/reddit/helpers/styles/mixins/index.tsx"),ne=o("./src/reddit/helpers/styles/mixins/responsive.ts"),ie=o("./src/reddit/models/Theme/NewColorSystem/index.ts"),de=o("./src/reddit/components/ClassicPost/index.m.less"),ae=o.n(de);o.d(t,"a",function(){return ge}),o.d(t,"b",function(){return ye});var ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},le=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,s,r){var n=t&&t.defaultProps,i=arguments.length-3;if(o||0===i||(o={}),o&&n)for(var d in n)void 0===o[d]&&(o[d]=n[d]);else o||(o=n||{});if(1===i)o.children=r;else if(i>1){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+3];o.children=a}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:o,_owner:null}}}();const pe=16,me=i()(l.a).withConfig({componentId:"yti28v-0"})(["margin-right: -8px;margin-bottom: 8px;"]),he=i()(f.a).withConfig({componentId:"yti28v-1"})(["max-height: 24px;",""],ne.a);const ue=(e,t,o)=>o?e.crosspostRootId?le("div",{className:ae.a.crosspostMediaWrapper},void 0,fe(e,t)):fe(e,t):null,fe=(e,t)=>le(C.a,{isExpando:!0,isListing:!0,isNotCardView:!0,scrollerItemRef:t,shouldLoad:!0,shouldPause:!1,showFull:!0,showCentered:!0,post:e}),xe=i()(class extends r.a.Component{componentDidUpdate(e){this.props.onSizeChanged&&e.isExpanded!==this.props.isExpanded&&this.props.onSizeChanged(this.props.post.id)}render(){var e=this.props;const t=e.className,o=e.currentUser,s=e.handleVote,n=e.isExpanded,i=e.isMeta,c=e.inSubredditOrProfile,l=e.inlineSubscribeIsEnabled,f=e.isCheckboxSelected,C=e.isFrontpage,E=e.isFrontpageHome,M=e.isOverlay,T=e.language,L=e.moderatorPermissions,R=e.eventFactory,N=e.flairStyleTemplate,F=e.formatTitle,A=e.modModeEnabled,$=e.newsStory,V=e.onClickPost,_=e.onIgnoreReports,B=e.onOpenReportsDropdown,W=e.poll,z=e.post,U=e.scrollerItemRef,D=e.subredditOrProfile,K=e.showBulkActionCheckbox,H=e.showMedia,J=e.toggleCheckbox,G=e.userIsOp,Q=this.props.crosspost||void 0,X=Object(se.a)(L),Y=Object(oe.a)(L),q=A&&se.a,Z=!!z.media&&z.media.type===j.m.RTJSON,ee="subreddit"===z.belongsTo.type,te=G&&Z,re=G&&!!ee,ne=c&&!H,ie={flairStyleTemplate:N,post:z,inSubredditOrProfile:c,shouldShowSubscribeButton:l&&!(C&&E),subredditOrProfile:D,showOCCategories:!0,newsStory:$,language:T};return le(w.a,{className:t,post:z,onClick:V,eventFactory:R},void 0,Object(g.b)(z,s,K,f,J,N),le(v.b,{flairStyleTemplate:N},void 0,le("div",{className:ae.a.mainBody},void 0,le("div",{className:ne?ae.a.expandoContainer:ae.a.thumbnailContainer},void 0,!ne&&le(k.b,{className:ae.a.classicThumbnail,crosspost:Q&&z,isMeta:i,post:Q||z,url:$&&$.thumbnailUrl&&z&&z.thumbnail&&"default"===z.thumbnail.url?$.thumbnailUrl:"",templatePlaceholderImage:N&&N.postPlaceholderImage}),le(x.a,{crosspost:Q,className:ae.a.rightExpando,isExpanded:!!n,post:z,useMediaIcons:!1})),le("div",{className:ae.a.content,"data-click-id":"body",style:{paddingBottom:`${pe}px`}},void 0,le(P.c,{className:W?ae.a.titleWithPoll:void 0,format:F,poll:W,post:z,size:P.b.Medium,titleColor:N&&N.postTitleColor,disableFlair:!!$&&!!$.topic&&!!$.subtopic,isOverlay:M},void 0,z.source&&!Q&&le(I.a,{href:z.source.url,isSponsored:z.isSponsored,source:z.source},void 0,Object(a.a)(z))),r.a.createElement(O.a,ce({key:"PostMeta"},ie)),A&&X&&Object(b.c)(z)&&le(y.a,{language:T,onIgnoreReports:_,reportable:z}),le("div",{className:ae.a.spacer}),z.source&&z.source.url&&z.isSponsored&&le(me,{},void 0,le(I.a,{href:z.source.url.replace(d.a.redditUrl,""),isSponsored:z.isSponsored,source:z.source},void 0,z.source.displayText),z.callToAction&&le(p.a,{href:z.source.url.replace(d.a.redditUrl,""),isSponsored:z.isSponsored,source:z.source},void 0,z.callToAction)),le("div",{className:ae.a.flatlistContainer},void 0,le(x.a,{className:ae.a.leftExpando,crosspost:Q,isExpanded:!!n,post:z,useMediaIcons:!1}),le(he,{compact:!1,flairStyleTemplate:N,model:z,onVoteClick:s}),le(m.a,{className:ae.a.flatlistSeparator}),le(m.c,{className:ae.a.flatlist,currentUser:o,hasModFlairPerms:Y,hasModPostPerms:X,isOverlay:!!M,language:T,modModeEnabled:A,onIgnoreReports:_,onOpenReportsDropdown:B,post:z,showEditPost:te,showEditFlair:re,tooltipType:M?S.c.Lightbox:void 0,useFlatlistBreakpoints:Object(u.h)({editPost:!q,save:!q,hide:!q,report:!q})})),le(h.d,{postId:z.id}))),ue(z,U,n)))}}).withConfig({componentId:"yti28v-2"})(["."," {background: ",";}","","","","","","","",";cursor: pointer;"],ae.a.classicThumbnail,e=>Object(c.e)(Object(ie.c)(e).bodyText,.03),k.a,re.h,re.f,m.e,m.d,O.b,v.a,e=>Object(re.j)(e.flairStyleTemplate)),ge=(e=>J(Q(Object(N.b)(e))))(xe),ye=(e=>Z(te(e)))(xe);t.c=(e=>K(Object(N.b)(e)))(xe)},"./src/reddit/components/CompactPost/index.m.less":function(e,t,o){e.exports={responsiveMeta:"_1xomvNxK4aHGoGa-YDw1Mc",compactWrapper:"YA9IzN0YR-G5_oD5EUydl",compactPostRow:"WnMeTcero48dKo501T-19",leftRailWrapper:"_3YgWdffoKyCp7UaGAEQpoo",proposalMetaData:"_1_B8IWlNlt5jJVg4cKy7nL"}},"./src/reddit/components/CompactPost/index.tsx":function(e,t,o){"use strict";var s,r=o("./node_modules/react/index.js"),n=o.n(r),i=o("./node_modules/react-redux/es/index.js"),d=(o("./node_modules/react-router-dom/es/index.js"),o("./node_modules/reselect/lib/index.js")),a=o("./bundled-modules/styled-components/styled-components.min.js"),c=o.n(a),l=o("./src/config.ts"),p=o("./src/lib/eventTools/index.ts"),m=o("./src/reddit/components/TrackingHelper/index.tsx"),h=o("./src/reddit/constants/postLayout.ts"),u=o("./src/reddit/constants/screenWidths.ts"),f=o("./src/reddit/helpers/hasModPostPermissions/index.ts"),x=o("./src/reddit/helpers/showReportIndicator/index.ts"),g=o("./src/reddit/helpers/styles/components/index.tsx"),y=o("./src/reddit/helpers/styles/mixins/index.tsx"),b=o("./src/reddit/helpers/trackers/post.ts"),v=o("./src/reddit/models/Media/index.ts"),w=o("./src/reddit/models/Theme/NewColorSystem/index.ts"),C=o("./src/reddit/models/User/index.ts"),O=o("./src/reddit/models/Vote/index.ts"),P=o("./src/app/actions/tooltip.ts"),S=o("./src/reddit/actions/post.ts"),I=o("./src/reddit/actions/postFlair.ts"),j=o("./src/reddit/selectors/activeModalId.ts"),k=o("./src/reddit/selectors/moderatorPermissions.ts"),E=o("./src/reddit/selectors/posts.ts"),M=o("./src/reddit/selectors/user.ts"),T=o("./src/reddit/components/AdLinkWrapper/index.tsx"),L=o("./src/reddit/components/AwardBadges/index.tsx"),R=o("./src/reddit/components/CallToActionButton/index.tsx"),N=o("./src/reddit/components/CommentsLink/index.tsx"),F=o("./src/reddit/components/CompactPost/HorizontalVotes.tsx"),A=o("./src/reddit/components/ExpandoButton/index.tsx"),$=o("./src/reddit/components/Flatlist/index.tsx"),V=o("./src/reddit/components/JSAPIContainers/index.tsx"),_=o("./src/reddit/components/ModActionsMenu/index.tsx"),B=o("./src/reddit/components/ModModeReports/index.tsx"),W=o("./src/reddit/components/ModModeReports/helpers.ts"),z=o("./src/reddit/components/ModToolsFlatlist/index.tsx"),U=o("./src/reddit/components/ModToolsFlatlist/getModItemBreakpoints.ts"),D=o("./src/reddit/components/PostBackgroundWrapper/index.tsx"),K=o("./src/reddit/components/PostBadges/index.tsx"),H=o("./src/reddit/components/PostContainer/index.tsx"),J=o("./src/reddit/components/PostEventFollow/index.tsx"),G=o("./src/reddit/components/PostEventMeta/index.tsx"),Q=o("./src/reddit/components/PostFlairPicker/index.tsx"),X=o("./src/reddit/components/PostLeftRail/index.tsx"),Y=o("./src/reddit/components/PostMedia/index.tsx"),q=o("./src/reddit/components/PostModModeDropdown/index.tsx"),Z=o("./src/reddit/components/PostOverflowMenu/index.tsx"),ee=o("./src/reddit/components/PostTitle/index.tsx"),te=o("./src/reddit/components/PostTopMeta/index.tsx"),oe=o("./src/reddit/components/RestrictedFlatlistButton/index.tsx"),se=o("./src/reddit/components/SponsoredLabel/index.tsx"),re=o("./src/reddit/components/SubredditIcon/index.tsx"),ne=o("./src/reddit/components/VerticalVotes/index.tsx"),ie=o("./src/reddit/components/ViewReportsDropdown/index.tsx"),de=o("./src/reddit/contexts/InsideOverlay.tsx"),ae=o("./src/reddit/contexts/PageLayer/index.tsx"),ce=o("./src/reddit/controls/Checkbox/index.tsx"),le=o("./src/reddit/controls/MetaData/index.tsx"),pe=o("./src/reddit/controls/OutboundLink/styled.tsx"),me=o("./src/reddit/helpers/hasModFlairPermissions/index.ts"),he=o("./src/reddit/helpers/styles/mixins/responsive.ts"),ue=o("./src/reddit/icons/fonts/IgnoreReport/index.tsx"),fe=o("./src/reddit/icons/fonts/Report/index.tsx"),xe=o("./src/reddit/components/CompactPost/index.m.less"),ge=o.n(xe),ye=(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,r){var n=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&n)for(var d in n)void 0===t[d]&&(t[d]=n[d]);else t||(t=n||{});if(1===i)t.children=r;else if(i>1){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}return{$$typeof:s,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}),be=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(o[s[r]]=e[s[r]])}return o};const ve=c()(T.a).withConfig({componentId:"jy0xlf-0"})(["padding-left: 32px;"]),we=c()(D.b).withConfig({componentId:"jy0xlf-1"})(["border-left: 1px solid ",";flex: 1 1 auto;padding: 3px 0;@media (max-width: ","px) {padding-left: 8px;}"],e=>Object(w.c)(e).line,u.h-1),Ce=c()(ne.a).withConfig({componentId:"jy0xlf-2"})(["align-items: flex-start;",""],he.a),Oe=c()(F.a).withConfig({componentId:"jy0xlf-3"})(["",""],he.b),Pe=c()(Object(g.a)()).withConfig({componentId:"jy0xlf-4"})(["box-sizing: border-box;flex: 1;border-left: 4px solid ",";flex: 0 0 36px;"],X.c),Se=c()(ce.a).withConfig({componentId:"jy0xlf-5"})(["padding: 4px;"]),Ie=c()(e=>{e.isCompact;var t=be(e,["isCompact"]);return n.a.createElement(A.a,t)}).withConfig({componentId:"jy0xlf-6"})(["","flex: 0 0 24px;margin: 0 8px;"],e=>e.isCompact?he.a:he.b),je=(c()(re.b).withConfig({componentId:"jy0xlf-7"})(["width: 20px;height: 20px;margin: 2px 12px 0 4px;"]),c.a.div.withConfig({componentId:"jy0xlf-8"})(["flex: 1 1 100%;margin-top: 2px;overflow: hidden;word-wrap: break-word;"])),ke=c()(te.d).withConfig({componentId:"jy0xlf-9"})(["display: inline-block;vertical-align: middle;",""],he.b),Ee=c()(K.a).withConfig({componentId:"jy0xlf-10"})(["display: inline-block;vertical-align: middle;"]),Me=c.a.div.withConfig({componentId:"jy0xlf-11"})(["align-items: center;display: flex;flex: 0 0 72px;flex-direction: row;justify-content: flex-end;height: 24px;margin-left: 4px;padding-right: 4px;@media (max-width: ","px) {flex: 0 0 auto;flex-direction: column;height: 100%;}"],u.h-1),Te=c()(z.a).withConfig({componentId:"jy0xlf-12"})(["@media (max-width: ","px) {display: none;}"],U.a),Le=c()(N.b).withConfig({componentId:"jy0xlf-13"})(["","width: 53px;"],he.b),Re=c()(J.a).withConfig({componentId:"jy0xlf-14"})(["","text-align: left;width: 53px;"],he.b),Ne=c()(D.b).withConfig({componentId:"jy0xlf-15"})(["height: 100%;position: relative;"]),Fe=c.a.div.withConfig({componentId:"jy0xlf-16"})(["padding-top: 8px;margin-bottom: 8px;"]),Ae=Object(i.connect)(()=>Object(d.createStructuredSelector)({activeModalId:j.a,crosspost:E.c,currentUser:M.j,flairStyleTemplate:ae.O,isActive:E.f,isExpanded:E.h,language:M.J,layout:ae.K,moderatorPermissions:k.f,modModeEnabled:ae.M,poll:(e,t)=>{const o=e.posts.metaMap[t.postId];return o?e.polls.models[o]:null},post:E.C,subredditOrProfile:E.N,userIsOp:M.X}),(e,{postId:t})=>({dispatchFlairChanged:({post:t,previewFlair:o,selectedTemplateId:s})=>e(Object(I.h)({post:t,previewFlair:o,selectedTemplateId:s})),handleVote:o=>{const s=o===O.a.upvoted?Object(S.G)(t):Object(S.m)(t);e(s)},onIgnoreReports:()=>e(Object(S.E)(t)),onOpenReportsDropdown:t=>e(Object(P.e)({tooltipId:t}))}),(e,t,o)=>Object.assign({},o,e,t,{onFlairChanged:({previewFlair:o,selectedTemplateId:s})=>t.dispatchFlairChanged({post:e.post,previewFlair:o,selectedTemplateId:s})}));const $e=e=>ye(Ne,{flairStyleTemplate:e.flairStyleTemplate},void 0,e.post.crosspostRootId?ye(Fe,{},void 0,Ve(e.post,e.scrollerItemRef)):Ve(e.post,e.scrollerItemRef)),Ve=(e,t)=>ye(Y.a,{isExpando:!0,isListing:!0,isNotCardView:!0,scrollerItemRef:t,shouldLoad:!0,shouldPause:!1,showFull:!0,showCentered:!0,post:e}),_e=(e,t,o,s)=>ye(Ie,{crosspost:t,isCompact:s,isExpanded:o,post:e,useMediaIcons:!0}),Be=(e,t,o)=>ye("div",{className:ge.a.responsiveMeta},void 0,Object(le.d)(e.score,e.scoreHidden,o),ye(le.b,{}),Object(le.c)(e.numComments,o),ye(le.b,{}),t&&ye("a",{href:t.url},void 0,ye(le.a,{},void 0,t.displayText)),e.isSponsored&&[ye(se.a,{},"label"),ye(le.b,{},"separator")],!e.isSponsored&&ye(le.a,{},void 0," Posted by "),ye(te.b,{post:e,canAccessRedesignProfiles:!1}));t.a=Ae(c()(Object(m.b)(Object(de.b)(class extends n.a.Component{componentDidUpdate(e){this.props.onSizeChanged&&e.isExpanded!==this.props.isExpanded&&this.props.onSizeChanged(this.props.post.id)}render(){var e=this.props;const t=e.activeModalId,o=e.className,s=e.currentProfileName,r=e.crosspost,i=e.currentUser,d=e.eventFactory,a=e.flairStyleTemplate,c=e.handleVote;var m=e.isCheckboxSelected;const u=void 0!==m&&m,g=e.isCommentsPage,y=e.isCommentPermalink,w=e.isExpanded,O=e.isOriginalPage,P=e.isOverlay,S=e.isProfilePostListing;var I=e.inSubredditOrProfile;const j=void 0!==I&&I,k=e.language,E=e.layout,M=e.moderatorPermissions,T=e.modModeEnabled,N=e.onClickPost,F=e.onFlairChanged,A=e.onIgnoreReports,z=e.poll,U=e.post,D=e.subredditOrProfile,K=e.userIsOp,J=e.hideModTools,X=e.scrollerItemRef,Y=e.showBulkActionCheckbox,te=e.toggleCheckbox,se=e.tooltipType,re=e.sendEvent,ne=U.eventInfo,de=ne&&Object(p.c)(ne.eventStart,ne.eventEnd),ae=!!U.media&&U.media.type===v.m.RTJSON,ce="subreddit"===U.belongsTo.type,he=K&&ae,xe=K&&!!ce,be=Object(Q.b)(U.id),Ie=Object(f.a)(M),Ne=Object(me.a)(M),Fe=`-mod-actions-menu-${U.id}`,Ae=!!i&&Object(C.e)(i)===U.author,Ve=Object(W.c)(U),We=Object($.g)("View--Reports",U.id,se),ze=Object(W.a)(U),Ue=e=>re(Object(b.d)(U.id,e));return ye(H.a,{className:o,post:U,onClick:N,eventFactory:d},void 0,ye("div",{className:ge.a.compactWrapper},void 0,ye("div",{className:ge.a.leftRailWrapper},void 0,ye(Pe,{isRemoved:!!U.bannedBy,isReported:Object(x.a)(U),isSponsored:U.isSponsored},void 0,Y&&ye(Se,{isCheckboxSelected:u,toggleCheckbox:te}),ye(Ce,{compact:!0,flairStyleTemplate:a,model:U,onVoteClick:c}),ye(Oe,{compact:!1,flairStyleTemplate:a,model:U,onVoteClick:c}))),ye(we,{flairStyleTemplate:a},void 0,ye("div",{className:ge.a.compactPostRow},void 0,!J&&_e(U,r,w,!1),!j&&!U.isSponsored&&ye(V.h,{type:U.belongsTo.type,id:U.belongsTo.id}),ye(je,{"data-click-id":"body"},void 0,ye(ee.c,{post:U,poll:z,size:ee.b.Small,titleColor:a&&a.postTitleColor,isOverlay:!1}),Object(G.b)(U)&&ye(n.a.Fragment,{},void 0,ye(G.a,{language:k,post:U}),ye(le.b,{})),Be(U,D,k),ye(ke,{flairStyleTemplate:a,language:k,post:U,showOCCategories:O,showSub:!!D&&!j&&!U.isSponsored,subredditOrProfile:D}),ye(Ee,{displayText:D?D.displayText:null,inSubredditOrProfile:j,language:k,post:U}),ye(L.a,{tooltipType:se,thing:U})),ye(Me,{},void 0,de&&ye(Re,{compact:!0,language:k,post:U}),!de&&ye(Le,{hasModPostPerms:Ie,isCommentsPage:g,isCommentPermalink:y,isOverlay:P,postId:U.id,modModeEnabled:T,numComments:U.numComments,type:h.e.Compact}),ye(Te,{isOverlay:!1,language:k,layout:E,modModeEnabled:T,post:U,sendEvent:re,showIconsOnly:!0}),Ie&&ye(_.a,{dropdownId:Fe,onClick:()=>Ue("post_mod_action_menu")},void 0,ye($.b,{}),ye(q.a,{hasModFlairPerms:Ne,hasModPostPerms:Ie,isOverlay:!1,isPostAuthor:Ae,language:k,modModeEnabled:T,post:U,tooltipId:Fe})),Ie&&Ve&&!T&&ye(oe.c,{text:`${ze}`,onClick:()=>{this.props.onOpenReportsDropdown(We),Ue("post_report_menu")},id:We},void 0,ye(ie.a,{isOverlay:!1,language:k,model:U,onIgnoreReports:()=>{A(),Ue(U.ignoreReports?"restore_reports":"ignore_reports")},tooltipId:We}),U.ignoreReports?ye(ue.a,{}):ye(fe.a,{})),ye(Z.g,{currentProfileName:s,isCommentsPage:g,isOverlay:!1,isProfilePostListing:S,layout:E,permalink:U.permalink,postId:U.postId,sendEvent:re,showEditPost:he,showEditFlair:xe,dropdownId:`${U.id}-overflow-menu`,useFlatlistBreakpoints:Object(Z.h)({share:!1,editPost:!1,save:!1,gild:!1,hide:!1,report:!1})}),!J&&_e(U,r,w,!0))),U.source&&U.source.url&&U.isSponsored&&ye(ve,{},void 0,ye(pe.a,{href:U.source.url.replace(l.a.redditUrl,""),isSponsored:U.isSponsored,source:U.source},void 0,U.source.displayText),U.callToAction&&ye(R.a,{href:U.source.url.replace(l.a.redditUrl,""),isSponsored:U.isSponsored,source:U.source,isNotCardView:!0},void 0,U.callToAction)),T&&Ie&&Ve&&ye("div",{className:ge.a.compactPostRow},void 0,ye(B.a,{language:k,onIgnoreReports:A,reportable:U})),ye(V.d,{postId:U.id}))),w&&ye($e,{post:U,scrollerItemRef:X,flairStyleTemplate:a}),t===be&&ye(Q.a,{flairs:U.flair,subredditId:U.belongsTo.id,language:k,modalId:be,onFlairChanged:F}))}}))).withConfig({componentId:"jy0xlf-17"})(["","","","","","","","",";max-width: 100%;"],y.i,y.f,$.h,te.e,K.b,D.a,N.a,e=>Object(y.j)(e.flairStyleTemplate)))},"./src/reddit/components/PostList/LoadMore.tsx":function(e,t,o){"use strict";var s=o("./bundled-modules/styled-components/styled-components.min.js"),r=o.n(s),n=o("./src/reddit/components/PostList/Placeholder.tsx");t.a=r()(n.a).withConfig({componentId:"rybpsf-0"})(["height: ","px;overflow: hidden;margin-bottom: -20px;"],156)},"./src/reddit/components/PostList/Placeholder.tsx":function(e,t,o){"use strict";var s,r=o("./node_modules/lodash/constant.js"),n=o.n(r),i=o("./node_modules/lodash/times.js"),d=o.n(i),a=o("./node_modules/react/index.js"),c=o.n(a),l=o("./node_modules/react-redux/es/index.js"),p=o("./node_modules/reselect/lib/index.js"),m=o("./src/lib/fastdom/index.ts"),h=o("./src/lib/intersectionObserver/index.ts"),u=o("./src/reddit/constants/postLayout.ts"),f=o("./bundled-modules/styled-components/styled-components.min.js"),x=o.n(f),g=o("./src/reddit/components/PostLeftRail/index.tsx"),y=o("./src/reddit/components/VerticalVotes/votes.tsx"),b=o("./src/reddit/contexts/PageLayer/index.tsx"),v=o("./src/reddit/constants/posts.ts"),w=o("./src/reddit/helpers/styles/components/index.tsx"),C=o("./src/reddit/helpers/styles/mixins/index.tsx"),O=o("./src/reddit/helpers/styles/mixins/loading.ts"),P=o("./src/reddit/models/Theme/NewColorSystem/index.ts"),S=o("./src/reddit/models/Vote/index.ts"),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},j=(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,r){var n=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&n)for(var d in n)void 0===t[d]&&(t[d]=n[d]);else t||(t=n||{});if(1===i)t.children=r;else if(i>1){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}return{$$typeof:s,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}),k=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(o[s[r]]=e[s[r]])}return o};const E=Object(b.t)(),M=Object(p.createStructuredSelector)({isFakeSubreddit:b.x}),T=Object(l.connect)(M),L=x.a.div.withConfig({componentId:"s11ntmk-0"})(["display: flex;margin: 8px 0;"]),R=x.a.div.withConfig({componentId:"s11ntmk-1"})(["display: flex;flex-direction: column;justify-content: space-between;margin-left: 8px;"]),N=x()(Object(w.a)()).withConfig({componentId:"s11ntmk-2"})(["","",""],O.b,O.c),F=x.a.div.withConfig({componentId:"s11ntmk-3"})(["","background: rgba(0, 0, 0, 0.15);height: 16px;margin: 1.5px 0 1.5px -8px;width: 16px;"],O.c),A=x()(e=>{const t={interactive:!1,voteState:S.a.notVoted};return j("div",{className:e.className},void 0,c.a.createElement(y.d,I({key:"u"},t)),j(F,{},"s"),c.a.createElement(y.c,I({key:"d"},t)))}).withConfig({componentId:"s11ntmk-4"})(["",""],C.y),$=x.a.div.withConfig({componentId:"s11ntmk-5"})(["","margin-left: 8px;"],Object(C.x)(v.c,v.d)),V=x()(N).withConfig({componentId:"s11ntmk-6"})(["","","position: relative;"],C.d,C.c),_=x()(N).withConfig({componentId:"s11ntmk-7"})(["height: 20px;width: 328px;"]),B=x()(N).withConfig({componentId:"s11ntmk-8"})(["height: 10px;margin-top: 8px;width: 88px;"]),W=x.a.div.withConfig({componentId:"s11ntmk-9"})(["align-items: center;display: flex;flex-direction: row;margin: auto 8px 0 0;"]),z=x()(N).withConfig({componentId:"s11ntmk-10"})(["height: 12px;width: 16px;"]),U=x.a.div.withConfig({componentId:"s11ntmk-11"})(["border-right: 1px solid ",";height: 16px;margin: 0 8px;vertical-align: middle;"],e=>Object(P.c)(e).line),D=x()(N).withConfig({componentId:"s11ntmk-12"})(["height: 12px;width: 110px;"]),K=x()(N).withConfig({componentId:"s11ntmk-13"})(["height: 12px;margin-left: 8px;width: 20px;"]);var H=x()(E(T(e=>{var t=e.className,o=k(e,["className"]);return j("div",{className:t},void 0,j(g.b,{},void 0,c.a.createElement(A,o)),j(L,{},void 0,j($,{},void 0,c.a.createElement(V,I({gradientType:"posts"},o))),j(R,{},void 0,j("div",{},"a",c.a.createElement(_,I({key:"aa",gradientType:"posts"},o)),c.a.createElement(B,I({key:"ab",gradientType:"posts"},o))),j(W,{},"f",c.a.createElement(z,I({key:"fa",gradientType:"posts"},o)),j(U,{},"fb"),c.a.createElement(D,I({key:"fc",gradientType:"posts"},o)),c.a.createElement(K,I({key:"fd",gradientType:"posts"},o))))))}))).withConfig({componentId:"s11ntmk-14"})(["","",""],C.h,C.g),J=o("./src/reddit/components/SubredditIcon/index.tsx"),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},Q=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,s,r){var n=t&&t.defaultProps,i=arguments.length-3;if(o||0===i||(o={}),o&&n)for(var d in n)void 0===o[d]&&(o[d]=n[d]);else o||(o=n||{});if(1===i)o.children=r;else if(i>1){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+3];o.children=a}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:o,_owner:null}}}(),X=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(o[s[r]]=e[s[r]])}return o};const Y=Object(b.t)(),q=Object(p.createStructuredSelector)({isFakeSubreddit:b.x}),Z=Object(l.connect)(q),ee=x.a.div.withConfig({componentId:"s18sguzx-0"})(["","background: rgba(0, 0, 0, 0.15);height: 16px;margin: 0 14px 0 4px;width: 16px;"],O.c),te=x()(e=>{const t={interactive:!1,voteState:S.a.notVoted};return Q("div",{className:e.className},void 0,c.a.createElement(y.d,G({key:"u"},t)),Q(ee,{},"s"),c.a.createElement(y.c,G({key:"d"},t)))}).withConfig({componentId:"s18sguzx-1"})(["","align-items: center;flex-direction: row;"],C.y),oe=x.a.div.withConfig({componentId:"s18sguzx-2"})(["align-items: flex-start;display: flex;flex-direction: row;padding: 3px 8px 3px 4px;"]),se=x.a.div.withConfig({componentId:"s18sguzx-3"})(["margin: 4px;margin-left: 14px;"]),re=x()(Object(w.a)()).withConfig({componentId:"s18sguzx-4"})(["","border-radius: 100%;height: 16px;width: 16px;"],O.b),ne=x.a.div.withConfig({componentId:"s18sguzx-5"})(["margin: 2px 12px 0 4px;"]),ie=x()(e=>Q(J.a,{className:e.className})).withConfig({componentId:"s18sguzx-6"})(["",""],O.b),de=x()(Object(w.a)()).withConfig({componentId:"s18sguzx-7"})(["","",""],O.b,O.c),ae=x.a.div.withConfig({componentId:"s18sguzx-8"})(["align-items: center;display: flex;flex: 1 1 100%;min-height: 24px;overflow: hidden;"]),ce=x()(de).withConfig({componentId:"s18sguzx-9"})(["height: 12px;margin-top: 2px;width: 160px;"]),le=x()(de).withConfig({componentId:"s18sguzx-10"})(["height: 12px;margin-left: 8px;margin-top: 2px;width: 256px;"]),pe=x()(de).withConfig({componentId:"s18sguzx-11"})(["height: 12px;margin-left: 8px;width: 52px;"]),me=x()(de).withConfig({componentId:"s18sguzx-12"})(["height: 12px;margin-left: 8px;width: 20px;"]),he=x()(e=>{var t=e.className,o=X(e,["className"]);return Q("div",{className:t},void 0,c.a.createElement(pe,G({key:"fc",gradientType:"posts"},o)),c.a.createElement(me,G({key:"fe",gradientType:"posts"},o)))}).withConfig({componentId:"s18sguzx-13"})(["align-items: center;display: flex;margin-left: auto;min-height: 24px;"]);var ue=x()(Y(Z(e=>{var t=e.className,o=X(e,["className"]);return Q("div",{className:t},void 0,Q(oe,{},void 0,c.a.createElement(te,G({key:"c"},o)),Q(se,{},"a",c.a.createElement(re,G({gradientType:"posts"},o))),Q(ne,{},"d",c.a.createElement(ie,G({gradientType:"posts"},o,{isLoading:!1}))),Q(ae,{},"e",c.a.createElement(ce,G({gradientType:"posts",key:"ea"},o)),c.a.createElement(le,G({gradientType:"posts",key:"eb"},o))),c.a.createElement(he,G({key:"f"},o))))}))).withConfig({componentId:"s18sguzx-14"})(["","",""],C.i,C.g),fe=o("./src/reddit/models/Media/index.ts"),xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},ge=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,s,r){var n=t&&t.defaultProps,i=arguments.length-3;if(o||0===i||(o={}),o&&n)for(var d in n)void 0===o[d]&&(o[d]=n[d]);else o||(o=n||{});if(1===i)o.children=r;else if(i>1){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+3];o.children=a}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:o,_owner:null}}}(),ye=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(o[s[r]]=e[s[r]])}return o};const be=Math.round(.67*fe.i),ve=Object(b.t)(),we=Object(p.createStructuredSelector)({isFakeSubreddit:b.x}),Ce=Object(l.connect)(we),Oe=x.a.div.withConfig({componentId:"s14x7kh8-0"})(["margin: 8px 0 0 40px;"]),Pe=x()(Object(w.a)()).withConfig({componentId:"s14x7kh8-1"})(["","",""],O.b,O.c),Se=x.a.div.withConfig({componentId:"s14x7kh8-2"})(["","background: rgba(0, 0, 0, 0.15);height: 16px;margin: 1.5px 0 1.5px -8px;width: 16px;"],O.c),Ie=x()(e=>{const t={interactive:!1,voteState:S.a.notVoted};return ge("div",{className:e.className},void 0,c.a.createElement(y.d,xe({key:"u"},t)),ge(Se,{},"s"),c.a.createElement(y.c,xe({key:"d"},t)))}).withConfig({componentId:"s14x7kh8-3"})(["",""],C.y),je=x()(e=>{e.gradientType,e.isLoading;var t=ye(e,["gradientType","isLoading"]);return c.a.createElement(J.b,t)}).withConfig({componentId:"s14x7kh8-4"})(["",""],O.b),ke=x.a.div.withConfig({componentId:"s14x7kh8-5"})(["align-items: center;display: flex;flex-direction: row;flex-wrap: nowrap;margin: 0 8px 8px 0;"]),Ee=x()(Pe).withConfig({componentId:"s14x7kh8-6"})(["height: 12px;width: 88px;"]),Me=x()(Pe).withConfig({componentId:"s14x7kh8-7"})(["height: 12px;margin-left: 8px;width: 232px;"]),Te=x()(Pe).withConfig({componentId:"s14x7kh8-8"})(["height: 20px;margin-top: 16px;width: 328px;"]),Le=x()(Object(w.a)()).withConfig({componentId:"s14x7kh8-9"})(["","height: ","px;margin: 8px 0 0 40px;width: 100%;"],O.b,be),Re=x.a.div.withConfig({componentId:"s14x7kh8-10"})(["align-items: center;display: flex;flex-direction: row;margin: 8px 8px 8px 0;"]),Ne=x()(Pe).withConfig({componentId:"s14x7kh8-11"})(["height: 16px;width: 110px;"]),Fe=x()(Pe).withConfig({componentId:"s14x7kh8-12"})(["height: 16px;margin-left: 8px;width: 20px;"]);var Ae=x()(ve(Ce(e=>{var t=e.className,o=(e.dispatch,e.pageLayer,ye(e,["className","dispatch","pageLayer"]));return ge("div",{className:t},void 0,ge(g.b,{},"a",c.a.createElement(Ie,o)),ge(Oe,{},"b",ge(ke,{},"ba",o.isFakeSubreddit&&ge(je,{gradientType:"posts",isLoading:!1},"baa"),c.a.createElement(Ee,xe({key:"bab",gradientType:"posts"},o)),c.a.createElement(Me,xe({key:"bac",gradientType:"posts"},o))),c.a.createElement(Te,xe({key:"bb",gradientType:"posts"},o))),c.a.createElement(Le,xe({key:"c",gradientType:"posts"},o)),ge(Oe,{},"d",ge(Re,{},void 0,c.a.createElement(Ne,xe({gradientType:"posts"},o)),c.a.createElement(Fe,xe({gradientType:"posts"},o)))))}))).withConfig({componentId:"s14x7kh8-13"})(["",""],C.b);const $e={[u.e.Large]:[Ae,2],[u.e.Classic]:[H,10],[u.e.Compact]:[ue,30]};var Ve=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,o,s,r){var n=t&&t.defaultProps,i=arguments.length-3;if(o||0===i||(o={}),o&&n)for(var d in n)void 0===o[d]&&(o[d]=n[d]);else o||(o=n||{});if(1===i)o.children=r;else if(i>1){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+3];o.children=a}return{$$typeof:e,type:t,key:void 0===s?null:""+s,ref:null,props:o,_owner:null}}}(),_e=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var o=[],s=!0,r=!1,n=void 0;try{for(var i,d=e[Symbol.iterator]();!(s=(i=d.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(a){r=!0,n=a}finally{try{!s&&d.return&&d.return()}finally{if(r)throw n}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const Be=.1,We=Object(p.createStructuredSelector)({loadingPostComponentForLayout:()=>(function(e){return $e[e]})}),ze=Object(l.connect)(We);t.a=ze(class extends c.a.Component{constructor(){super(...arguments),this.mounted=!1,this.state={visible:!1},this.setWrapperRef=(e=>{e!==this.wrapperRef&&(this.wrapperRef&&h.b(this.wrapperRef),e&&h.a(e,this.updateVisibleState)),this.wrapperRef=e}),this.updateVisibleState=(e=>{const t=e.intersectionRatio>=Be;m.a.write(()=>{this.mounted&&this.setState(e=>e.visible!==t?{visible:t}:null)})})}componentDidMount(){window.scrollTo(void 0,0),this.mounted=!0}componentWillUnmount(){this.mounted=!1,this.wrapperRef&&h.b(this.wrapperRef)}render(){var e=this.props;const t=e.className,o=e.countOverride,s=e.isLoading,r=e.layout,i=e.loadingPostComponentForLayout,a=this.state.visible;var l=i(r),p=_e(l,2);const m=p[0],h=p[1],u=o||h,f=n()(Ve(m,{isLoading:s&&a})),x=d()(u,f);return c.a.createElement("div",{className:t,ref:this.setWrapperRef},c.a.Children.toArray(x))}})},"./src/reddit/components/PostList/SomethingWrong.tsx":function(e,t,o){"use strict";o("./node_modules/react/index.js");var s,r=o("./src/app/helpers/describeApiError/index.ts"),n=o("./src/app/strings/index.ts"),i=o("./src/reddit/connectors/connectToLanguage.ts"),d=o("./src/reddit/controls/Button/index.tsx"),a=o("./src/reddit/components/PostList/index.m.less"),c=o.n(a),l=(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,r){var n=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&n)for(var d in n)void 0===t[d]&&(t[d]=n[d]);else t||(t=n||{});if(1===i)t.children=r;else if(i>1){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}return{$$typeof:s,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}});t.a=Object(i.a)(e=>{const t=e.language,o=e.onTryAgain,s=e.apiError;let i=Object(n.a)(t,"posts.somethingWentWrongWhileLoading");return s&&(i=Object(r.a)({apiError:s,language:t,isLoggedOut:!1})),l("div",{className:c.a.somethingWrong},void 0,l("div",{className:c.a.somethingWrongText},void 0,i),o&&l(d.d,{onClick:o},void 0,Object(n.a)(t,"posts.tryAgain")))})},"./src/reddit/components/PostList/index.m.less":function(e,t,o){e.exports={placeholder:"FohHGMokxXLkon1aacMoi",somethingWrong:"zfoxmi0VvZvMZu1rHVbMX",somethingWrongText:"Ii7DEkcMDxQHElTHeeaci",postList:"rpBJOHq2PR60pnwJlUyP0"}},"./src/reddit/components/PostList/index.tsx":function(e,t,o){"use strict";var s=o("./node_modules/lodash/debounce.js"),r=o.n(s),n=o("./node_modules/lodash/last.js"),i=o.n(n),d=o("./node_modules/react/index.js"),a=o.n(d),c=o("./node_modules/react-dom/index.js"),l=o("./src/lib/classNames/index.ts"),p=o("./src/lib/constants/index.ts"),m=o("./src/lib/opener/index.ts"),h=o("./src/lib/raven/index.ts"),u=o("./src/reddit/components/PostList/LoadMore.tsx"),f=o("./src/reddit/components/PostList/SomethingWrong.tsx"),x=o("./src/reddit/components/PromoBanners/index.tsx"),g=o("./src/reddit/components/Scroller/Simple.tsx"),y=o("./src/reddit/constants/adEvents.ts"),b=o("./src/reddit/constants/componentSizes.ts"),v=o("./src/reddit/constants/postLayout.ts"),w=o("./src/reddit/constants/promos.ts"),C=o("./src/reddit/helpers/pixels.ts"),O=o("./src/reddit/models/Media/index.ts"),P=o("./src/reddit/models/WhitelistStatus/index.ts");const S=(e,t)=>{const o=e.some(e=>e.isNSFW),s=t.some(e=>e.wls===P.a.NO_ADS);return!o&&!s};var I=o("./src/lib/LRUCache/index.ts"),j=o("./src/telemetry/index.ts"),k=o("./src/telemetry/models/Timer.ts"),E=o("./src/reddit/components/PostList/index.m.less"),M=o.n(E);o.d(t,"b",function(){return W}),o.d(t,"a",function(){return U});var T,L=(T="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,s){var r=e&&e.defaultProps,n=arguments.length-3;if(t||0===n||(t={}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===n)t.children=s;else if(n>1){for(var d=Array(n),a=0;a<n;a++)d[a]=arguments[a+3];t.children=d}return{$$typeof:T,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}}),R=function(e,t){var o={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(o[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&(o[s[r]]=e[s[r]])}return o};const N=500,F=new I.a(N),A=new I.a(N),$=new I.a(N),V={LARGE:1,MEDIUM:1,CLASSIC:3,COMPACT:5},_=(e,t,o,s,r,n)=>{const i=`entered-${e}-${t}-${o?`last-${s}-${r}`:""}`;let d=F.get(i);return void 0===d&&(d=(()=>{o&&n.onBottomViewed(s,r),n.trackOnPostEnteredViewport(e,t)}),F.set(i,d)),d},B=(e,t,o)=>{const s=`left-${e}-${t}`;let r=A.get(s);return void 0===r&&(r=(s=>{o.trackOnPostExitedViewport(e,t,s)}),A.set(s,r)),r},W=(e,t)=>{const o=`click-${e}`;let s=$.get(o);return void 0===s&&(s=((e,o)=>{const s=!(!e.metaKey&&!e.ctrlKey&&1!==e.button);o.isSponsored&&Object(C.a)(o.events,y.a.Click),o.isSponsored&&o.source&&o.source.outboundUrl?Object(m.b)(o.source.outboundUrl,m.a.BLANK):s?window.open(o.permalink):t.openLightbox(o)}),$.set(o,s)),s},z=(e,t)=>{if(e.isBlank)return 0;switch(t){case v.e.Medium:return 188;case v.e.Classic:return 96;case v.e.Compact:return 32;default:return 200}};class U extends a.a.Component{constructor(){super(...arguments),this.didRenderLastVisibleChild=!1,this.renderingEmpty=!1,this.renderingPlaceholder=!1,this.scrollChildCache=new I.a(N),this.updateScrollerRef=(e=>{const t=e&&Object(c.findDOMNode)(e);this.scrollerRef=t instanceof Element?t:void 0}),this.setLastVisibleChildRendered=(()=>{this.didRenderLastVisibleChild=!0,this.checkAndSendScreenview()}),this.onScrollPause=(e=>{this.showSubscribeTooltip(e),this.dispatchBrandSafety(e)}),this.showSubscribeTooltip=r()(({primaryChild:e})=>{e&&this.props.layout!==v.e.Compact&&this.props.showM2MTooltip(e.id,e.index,!!this.props.inSubredditOrProfile)},p.e),this.dispatchBrandSafety=r()(({getVisibleItemsInViewport:e})=>{var t=this.props;const o=t.postsById,s=t.subredditsById,r=e(),n=[];r.forEach(e=>n.push(e.id));const i=n.map(e=>o[e]),d=i.map(e=>s[e.belongsTo.id]).filter(e=>void 0!==e);this.props.adBrandSafetyStatusReceived(S(i,d))},p.e,{leading:!0})}componentWillMount(){this.timerId&&j.c.cancel(this.timerId),this.props.postIds.length&&(this.timerId=j.c.start())}componentDidMount(){if(this.checkAndSendScreenview(),this.timerId){const e=j.c.end(this.timerId);setTimeout(()=>Object(j.b)(p.o.Redesign,{type:"mount",component:"postList",duration:e}),0)}}componentWillUpdate(e){this.timerId&&j.c.cancel(this.timerId),e.postIds.length&&(this.timerId=j.c.start()),(e.listingKey!==this.props.listingKey||e.postIds.length!==this.props.postIds.length&&!this.isListLongEnough())&&(this.didRenderLastVisibleChild=!1)}componentDidUpdate(e){if(this.checkAndSendScreenview(),this.timerId&&j.c.has(this.timerId)){const e=j.c.end(this.timerId);if(e<10)return;setTimeout(()=>Object(j.b)(p.o.Redesign,{duration:e,type:"mount",component:"postList"}),0)}}componentWillUnmount(){this.timerId&&j.c.cancel(this.timerId),this.scrollerRef=null,this.didRenderLastVisibleChild=!1}isListLongEnough(){const e=this.scrollerRef&&Array.from(this.scrollerRef.children),t=e&&i()(e);return t&&t.getBoundingClientRect().bottom>window.innerHeight}shouldSendScreenview(){var e=this.props;const t=e.apiError,o=e.listingKey,s=e.viewportDataLoaded;return j.c.has(o)&&(t||!this.renderingPlaceholder&&(this.renderingEmpty||this.didRenderLastVisibleChild&&(s||this.isListLongEnough())))}checkAndSendScreenview(){var e=this.props;const t=e.listingKey,o=e.listingViewed,s=e.sendEvent;if(!this.shouldSendScreenview())return;const r=j.c.end(t);setTimeout(()=>{s(o(r,k.TimerType.InApp))},0)}showPlaceholder(){var e=this.props;const t=e.apiError,o=e.apiPending;return Boolean(t)||!1!==o}hasPosts(){return this.props.postIds.length>0}isLoadingMore(){var e=this.props;const t=e.loadMore,o=e.postIds;return Boolean(t&&t.token)&&o.length>0}shouldComponentUpdate(e){const t=this.props,o=t.postsById,s=R(t,["postsById"]),r=e.postsById,n=R(e,["postsById"]),i=Object.keys(s),d=Object.keys(n);if(d.length!==i.length)return!0;if(d.some(e=>s[e]!==n[e]))return!0;if(o===r)return!1;if(this.props.postIds&&this.props.postIds.length){var a=this.props;const e=a.layout,t=a.postComponentForLayout;return this.props.postIds.some((s,n)=>{const i=0===n;return t(o[s],e,i)!==t(r[s],e,i)})}return!1}scrollChildForPost(e,t,o,s){var r=this.props;const n=r.currentProfileName,i=r.isCommentPermalink,d=r.isCommentsPage,a=r.isFrontpage,c=r.isOriginalPage,l=r.isProfilePostListing,m=r.listingKey,u=r.listingName,f=r.pageLayer,x=r.postClickEvent,g=`post-${s}-${e}-${t}-${o?"last-index":""}-${u}-${m}`;let y;if(void 0===(y=this.scrollChildCache.get(g))){var b=this.props;const r=b.inSubredditOrProfile,w=b.postsById,C=w[e],P=C.crosspostRootId&&w[C.crosspostRootId]?w[C.crosspostRootId]:C;C.crosspostRootId&&!w[C.crosspostRootId]&&Object(h.c)(`Post ${C.id} is crosspost of ${C.crosspostRootId},\n          but ${C.crosspostRootId} details are missing in the state`,{extra:{errorType:p.s.API}});const S=this.props.postComponentForLayout(P,s,0===t),I=`post-list-item-[layout: ${s}]-[postId: ${e}]`,j=_(e,s,o,m,u,this.props),k=B(e,s,this.props),E=W(e,this.props),M=P.media&&P.media.type===O.m.EMBED?P.media.provider:null;y={estHeight:z(C,s),id:e,isFocusable:!(!P.media||s!==v.e.Large)&&(O.d.has(P.media.type)&&(!M||!O.p.has(M))&&!P.isSpoiler&&!P.isNSFW),trackOnEnteredViewport:j,trackOnExitedViewport:k,render:({className:t,height:s,width:p,remeasure:m,setScrollerChildRef:h,shouldLoadInitially:u})=>L(S,{className:t,currentProfileName:n,availableWidth:p,eventFactory:x,forceLoadMedia:u,inSubredditOrProfile:r,isCommentPermalink:i,isCommentsPage:d,isFrontpage:a,isProfilePostListing:l,pageLayer:f,isOriginalPage:c,last:o,onClickPost:E,onSizeChanged:m,postId:e,sendEvent:this.props.sendEvent,scrollerItemRef:h},I)},this.scrollChildCache.set(g,y)}return y}render(){return this.hasPosts()?(this.renderingEmpty=!1,this.renderingPlaceholder=!1,this.renderList()):this.showPlaceholder()?(this.renderingEmpty=!1,this.renderingPlaceholder=!0,this.renderPlaceholder()):(this.renderingEmpty=!0,this.renderingPlaceholder=!1,this.renderEmpty())}renderEmpty(){const e=this.props.noPostsComponent;return L(e,{})}renderPlaceholder(){var e=this.props;const t=e.apiError,o=e.className,s=e.layout,r=e.onTryAgain,n=e.postListPlaceholderComponent;return L("div",{className:M.a.placeholder},void 0,L(n,{className:o,isLoading:!t,layout:s}),!!t&&L(f.a,{apiError:t,onTryAgain:r}))}renderLoadMore(){var e=this.props;const t=e.apiError,o=e.apiPending,s=e.layout,r=e.onLoadMore;return L("div",{className:M.a.placeholder},void 0,L(u.a,{isLoading:!!o,layout:s,countOverride:V[s]}),!!t&&L(f.a,{apiError:t,onTryAgain:r}))}renderList(){var e=this.props;const t=e.disableBanner,o=e.layout,s=e.loadMore,r=e.postIds,n=e.onLoadMore,i=e.m2mIsEnabled,a=e.shouldShowPromo,c=r.map((e,t,s)=>{const n=t===r.length-1;return this.scrollChildForPost(e,t,n,o)}),p=this.props.measureScrollFPS?`post-listings-${o}`:void 0;return L(d.Fragment,{},void 0,!i&&a&&!t&&L(x.a,{location:w.h.SubredditPage}),L(g.b,{innerRef:this.updateScrollerRef,className:Object(l.a)(M.a.postList,this.props.className),dataKey:this.props.listingKey,disableScrollCache:!0,enableElementHiding:!0,layoutKey:this.props.layout,loadMoreToken:s&&s.token?s.token:void 0,onLastVisibleChildRendered:this.setLastVisibleChildRendered,onLoadMore:n,onScroll:this.onScrollPause,trackingName:p,viewportTopPadding:b.h},this.props.listingKey,c),this.isLoadingMore()&&this.renderLoadMore())}}U.defaultProps={shouldShowPromo:!0}},"./src/reddit/helpers/postComponentForLayout/index.tsx":function(e,t,o){"use strict";var s,r=o("./node_modules/react/index.js"),n=o.n(r),i=o("./src/lib/logs/console.ts"),d=o("./node_modules/react-redux/es/index.js"),a=o("./node_modules/reselect/lib/index.js"),c=o("./src/reddit/actions/post.ts"),l=o("./src/reddit/components/AdViewability/index.tsx"),p=o("./src/reddit/selectors/posts.ts"),m=o("./src/lib/classNames/index.ts"),h=(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,o,r){var n=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&n)for(var d in n)void 0===t[d]&&(t[d]=n[d]);else t||(t=n||{});if(1===i)t.children=r;else if(i>1){for(var a=Array(i),c=0;c<i;c++)a[c]=arguments[c+3];t.children=a}return{$$typeof:s,type:e,key:void 0===o?null:""+o,ref:null,props:t,_owner:null}});var u=Object(d.connect)(()=>Object(a.createStructuredSelector)({post:p.C}),e=>({onPostViewable:(t,o)=>e(Object(c.w)(t,o))}))(({className:e,post:t,onPostViewable:o})=>t.isSponsored?h(l.a,{onViewable:e=>o(t,e),children:h("div",{className:Object(m.a)(e,`Blank ${t.id}`)}),trackVideoMetrics:!1}):null),f=o("./src/reddit/components/ClassicPost/index.tsx"),x=o("./src/reddit/components/CompactPost/index.tsx"),g=o("./src/reddit/components/LargePost/index.tsx"),y=o("./src/reddit/components/MediumPost/index.tsx"),b=o("./src/reddit/constants/postLayout.ts"),v=o("./src/reddit/models/Media/index.ts");o.d(t,"a",function(){return C}),o.d(t,"b",function(){return P});const w={[b.e.Large]:g.a,[b.e.Medium]:y.b,[b.e.Classic]:f.c,[b.e.Compact]:x.a},C=e=>n.a.createElement(u,e),O=e=>!e.media||e.media.type===v.m.EMBED&&!(v.b.has(e.media.provider)||(e=>e.source&&e.source.url&&e.source.url.startsWith("https://player.wbur.org"))(e));function P(e,t,o){if(e.isBlank)return C;t===b.e.Large&&O(e)&&(t=b.e.Medium);const s=w[t];return void 0===s?(Object(i.a)(void 0,`Could not find component for layout ${t}.`),C):o&&e.isSponsored&&t===b.e.Large?y.b:s}}}]);
//# sourceMappingURL=Frontpage~ModListing~ModQueuePages~ModerationPages~Multireddit~News~OriginalContent~ProfilePage~Sear~084298d5.721a183cf940dcf75715.js.map