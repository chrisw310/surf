if (self.CavalryLogger) { CavalryLogger.start_js(["GYS4E"]); }

__d("AdsLocationMetaConstant",[],(function(a,b,c,d,e,f){"use strict";e.exports={AUDIENCE_HASMAX_PATH:["radiuses","audience","hasMax"],AUDIENCE_MAX_PATH:["radiuses","audience","max"],AUDIENCE_VALUE_PATH:["radiuses","audience","value"],AUDIENCE_IS_DEFAULT_PATH:["radiuses","audience","isDefault"],DISTANCE_VALUE_PATH:["radiuses","distance","value"],DISTANCE_IS_DEFAULT_PATH:["radiuses","distance","isDefault"],DISTANCE_UNIT_PATH:["distanceUnit"],NAME_PATH:["name"],SELECTED_RADIUS_TYPE_PATH:["selectedRadiusType"],SHOW_INELIGIBLE_LOCATIONS_PATH:["showIneligibleLocations"],AUDIENCE:"audience",DISTANCE:"distance",MARKETING_AREA:"marketing_area",UNKNOWN:"unknown",SUBFIELD_AUDIENCE:"audience",SUBFIELD_EXTRA_DATA:"extra_data",SUBFIELD_FIXED_RADIUS:"fixed_radius"}}),null);
__d("AdsPlacePageSet",["immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({ancestor_id:void 0,creation_time:void 0,id:void 0,label:void 0,metadata:void 0,name:void 0,pages_count:0,pages_selection:void 0,targeted_area_type:void 0,time_label:void 0});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsPlacePageSetPageSetsLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsPlacePageSetActionsType.PAGE_SETS_LOAD_ERROR");e.exports=a}),null);
__d("AdsPlacePageSetPageSetsLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsPlacePageSetActionsType.PAGE_SETS_LOAD_SUCCESS");e.exports=a}),null);
__d("AdsPlacePageSetActions",["AdsPlacePageSetPageSetsLoadErrorDataAction","AdsPlacePageSetPageSetsLoadSuccessDataAction"],(function(a,b,c,d,e,f){"use strict";a={pageSetsLoadSuccess:function(a,c){b("AdsPlacePageSetPageSetsLoadSuccessDataAction").dispatch({key:a,pageSets:c},{line:"23",module:"AdsPlacePageSetActions.js"})},pageSetsLoadError:function(a,c){b("AdsPlacePageSetPageSetsLoadErrorDataAction").dispatch({key:a,error:c},{line:"30",module:"AdsPlacePageSetActions.js"})}};e.exports=a}),null);
__d("XSVAsyncLocationsCheckerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/store_visits/locations_checker/",{page_ids:{type:"FBIDSet"},page_set_id:{type:"FBID"},root_page_id:{type:"FBID"}})}),null);
__d("promiseAsyncRequest",["AsyncRequest"],(function(a,b,c,d,e,f){"use strict";function a(a,c){var d=new(b("AsyncRequest"))();c!=null&&(c.method!=null&&d.setMethod(c.method),c.isReadOnly!=null&&d.setReadOnly(c.isReadOnly),c.data!=null&&d.setData(c.data),c.allowCrossOrigin!=null&&d.setAllowCrossOrigin(c.allowCrossOrigin));d.setURI(a);return d.exec()}e.exports=a}),null);
__d("AdsAsyncLocationsCheckerDataLoader",["FBLogger","XSVAsyncLocationsCheckerController","promiseAsyncRequest"],(function(a,b,c,d,e,f){"use strict";a={load:function(a){return b("promiseAsyncRequest")(b("XSVAsyncLocationsCheckerController").getURIBuilder().setFBIDSet("page_ids",a.page_ids.getValues()).setFBID("page_set_id",a.page_set_id).setFBID("root_page_id",a.root_page_id).getURI()).then(function(a){return a?a.payload:{}},function(a){b("FBLogger")("AdsAsyncLocationsCheckerDataLoader").warn("XSVAsyncLocationsCheckerController request failed: %s",a);return{}})}};e.exports=a}),null);
__d("AdsFlatPageSetLoadErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsFlatPageSetLoadError");e.exports=a}),null);
__d("AdsFlatPageSetLoadedAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsFlatPageSetLoadedAction");e.exports=a}),null);
__d("AdsLocationPageIDsAndRoot",["AdsEmptyValue","immutable"],(function(a,b,c,d,e,f){"use strict";var g;c=b("immutable").Record({page_ids:b("AdsEmptyValue").instance(),page_set_id:null,root_page_id:null});g=babelHelpers.inherits(a,c);g&&g.prototype;function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsPlacePageSetInfoPageSetsInfoLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsPlacePageSetInfoActionType.PAGE_SETS_LOAD_ERROR");e.exports=a}),null);
__d("AdsPlacePageSetInfoPageSetsInfoLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"AdsPlacePageSetInfoActionType.PAGE_SETS_LOAD_SUCCESS");e.exports=a}),null);
__d("AdsPlacePageSetInfoActions",["AdsPlacePageSetInfoPageSetsInfoLoadErrorDataAction","AdsPlacePageSetInfoPageSetsInfoLoadSuccessDataAction"],(function(a,b,c,d,e,f){"use strict";a={pageSetsInfoLoadSuccess:function(a,c){b("AdsPlacePageSetInfoPageSetsInfoLoadSuccessDataAction").dispatch({pageSetID:a,placePageSetInfo:c},{line:"21",module:"AdsPlacePageSetInfoActions.js"})},pageSetsInfoLoadError:function(a,c){b("AdsPlacePageSetInfoPageSetsInfoLoadErrorDataAction").dispatch({pageSetID:a,error:c},{line:"28",module:"AdsPlacePageSetInfoActions.js"})}};e.exports=a}),null);
__d("AdsPredefinedPlacePageSetLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PREDEFINED_PLACE_PAGE_SETS_LOAD_ERROR");e.exports=a}),null);
__d("AdsPredefinedPlacePageSetLoadSuccessDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PREDEFINED_PLACE_PAGE_SET_LOAD_SUCCESS");e.exports=a}),null);
__d("AdsPredefinedPlacePageSetLoadingDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PREDEFINED_PLACE_PAGE_SET_LOADING");e.exports=a}),null);
__d("GraphAdPlacePageSetPagesSelection",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOM:"custom",COUNTRY_DEFAULT:"country_default",OUTDATED_COUNTRY_DEFAULT:"outdated_country_default"})}),null);
__d("PageSetLocationsCheck",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IDENTICAL_COORDINATES:"identical_coordinates",INACTIVE:"inactive",LOCATIONS_TOO_CLOSE:"locations_too_close",NOT_IN_STRUCTURE:"not_in_structure",PERMANENTLY_CLOSED:"permanently_closed",STORE_VISITS_INELIGIBLE:"store_visits_ineligible",UNPUBLISHED:"locations_unpublished",VISIBLE_ONLY_IN_ADS:"visible_only_in_ads"})}),null);
__d("AdsPlacePageSetDataManager",["Promise","regeneratorRuntime","AdsAsyncLocationsCheckerDataLoader","AdsFlatPageSetLoadedAction","AdsFlatPageSetLoadErrorAction","AdsGraphAPI","AdsInterfacesLogEvents","AdsInterfacesLogger","AdsLocationMetaConstant","AdsLocationPageIDsAndRoot","AdsPlacePageSet","AdsPlacePageSetActions","AdsPlacePageSetInfoActions","AdsPredefinedPlacePageSetLoadErrorDataAction","AdsPredefinedPlacePageSetLoadingDataAction","AdsPredefinedPlacePageSetLoadSuccessDataAction","ApiAdPlacePageSetFields","DateTime","GraphAdPlacePageSetPagesSelection","GraphAPIFieldUtils","GraphEdgeName","PageSetLocationsCheck","Timezone","immutable","nullthrows","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedMap,h="flat pageset",i=[b("ApiAdPlacePageSetFields").CREATION_TIME,b("ApiAdPlacePageSetFields").ID,b("ApiAdPlacePageSetFields").LOCATION_TYPES,b("GraphAPIFieldUtils").getFieldWithSubfields(b("ApiAdPlacePageSetFields").METADATA,[b("AdsLocationMetaConstant").SUBFIELD_AUDIENCE,b("AdsLocationMetaConstant").SUBFIELD_FIXED_RADIUS,b("AdsLocationMetaConstant").SUBFIELD_EXTRA_DATA]),b("ApiAdPlacePageSetFields").NAME,b("ApiAdPlacePageSetFields").PAGES_COUNT,b("ApiAdPlacePageSetFields").PAGES_SELECTION,b("ApiAdPlacePageSetFields").TARGETED_AREA_TYPE];a.prototype.fetchPlacePageSetInfo=function(a){b("promiseDone")(b("AdsGraphAPI").get(e.id).object("ad_place_page_set",a).get({fields:[b("ApiAdPlacePageSetFields").TOTAL_PAGES_COUNT,b("ApiAdPlacePageSetFields").VISIBLE_ONLY_IN_ADS_PAGES_COUNT,b("ApiAdPlacePageSetFields").PARENT_PAGE]}),function(c){b("AdsPlacePageSetInfoActions").pageSetsInfoLoadSuccess(a,{count:c.total_pages_count,parent_page_id:c.parent_page.id,visible_only_in_ads_count:c.visible_only_in_ads_pages_count})},function(c){b("AdsPlacePageSetInfoActions").pageSetsInfoLoadError(a,new Error(c))})};a.prototype.fetchPageSetList=function(a){var c=a.pageSetID;b("promiseDone")(b("Promise").all([b("AdsGraphAPI").get(e.id).adaccount(a.accountID).edge(b("GraphEdgeName").AD_PLACE_PAGE_SETS).get({fields:i,limit:a.limit,min_pages_count:a.minPagesCount,page_id:a.pageID,pages_selection:a.pagesSelection,since:a.since}),c!=null?b("AdsGraphAPI").get(e.id).object("ad_place_page_set",c).get({fields:i})["catch"](function(){return null}):null]),function(c){var d=c[0];c=c[1];c=g([].concat(c!=null?[c]:[],d.data).map(function(a){return[a.id,new(b("AdsPlacePageSet"))(a)]})).toList();b("AdsPlacePageSetActions").pageSetsLoadSuccess(a,c)},function(c){b("AdsPlacePageSetActions").pageSetsLoadError(a,new Error(c))})};a.prototype.fetchDefaultPageSet=function(a,c){__p&&__p();var d,f,g,h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:d=b("GraphAdPlacePageSetPagesSelection").COUNTRY_DEFAULT;b("AdsPredefinedPlacePageSetLoadingDataAction").dispatch({accountID:a,pageID:c,pagesSelection:d},{line:"144",module:"AdsPlacePageSetDataManager.js"});i.prev=2;i.next=5;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).adaccount(a).edge(b("GraphEdgeName").AD_PLACE_PAGE_SETS).get({fields:[b("ApiAdPlacePageSetFields").ID],page_id:c,pages_selection:d}));case 5:f=i.sent;g=[].concat(f.data,[{id:null}]),h=g[0].id;h?b("AdsInterfacesLogger").log({eventName:"has_default_ad_place_page_set",eventCategory:b("AdsInterfacesLogEvents").EventCategory.CAMPAIGN_EDIT,data:{new_value:h}}):b("AdsInterfacesLogger").log({eventName:"no_default_ad_place_page_set_found",eventCategory:b("AdsInterfacesLogEvents").EventCategory.CAMPAIGN_EDIT});b("AdsPredefinedPlacePageSetLoadSuccessDataAction").dispatch({accountID:a,pageID:c,pageSetID:h,pagesSelection:d},{line:"177",module:"AdsPlacePageSetDataManager.js"});i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](2),b("AdsInterfacesLogger").log({eventName:"error_default_ad_place_page_set",eventCategory:b("AdsInterfacesLogEvents").EventCategory.CAMPAIGN_EDIT}),b("AdsPredefinedPlacePageSetLoadErrorDataAction").dispatch({accountID:a,error:i.t0,pageID:c,pagesSelection:d},{line:"188",module:"AdsPlacePageSetDataManager.js"});case 15:case"end":return i.stop()}},null,this,[[2,11]])};a.prototype.fetchMostRecentPageSet=function(a,c){__p&&__p();var d,f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){__p&&__p();while(1)switch(l.prev=l.next){case 0:d=b("GraphAdPlacePageSetPagesSelection").CUSTOM;b("AdsPredefinedPlacePageSetLoadingDataAction").dispatch({accountID:a,pageID:c,pagesSelection:d},{line:"209",module:"AdsPlacePageSetDataManager.js"});l.prev=2;l.next=5;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).adaccount(a).edge(b("GraphEdgeName").AD_PLACE_PAGE_SETS).get({fields:[b("ApiAdPlacePageSetFields").ID],limit:100,min_pages_count:1,page_id:c,since:b("DateTime").now(b("Timezone").UTC).subtractDays(7).valueOf(),pages_selection:d}));case 5:f=l.sent;g=[].concat(f.data,[{id:null}]),h=g[0].id;i=null;if(!h){l.next=14;break}l.next=11;return b("regeneratorRuntime").awrap(b("AdsAsyncLocationsCheckerDataLoader").load(new(b("AdsLocationPageIDsAndRoot"))({page_set_id:h})));case 11:j=l.sent,k=j&&j[b("PageSetLocationsCheck").PERMANENTLY_CLOSED]||[],k.length===0?i=h:b("AdsInterfacesLogger").log({eventName:"most_recent_page_set_has_closed_locations",eventCategory:b("AdsInterfacesLogEvents").EventCategory.CAMPAIGN_EDIT});case 14:i?b("AdsInterfacesLogger").log({eventName:"using_most_recent_page_set",eventCategory:b("AdsInterfacesLogEvents").EventCategory.CAMPAIGN_EDIT,data:{new_value:i}}):b("AdsInterfacesLogger").log({eventName:"no_recent_page_set_found",eventCategory:b("AdsInterfacesLogEvents").EventCategory.CAMPAIGN_EDIT});b("AdsPredefinedPlacePageSetLoadSuccessDataAction").dispatch({accountID:a,pageID:c,pageSetID:i,pagesSelection:d},{line:"269",module:"AdsPlacePageSetDataManager.js"});l.next=22;break;case 18:l.prev=18,l.t0=l["catch"](2),b("AdsInterfacesLogger").log({eventName:"error_recent_page_set",eventCategory:b("AdsInterfacesLogEvents").EventCategory.CAMPAIGN_EDIT}),b("AdsPredefinedPlacePageSetLoadErrorDataAction").dispatch({accountID:a,error:l.t0,pageID:c,pagesSelection:d},{line:"280",module:"AdsPlacePageSetDataManager.js"});case 22:case"end":return l.stop()}},null,this,[[2,18]])};a.prototype.getOrCreateFlatPageSetID=function(a,c){__p&&__p();var d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:d=null;e=null;g.prev=2;g.next=5;return b("regeneratorRuntime").awrap(this.fetchMostRecentFlatPageSet(a,c));case 5:d=g.sent;g.next=11;break;case 8:g.prev=8,g.t0=g["catch"](2),e=g.t0;case 11:if(d){g.next=22;break}g.prev=12;g.next=15;return b("regeneratorRuntime").awrap(this.createNewFlatPageset(a,c));case 15:f=g.sent;d=f.id;g.next=22;break;case 19:g.prev=19,g.t1=g["catch"](12),e=g.t1;case 22:if(!(e&&!d)){g.next=25;break}b("AdsFlatPageSetLoadErrorAction").dispatch({pageID:c,error:e},{line:"319",module:"AdsPlacePageSetDataManager.js"});return g.abrupt("return");case 25:b("AdsFlatPageSetLoadedAction").dispatch({pageID:c,pageSetID:b("nullthrows")(d),pageSetName:h},{line:"330",module:"AdsPlacePageSetDataManager.js"});case 26:case"end":return g.stop()}},null,this,[[2,8],[12,19]])};a.prototype.fetchMostRecentFlatPageSet=function(a,c){__p&&__p();var d,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:d=b("GraphAdPlacePageSetPagesSelection").CUSTOM;h.prev=1;h.next=4;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).adaccount(a).edge(b("GraphEdgeName").AD_PLACE_PAGE_SETS).get({fields:[b("ApiAdPlacePageSetFields").ID,b("ApiAdPlacePageSetFields").PAGES_COUNT,b("ApiAdPlacePageSetFields").TARGETED_AREA_TYPE],limit:100,page_id:c,pages_selection:d}));case 4:f=h.sent;g=f.data;g=g.filter(function(a){return a.pages_count===0&&a.targeted_area_type==="none"});return h.abrupt("return",b("Promise").resolve(g.length>0?g[0].id:null));case 10:h.prev=10;h.t0=h["catch"](1);return h.abrupt("return",b("Promise").reject(h.t0));case 13:case"end":return h.stop()}},null,this,[[1,10]])};a.prototype.createNewFlatPageset=function(a,c){return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(b("AdsGraphAPI").get(e.id).adaccount(a).edge(b("GraphEdgeName").AD_PLACE_PAGE_SETS).post({parent_page:c,name:h}));case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},null,this)};function a(){}e.exports=new a()}),null);
__d("AdsInsightsSavedReportGetter",["AdsGetter"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("AdsGetter"));g&&g.prototype;a.getPath=function(){return"insights_saved_report"};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("AdsInsightsPerformanceConfig",["fbt","invariant","AdsAPIObjectiveActions","AdsAPIObjectives","AdsConversionActionTypes","AdsInsightsActionFieldType","AdsInsightsColumn","AdsInsightsColumns","AdsInsightsField","AdsInsightsFields","AdsInsightsGKByAccountDeprecated","AdsInsightsMetricNames","AdsInsightsPerformanceMetricsUtils","AdsInsightsPerformanceSection","AdsInsightsPerformanceSummariesUtils","AdsObjectTypes"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("AdsInsightsColumns").makeActionID;c=b("AdsInsightsFields").makeStoreVisitsID;d=b("AdsInsightsPerformanceSummariesUtils").average;f=b("AdsInsightsPerformanceMetricsUtils").partialSums;var i=b("AdsInsightsPerformanceMetricsUtils").partialFrequencies;i=[{id:b("AdsInsightsPerformanceSection").RESULTS,metrics:[b("AdsInsightsField").RESULTS,b("AdsInsightsField").COST_PER_RESULT],chartContainerOverride:function(a,c){if(!a.performance_indicator)return null;c=b("AdsInsightsFields").getDescriptor(a.performance_indicator);c=c.actionType;return a.objective===b("AdsAPIObjectives").STORE_VISITS&&c===b("AdsAPIObjectiveActions").result.STORE_VISITS?b("AdsInsightsPerformanceSection").STORE_VISITS:null},primaryMetric:b("AdsInsightsField").RESULTS,showSelectors:!1,summaryFields:[b("AdsInsightsField").RESULT_RATE]},{id:b("AdsInsightsPerformanceSection").REACH,metrics:[b("AdsInsightsField").REACH,i(b("AdsInsightsField").FREQUENCY)],primaryMetric:b("AdsInsightsField").REACH,showSelectors:!1,summaryFields:[b("AdsInsightsField").IMPRESSIONS,b("AdsInsightsField").CPP],subLabel:g._("People Reached")},{id:b("AdsInsightsPerformanceSection").SPEND,metrics:[f(b("AdsInsightsField").SPEND),b("AdsInsightsField").SPEND],primaryMetric:b("AdsInsightsField").SPEND,showSelectors:!1,summaryFields:[d(b("AdsInsightsField").SPEND)],subLabel:g._("Amount spent")},{id:b("AdsInsightsPerformanceSection").FREQUENCY_VALUE,level:b("AdsObjectTypes").CAMPAIGN,metrics:[b("AdsInsightsField").REACH],breakdowns:[b("AdsInsightsField").FREQUENCY_VALUE],primaryMetric:b("AdsInsightsField").FREQUENCY,sort:[{field:b("AdsInsightsField").FREQUENCY_VALUE,direction:1}],subLabel:g._("Frequency")},{id:b("AdsInsightsPerformanceSection").STORE_VISITS,getIsVisible:function(a,c){c=a.performance_indicator?b("AdsInsightsFields").getDescriptor(a.performance_indicator).actionType:null;return a.objective===b("AdsAPIObjectives").LOCAL_AWARENESS||a.objective===b("AdsAPIObjectives").STORE_VISITS&&c!==b("AdsAPIObjectiveActions").result.STORE_VISITS},primaryMetric:c("point_estimate"),metrics:[],subLabel:b("AdsInsightsMetricNames")[b("AdsInsightsColumn").STORE_VISITS],showSelectors:!1},{id:b("AdsInsightsPerformanceSection").ATTENTION,getIsVisible:function(a){return a.objective===b("AdsAPIObjectives").BRAND_AWARENESS},gk_by_act:"ads_attention_event_reporting_bao_accounts",metrics:[a(b("AdsInsightsActionFieldType").ACTIONS,b("AdsConversionActionTypes").ATTENTION_EVENT),a(b("AdsInsightsActionFieldType").COST_PER_ACTION_TYPE,b("AdsConversionActionTypes").ATTENTION_EVENT)],primaryMetric:a(b("AdsInsightsActionFieldType").ACTIONS,b("AdsConversionActionTypes").ATTENTION_EVENT),showSelectors:!1,subLabel:b("AdsInsightsMetricNames")[a(b("AdsInsightsActionFieldType").ACTIONS,b("AdsConversionActionTypes").ATTENTION_EVENT)]},{id:b("AdsInsightsPerformanceSection").CUSTOM,label:g._("Custom"),showSelectors:!0}];i=i.filter(function(a){return!a.gk_by_act||b("AdsInsightsGKByAccountDeprecated")[a.gk_by_act]});var j={};i.forEach(function(a){a.primaryMetric||a.label||h(0,1823,a),j[a.id]=a});e.exports={performanceTabs:i,performanceTabsByID:j}}),null);
__d("AdsInsightsReachFrequencyDeliveryField",[],(function(a,b,c,d,e,f){"use strict";a={IMPRESSIONS:"impressions",CUMULATIVE_REACH:"cumulative_reach",SPEND:"spend",UNIQUE_VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS:"unique_video_continuous_2_sec_watched_actions:video_view",VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS:"video_continuous_2_sec_watched_actions:video_view"};e.exports=a}),null);
__d("AdsInsightsFetchMetadataEdgeInsightsErrorAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_FETCH_METADATA_EDGE_INSIGHTS_ERROR");e.exports=a}),null);
__d("AdsInsightsFetchMetadataEdgeInsightsSuccessAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_INSIGHTS_FETCH_METADATA_EDGE_INSIGHTS_SUCCESS");e.exports=a}),null);
__d("AdsInsightsMetadataEdgeInsightsDataLoader",["invariant","Promise","AdsApplicationUtils","AdsGraphAPI","AdsInsightsActionGroups","AdsInsightsBreakdownUtil","AdsInsightsFieldUtil","AdsInsightsFilterUtil","AdsInsightsInsightsEdgeDataLoader","AdsInsightsQueryFieldUtil","AdsInsightsQueryUtil","AdsInsightsSortUtil","AdsInsightsSourceStackUtil","AdsInsightsTimeRangeUtil","AdsObjectTypes","GraphAPIFieldUtils","GraphEdgeName","clamp"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={minPageSize:2,maxPageSize:5e3,queryToAPI:function(a,c,d){__p&&__p();var e=a.comparisonTimeRange,f=a.disableImplicitFilters,i=a.filter,j=a.objectInsights,k=a.summaryInsights;a=a.timeRange;var l=b("clamp")(d.limit,h.minPageSize,h.maxPageSize),m=j?j.objectType:b("AdsInsightsFilterUtil").lowestObjectType(i);m=m===b("AdsObjectTypes").ACCOUNT?b("AdsObjectTypes").CAMPAIGN_GROUP:m;d=babelHelpers["extends"]({},b("AdsInsightsTimeRangeUtil").toAPIParams(a),j&&b("AdsInsightsSortUtil").hasComparisonSort(j.sort)?b("AdsInsightsTimeRangeUtil").toBenchmarkTimeRangesAPIParams(a,e,c.timezoneID):{},{after:d.nextCursor,filtering:b("AdsInsightsFilterUtil").toMetadataEdgeParam(i,c.currencyCode,m,f),fields:[],limit:l,sort:j?b("AdsInsightsSortUtil").toAPIParam(j.sort):void 0,summary:["total_count"]});if(k){i=babelHelpers["extends"]({},b("AdsInsightsBreakdownUtil").toAPIParams(k.breakdowns),k.customTimeBreakdown?b("AdsInsightsTimeRangeUtil").intervalsToAPIParams(k.customTimeBreakdown):b("AdsInsightsTimeRangeUtil").toAPIParams(a),{action_attribution_windows:b("AdsInsightsFieldUtil").attributionWindowsToAPIParam(k.attributionWindows),fields:k.apiFields,limit:b("AdsInsightsInsightsEdgeDataLoader").getMaxPageSize(k.breakdowns),sort:b("AdsInsightsSortUtil").toInsightsEdgeParam(k.breakdownSort)});d.summary.push(b("GraphAPIFieldUtils").getFieldWithSubfields(b("GraphEdgeName").INSIGHTS,i))}if(j){f=b("AdsInsightsSortUtil").getBreakdownSort(j.sort,j.breakdowns);l=j.breakdowns.length>0;j.customTimeBreakdown?k=b("AdsInsightsTimeRangeUtil").intervalsToAPIParams(j.customTimeBreakdown):b("AdsInsightsSortUtil").hasComparisonSort(j.sort)?k=b("AdsInsightsTimeRangeUtil").toAPIParamsForComparisonSort(j.timeRange||a,c.timezoneID):k=b("AdsInsightsTimeRangeUtil").toAPIParams(j.timeRange||a);i=babelHelpers["extends"]({},b("AdsInsightsBreakdownUtil").toAPIParams(j.breakdowns),k,b("AdsInsightsSortUtil").hasComparisonSort(j.sort)?b("AdsInsightsTimeRangeUtil").toBenchmarkTimeRangesAPIParams(a,e,c.timezoneID):{},{action_attribution_windows:b("AdsInsightsFieldUtil").attributionWindowsToAPIParam(j.attributionWindows),default_summary:l,fields:j.apiFields,limit:b("AdsInsightsInsightsEdgeDataLoader").getMaxPageSize(j.breakdowns),sort:b("AdsInsightsSortUtil").toInsightsEdgeParam(f),summary:j.summaryAPIFields,summary_action_breakdowns:[b("AdsInsightsActionGroups").ACTION_TYPE]});d.fields.push(b("GraphAPIFieldUtils").getFieldWithSubfields(b("GraphEdgeName").INSIGHTS,i));if(j.metadataFields){(k=d.fields).push.apply(k,b("AdsInsightsQueryFieldUtil").toAPIParam(j.metadataFields))}}var n;switch(m){case b("AdsObjectTypes").CAMPAIGN_GROUP:n=b("GraphEdgeName").CAMPAIGNS;break;case b("AdsObjectTypes").CAMPAIGN:n=b("GraphEdgeName").ADSETS;break;case b("AdsObjectTypes").ADGROUP:n=b("GraphEdgeName").ADS;break;default:g(0,386,m)}n||g(0,1277);return{apiParams:d,edge:n}},fetch:function(a,c,d,e,f){if(b("AdsApplicationUtils").isPowerEditor()&&b("AdsInsightsQueryUtil").isQueryingFutureDate(a.timeRange.interval))return new(b("Promise"))(function(a,b){a({data:[]})});a=h.queryToAPI(a,c,d);d=a.apiParams;a=a.edge;e=b("AdsGraphAPI").get(b("AdsInsightsSourceStackUtil").repr([e])).adaccount(c.accountID).edge(a);e=f?e.batched():e;return e.get(d)}};e.exports=h}),null);
__d("AdsInsightsSlowQuerySet",["areEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.txs=new Map(),this.txCounter=0}a.prototype.remove=function(a){this.txs["delete"](a)};a.prototype.add=function(a){var b=this.txCounter++;this.txs.set(b,a);return b};a.prototype.has=function(a){__p&&__p();for(var c=this.txs.values(),d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;if(b("areEqual")(f,a))return!0}return!1};e.exports=a}),null);
__d("AdsPErfScenarioLogCustomScenarioAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PERF_SCENARIO.LOG_CUSTOM_SCENARIO");e.exports=a}),null);
__d("AdsInsightsMetadataEdgeInsightsDataDispatcher",["regeneratorRuntime","AdsInsightsAttributionWindows","AdsInsightsFetchMetadataEdgeInsightsErrorAction","AdsInsightsFetchMetadataEdgeInsightsSuccessAction","AdsInsightsFetchTimeSeriesStatsErrorAction","AdsInsightsFetchTimeSeriesStatsSuccessAction","AdsInsightsMetadataEdgeInsightsDataLoader","AdsInsightsSlowQuerySet","AdsInsightsSourceStackUtil","AdsPENavigationStore","AdsPErfScenarioLogCustomScenarioAction","AdsScenarioUtil","performanceNow","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.transactions=new(b("AdsInsightsSlowQuerySet"))()}a.prototype.fetch=function(a,c,d,e){__p&&__p();var f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:if(!this.transactions.has(a)){h.next=2;break}return h.abrupt("return");case 2:f=b("performanceNow")()/1e3;g=function(a,c){c={id:b("AdsScenarioUtil").generateID(),name:"insights.fetchMetadataEdgeInsights",interval:[f,c],status:a,logData:{api_request_source:b("AdsInsightsSourceStackUtil").repr([e]),is_first_page:b("AdsPENavigationStore").isFirstPage()}};b("AdsPErfScenarioLogCustomScenarioAction").dispatch({scenarioData:c},{line:"76",module:"AdsInsightsMetadataEdgeInsightsDataDispatcher.js"})};h.next=6;return b("regeneratorRuntime").awrap(this.$1(a,c,d,e).then(function(c){var e=b("performanceNow")()/1e3;g("success",e);b("AdsInsightsFetchMetadataEdgeInsightsSuccessAction").dispatch({interval:{start:f,end:e},metadataEdge:c,paging:d,query:a},{line:"85",module:"AdsInsightsMetadataEdgeInsightsDataDispatcher.js"})},function(c){var e=b("performanceNow")()/1e3;g("fail",e);b("AdsInsightsFetchMetadataEdgeInsightsErrorAction").dispatch({error:c,interval:{start:f,end:e},paging:d,query:a},{line:"95",module:"AdsInsightsMetadataEdgeInsightsDataDispatcher.js"})}));case 6:case"end":return h.stop()}},null,this)};a.prototype.$1=function(a,c,d,e,f){__p&&__p();var g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:f===void 0&&(f=!1);g=this.transactions.add(a);h.prev=2;h.next=5;return b("regeneratorRuntime").awrap(b("AdsInsightsMetadataEdgeInsightsDataLoader").fetch(a,c,d,e,f));case 5:return h.abrupt("return",h.sent);case 6:h.prev=6;this.transactions.remove(g);return h.finish(6);case 9:case"end":return h.stop()}},null,this,[[2,,6,9]])};a.prototype.fetchTimeSeries=function(a,c,d,e,f,g){__p&&__p();var h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:h={filter:a,timeRange:c,summaryInsights:{apiFields:e,attributionWindows:b("AdsInsightsAttributionWindows").getDefaultWindows(),breakdowns:[],breakdownSort:[],customTimeBreakdown:d},objectInsights:void 0};if(!this.transactions.has(h)){i.next=3;break}return i.abrupt("return");case 3:i.next=5;return b("regeneratorRuntime").awrap(b("promiseDone")(this.$1(h,f,{limit:Infinity,nextCursor:void 0},g,!0),function(a){return b("AdsInsightsFetchTimeSeriesStatsSuccessAction").dispatch({metadataEdge:a,metadataQuery:h},{line:"166",module:"AdsInsightsMetadataEdgeInsightsDataDispatcher.js"})},function(a){return b("AdsInsightsFetchTimeSeriesStatsErrorAction").dispatch({error:a,metadataQuery:h},{line:"171",module:"AdsInsightsMetadataEdgeInsightsDataDispatcher.js"})}));case 5:case"end":return i.stop()}},null,this)};e.exports=new a()}),null);
__d("AdsInsightsTimeSeriesDataDispatcher",["AdsInsightsFilter","AdsInsightsInsightsEdgeDataDispatcher","AdsInsightsMetadataEdgeInsightsDataDispatcher"],(function(a,b,c,d,e,f){"use strict";a={fetch:function(a,c,d,e,f,g){var h=b("AdsInsightsFilter").hasStatsClause(a);h?b("AdsInsightsMetadataEdgeInsightsDataDispatcher").fetchTimeSeries(a,c,d,e,f,g):b("AdsInsightsInsightsEdgeDataDispatcher").fetchTimeSeries(a,d,e,f,g,c)}};e.exports=a}),null);
__d("AdsInsightsChartsMetricsChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="INSIGHTS_CHARTS.METRICS_CHANGE";e.exports={actionType:a}}),null);
__d("AdsInsightsChartsSectionChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="INSIGHTS_CHARTS.SECTION_CHANGE";e.exports={actionType:a}}),null);
__d("AdsInsightsChartsSubsectionChangeDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="INSIGHTS_CHARTS.SUBSECTION_CHANGE";e.exports={actionType:a}}),null);
__d("AdsInsightsDeviceType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEVICE_OTHER:"other",DEVICE_WEB:"desktop",DEVICE_IPHONE:"iphone",DEVICE_IPAD:"ipad",DEVICE_IPOD:"ipod",DEVICE_ANDROID_SMARTPHONE:"android_smartphone",DEVICE_ANDROID_TABLET:"android_tablet",DEVICE_OFFLINE:"offline",DEVICE_NOT_APPLICABLE:"not_applicable",DEVICE_CONNECTED_TV:"connected_tv"})}),null);
__d("AdsInsightsObjectStatsStoreUtil",["invariant","AdsConversionActionTypes","AdsInsightsActionFieldType","AdsInsightsBreakdown","AdsInsightsColumns","AdsInsightsDeviceType","AdsInsightsField","AdsInsightsFields","AdsInsightsFilter","AdsInsightsMetricsUtils","AdsInsightsObjectStatsStore","AdsInsightsObjectStatsUtil","AdsInsightsPlacementSection","AdsInsightsReachFrequencyDeliveryField","AdsInsightsSection","AdsInsightsSections","AdsInsightsTimeRange","AdsInsightsViewSpecUtil","AdsLoadProgress_LEGACY","AdsLoadState_LEGACY","AdsObjectTypes","AdsReportPublisherPlatformType","AdsSplitTestUtils","LocalDate","LocalDateInterval","expectationViolation","mapObject"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsInsightsColumns").makeActionID,i={getDeliveryLeftBarDefaultMetrics:function(a,c){a=b("AdsInsightsViewSpecUtil").forInsightsSections(a);return b("AdsInsightsObjectStatsStore").get(a.filter,b("AdsInsightsTimeRange").lifetime,[b("AdsInsightsReachFrequencyDeliveryField").CUMULATIVE_REACH,b("AdsInsightsReachFrequencyDeliveryField").IMPRESSIONS,b("AdsInsightsReachFrequencyDeliveryField").SPEND],c,["pacingInsights.leftBar"])},getMetricSummaryForVideoView2SecondsBuying:function(a,c){var d;c=b("AdsInsightsObjectStatsStore").getGroup(b("AdsInsightsFilter").idIn(b("AdsObjectTypes").CAMPAIGN,[c]),b("AdsInsightsTimeRange").lifetime,null,[],[b("AdsInsightsReachFrequencyDeliveryField").UNIQUE_VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS,b("AdsInsightsReachFrequencyDeliveryField").VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS],[],a,[e.id+".getGroup"],void 0,b("AdsObjectTypes").CAMPAIGN);a="unit";return d={},d[b("AdsInsightsReachFrequencyDeliveryField").UNIQUE_VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS]=c.get(a,b("AdsInsightsReachFrequencyDeliveryField").UNIQUE_VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS),d[b("AdsInsightsReachFrequencyDeliveryField").VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS]=c.get(a,b("AdsInsightsReachFrequencyDeliveryField").VIDEO_CONTINUOUS_2_SEC_WATCHED_ACTIONS),d},getPerformanceLeftBarMetrics:function(a,c){a=b("AdsInsightsViewSpecUtil").forInsightsSections(a);return b("AdsInsightsObjectStatsStore").get(a.filter,a.timeRange,[b("AdsInsightsField").FREQUENCY,b("AdsInsightsField").OBJECTIVE,b("AdsInsightsField").PERFORMANCE_INDICATOR,b("AdsInsightsField").REACH,b("AdsInsightsField").RESULTS,b("AdsInsightsField").SPEND,h(b("AdsInsightsActionFieldType").ACTIONS,b("AdsConversionActionTypes").ATTENTION_EVENT),h(b("AdsInsightsActionFieldType").COST_PER_ACTION_TYPE,b("AdsConversionActionTypes").ATTENTION_EVENT)],c,["performanceInsights.leftBar"])},getSplitTestObjectPerformanceMetrics:function(a,c,d,e,f,h){b("AdsSplitTestUtils").hasSplitTest(d)||g(0,3176);a=b("AdsInsightsViewSpecUtil").forSplitTestSections(a,d,f,h);return b("AdsInsightsObjectStatsStore").get(a.filter,a.timeRange,e,c,["splitTesting.reportingPane"])},getIterativeSplitTestObjectPerformanceMetrics:function(a,c,d,e,f){a=b("AdsInsightsViewSpecUtil").forIterativeSplitTestSections(a,e,f,c.timezoneID);return b("AdsInsightsObjectStatsStore").get(a.filter,a.timeRange,d,c,["iterativeSplitTesting.reportingPane"])},getDateIntervalProgress:function(a,c){a=b("AdsInsightsViewSpecUtil").forInsightsSections(a);var d=b("LocalDate").today(c.timezoneID);return b("AdsInsightsObjectStatsStore").getInterval(a.filter,a.timeRange).map(function(a){if(!a)return b("LocalDateInterval").create(d.subtractDays(1),d);return d.isBefore(a.end)?b("LocalDateInterval").create(a.start,d.addDays(1)):a})},getObjectiveAndResultField:function(a,c){a=b("AdsInsightsViewSpecUtil").forInsightsSections(a);var d=[b("AdsInsightsField").OBJECTIVE,b("AdsInsightsField").RESULTS];a=b("AdsInsightsObjectStatsStore").get(a.filter,a.timeRange,d,c,[e.id+".getObjectiveAndResultField"]);d=a[b("AdsInsightsField").OBJECTIVE];c=a[b("AdsInsightsField").RESULTS];return{objective:d,resultsField:c&&b("AdsInsightsObjectStatsUtil").getResultsProgress(c).indicator}},getAgeGenderRows:function(a,c){var d=b("AdsInsightsMetricsUtils").getMetricsInSelector(),e=b("AdsInsightsSections").getConfig(b("AdsInsightsSection").AUDIENCE);d=d.concat(e.baseMetrics);a=b("AdsInsightsViewSpecUtil").forInsightsSections(a);e=b("AdsInsightsObjectStatsStore").getGroup(a.filter,a.timeRange,{currentRange:a.timeRange},[b("AdsInsightsBreakdown").AGE,b("AdsInsightsBreakdown").GENDER],d,[],c,["audienceInsights.ageGenderRows"]);a=e.getSequenced(d.concat([b("AdsInsightsBreakdown").AGE,b("AdsInsightsBreakdown").GENDER]),[]);return a.map(function(a){return a.map(i.updateObjectiveResultsInRawAPIRow)})},getGenderRows:function(a,c){var d=b("AdsInsightsMetricsUtils").getMetricsInSelector(),e=b("AdsInsightsSections").getConfig(b("AdsInsightsSection").AUDIENCE);d=d.concat(e.baseMetrics);a=b("AdsInsightsViewSpecUtil").forInsightsSections(a);e=b("AdsInsightsObjectStatsStore").getGroup(a.filter,a.timeRange,{currentRange:a.timeRange},[b("AdsInsightsBreakdown").GENDER],d,[],c,["audienceInsights.genderRows"]);a=e.getSequenced(d.concat([b("AdsInsightsBreakdown").GENDER]),[]);return a.map(function(a){return a.map(i.updateObjectiveResultsInRawAPIRow)})},getBreakdownRows:function(a,c,d,e,f){e===void 0&&(e="audienceInsights.getBreakdownRows");f=b("AdsInsightsViewSpecUtil").forInsightsSections(f);f=b("AdsInsightsObjectStatsStore").getGroup(f.filter,f.timeRange,{currentRange:f.timeRange},c,d,[],a,[e]);return i.getRowsForBreakdownChart(c,f,d,[])},getRowsForBreakdownChart:function(a,b,c,d){b=b.getSequenced(c.concat(a),d);return b.map(function(a){return a.map(i.updateObjectiveResultsInRawAPIRow)})},getPlacementRows:function(a,c){var d=b("AdsInsightsMetricsUtils").getMetricsInSelector(),e=b("AdsInsightsSections").getConfig(b("AdsInsightsSection").PLACEMENT);d=d.concat(e.baseMetrics);a=b("AdsInsightsViewSpecUtil").forInsightsSections(a);e=[b("AdsInsightsBreakdown").PUBLISHER_PLATFORM,b("AdsInsightsBreakdown").PLATFORM_POSITION,b("AdsInsightsBreakdown").DEVICE_PLATFORM];a=b("AdsInsightsObjectStatsStore").getGroup(a.filter,a.timeRange,{currentRange:a.timeRange},e,d,[],c,["placementInsights.placementRows"]);return a.getSequenced(d.concat(e),[])},getMobilePlacementRows:function(a,c){var d=b("AdsInsightsMetricsUtils").getMetricsInSelector(),e=b("AdsInsightsSections").getConfig(b("AdsInsightsSection").PLACEMENT);d=d.concat(e.baseMetrics);a=b("AdsInsightsViewSpecUtil").forInsightsSections(a);e=b("AdsInsightsObjectStatsStore").getGroup(a.filter,a.timeRange,{currentRange:a.timeRange},[b("AdsInsightsBreakdown").IMPRESSION_DEVICE],d,[],c,["placementInsights.deviceRows"]);return e.getSequenced(d.concat([b("AdsInsightsBreakdown").IMPRESSION_DEVICE]),[])},getAllPlacementBreakdownRows:function(a,c,d){__p&&__p();c=b("AdsInsightsViewSpecUtil").forInsightsSections(c);var e=[b("AdsInsightsBreakdown").PUBLISHER_PLATFORM],f=[],g=b("AdsInsightsObjectStatsStore").getGroup(c.filter,c.timeRange,{currentRange:c.timeRange},e,a,f,d,["placementInsights.platformRows"]);c=b("AdsInsightsObjectStatsStore").get(c.filter,c.timeRange,a,d,["placementInsights.summary"]);d=a.concat(e);a=g.statusOfFields(d);e=g.getKeys(f);if(a===b("AdsLoadState_LEGACY").LOADED&&e.isLoaded()){d=i.backfillPlacementPlatforms(e.defined().map(function(a){return i.updateObjectiveResultsInRawAPIRow(g.byKey[a])}));if(Object.values(c).every(function(a){return a.isLoaded&&a.isLoaded()}))return{rows:b("AdsLoadProgress_LEGACY").loaded(d),summary:b("AdsLoadProgress_LEGACY").sequenceObject(i.updateResultsInRow(c))};else return{rows:b("AdsLoadProgress_LEGACY").loaded(d),summary:b("AdsLoadProgress_LEGACY").create(a)}}else return{rows:b("AdsLoadProgress_LEGACY").create(a),summary:b("AdsLoadProgress_LEGACY").create(a)}},getDeviceSpecificPlacementBreakdownRows:function(a,c,d,e){__p&&__p();d=b("AdsInsightsViewSpecUtil").forInsightsSections(d);var f=[b("AdsInsightsBreakdown").PUBLISHER_PLATFORM,b("AdsInsightsBreakdown").IMPRESSION_DEVICE],h=[],j=b("AdsInsightsObjectStatsStore").getGroup(d.filter,d.timeRange,{currentRange:d.timeRange},f,c,h,e,["placementInsights.platformDeviceRows"]);d=c.concat(f);e=j.statusOfFields(d);f=j.getKeys(h);if(e===b("AdsLoadState_LEGACY").LOADED&&f.isLoaded()){var k={},l={};f.defined().map(function(a){return i.updateObjectiveResultsInRawAPIRow(j.byKey[a])}).forEach(function(d){__p&&__p();var e=d[b("AdsInsightsBreakdown").IMPRESSION_DEVICE]===b("AdsInsightsDeviceType").DEVICE_WEB;if(a===b("AdsInsightsPlacementSection").DESKTOP_PLACEMENT&&!e)return;else if(a===b("AdsInsightsPlacementSection").MOBILE_PLACEMENT&&e)return;var f=d[b("AdsInsightsBreakdown").PUBLISHER_PLATFORM];typeof f==="string"||g(0,3177);if(!k[f]){k[f]=(e={},e[b("AdsInsightsBreakdown").PUBLISHER_PLATFORM]=f,e)}c.forEach(function(a){var c=d[a];typeof c==="number"?(k[f][a]=c+(k[f][a]||0),l[a]=c+(l[a]||0)):c!=null&&b("expectationViolation")("stats "+c+" fetched from api\n                is not number")})});d=i.backfillPlacementPlatforms(Object.values(k));return{rows:b("AdsLoadProgress_LEGACY").loaded(d),summary:b("AdsLoadProgress_LEGACY").loaded(l)}}else return{rows:b("AdsLoadProgress_LEGACY").create(e),summary:b("AdsLoadProgress_LEGACY").create(e)}},updateResultsInRow:function(a){__p&&__p();var c=a,d=function(d,e){d.forEach(function(d){var f=b("AdsInsightsFields").getConfig(d);f=f.formatType;if(a[d]){var g;c=babelHelpers["extends"]({},c,(g={},g[d]=e(a[d],null,f).results,g))}})},e=[b("AdsInsightsField").COST_PER_RESULT,b("AdsInsightsField").RESULT_RATE,b("AdsInsightsField").RESULTS];d(e,b("AdsInsightsObjectStatsUtil").getResultsProgress);e=[b("AdsInsightsField").COST_PER_OPTIMIZATION_RESULT,b("AdsInsightsField").OPTIMIZATION_RESULTS];d(e,b("AdsInsightsObjectStatsUtil").getOptimizationResultsProgress);return c},updateObjectiveResultsInRawAPIRow:function(a){return b("mapObject")(i.updateResultsInRow(b("mapObject")(a,function(a){return b("AdsLoadProgress_LEGACY").loaded(a)})),function(a){return a.orNull()})},backfillPlacementPlatforms:function(a){__p&&__p();var c={},d=b("AdsInsightsBreakdown").PUBLISHER_PLATFORM,e=a.map(function(a){var e=a[d],f=b("AdsReportPublisherPlatformType")[e];c[e]=!0;return babelHelpers["extends"]({},a,(e={},e[d]=f,e))});Object.keys(b("AdsReportPublisherPlatformType")).forEach(function(a){if(a!=="unknown"&&c[a]!==!0){var f;e.push((f={},f[d]=b("AdsReportPublisherPlatformType")[a],f))}});return e},prefetchNAMPerformance:function(a,b){this.getObjectiveAndResultField(a,b),this.getPerformanceLeftBarMetrics(a,b),this.getDateIntervalProgress(a,b)},prefetchNAMPlacement:function(a,c){this.getObjectiveAndResultField(a,c);var d=b("AdsInsightsMetricsUtils").getMetricsInSelector();this.getAllPlacementBreakdownRows(d,a,c)},prefetchNAMAudience:function(a,b){this.getObjectiveAndResultField(a,b),this.getAgeGenderRows(a,b),this.getGenderRows(a,b)}};i.getPerformanceLeftBarMetrics.stores=[b("AdsInsightsObjectStatsStore")];i.getSplitTestObjectPerformanceMetrics.stores=[b("AdsInsightsObjectStatsStore")];i.getIterativeSplitTestObjectPerformanceMetrics.stores=[b("AdsInsightsObjectStatsStore")];i.getAllPlacementBreakdownRows.stores=[b("AdsInsightsObjectStatsStore")];e.exports=i}),null);
__d("AdsInsightsFetchTimeSeriesStatsErrorActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ADS_INSIGHTS_FETCH_TIME_SERIES_STATS_ERROR";e.exports={actionType:a}}),null);
__d("AdsInsightsFetchTimeSeriesStatsSuccessActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="ADS_INSIGHTS_FETCH_TIME_SERIES_STATS_SUCCESS";e.exports={actionType:a}}),null);
__d("AdsInsightsTimeSeriesStore",["invariant","AdsDataAtom","AdsInsightsAttributionWindows","AdsInsightsFetchTimeSeriesStatsErrorActionFlux","AdsInsightsFetchTimeSeriesStatsSuccessActionFlux","AdsInsightsFields","AdsInsightsFilter","AdsInsightsFilterUtil","AdsInsightsObjectStatsGroup","AdsInsightsObjectStatsUtil","AdsInsightsTableViewStore","AdsInsightsTimeSeriesDataDispatcher","AdsLoadProgress_LEGACY","FluxStore","GraphEdgeName","StrSet","gkx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("AdsDataAtom")),this.$TimeSeriesStore1={}}a.prototype.get=function(a,c,d,f,g,h){h===void 0&&(h=["unknown"]);h=[].concat(h,[e.id+".get"]);a=this.$TimeSeriesStore2(a,c,d,[f],g,h);c=a.map(function(a){return a.get("unit",f)});return b("AdsLoadProgress_LEGACY").sequenceArray(c)};a.prototype.getMulti=function(a,c,d,f,g,h){h===void 0&&(h=["unknown"]);h=[].concat(h,[e.id+".getMulti"]);var i=this.$TimeSeriesStore2(a,c,d,f,g,h),j={};f.forEach(function(a){j[a]=b("AdsLoadProgress_LEGACY").sequenceArray(i.map(function(b){return b.get("unit",a)}))});return j};a.prototype.__getActionTypes=function(){return i?[b("AdsInsightsFetchTimeSeriesStatsErrorActionFlux").actionType,b("AdsInsightsFetchTimeSeriesStatsSuccessActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsInsightsFetchTimeSeriesStatsSuccessActionFlux").actionType:a.insightsQuery?this.$TimeSeriesStore3(a.insightsQuery,a.insightsEdge):this.$TimeSeriesStore4(a.metadataQuery,a.metadataEdge);this.__emitChange();break;case b("AdsInsightsFetchTimeSeriesStatsErrorActionFlux").actionType:a.insightsQuery?this.$TimeSeriesStore5(a.insightsQuery,a.error):this.$TimeSeriesStore6(a.metadataEdge,a.error);this.__emitChange();break}};a.prototype.$TimeSeriesStore5=function(a,c){var d=a.apiFields,e=a.attributionWindows;c=a.customTimeBreakdown;var f=a.filter,g=a.timeRange;b("nullthrows")(c).forEach(function(a){a=this.$TimeSeriesStore7(f,g,a);a=a.group;a.failFields(d,e,[])}.bind(this))};a.prototype.$TimeSeriesStore6=function(a,c){var d=a.summaryInsights;d||g(0,void 0);d.customTimeBreakdown||g(0,void 0);d.customTimeBreakdown.forEach(function(c){c=this.$TimeSeriesStore7(a.filter,a.timeRange,c);c=c.group;c.failFields(b("nullthrows")(d).apiFields,b("nullthrows")(d).attributionWindows,[])}.bind(this))};a.prototype.$TimeSeriesStore2=function(a,c,d,e,f,g){__p&&__p();e=b("AdsInsightsFields").getAPIPropsMulti(e);var h=e.apiFields,i=b("AdsInsightsAttributionWindows").getDefaultWindows(),j=b("AdsInsightsTableViewStore").getOrNull(),k=new(b("StrSet"))(),l=[];e=d.map(function(b){var d=this.$TimeSeriesStore7(a,c,b);d=d.group;var e=d.getMissingAPIFields(h,i,[],j);e.count()!==0&&(l.push(b),k=k.union(e));return d}.bind(this));k.count()&&b("AdsInsightsTimeSeriesDataDispatcher").fetch(a,c,l,k.toArray(),f,g);return e};a.prototype.$TimeSeriesStore7=function(a,c,d){c=b("AdsInsightsFilter").hasStatsClause(a)?c.toString():"any";a=[b("AdsInsightsFilterUtil").toKey(a),c,d.start,d.end].join(",");this.$TimeSeriesStore1[a]||(this.$TimeSeriesStore1[a]=b("AdsInsightsObjectStatsGroup").create([]));return{cacheKey:a,group:this.$TimeSeriesStore1[a]}};a.prototype.$TimeSeriesStore3=function(a,c){var d=a.apiFields,e=a.customTimeBreakdown,f=a.filter;a=a.timeRange;c=c.data||[];this.$TimeSeriesStore8(f,a,b("nullthrows")(e),d,c)};a.prototype.$TimeSeriesStore4=function(a,c){var d=a.filter,e=a.summaryInsights;a=a.timeRange;c=c.summary&&c.summary[b("GraphEdgeName").INSIGHTS];c=c&&c.data||[];this.$TimeSeriesStore8(d,a,b("nullthrows")(b("nullthrows")(e).customTimeBreakdown),b("nullthrows")(e).apiFields,c)};a.prototype.$TimeSeriesStore8=function(a,c,d,e,f){var g={};f.map(function(d){var f=b("AdsInsightsObjectStatsUtil").getInterval(d);g[f.toString()]=!0;this.$TimeSeriesStore9(a,c,f,e,[d])}.bind(this));d.forEach(function(b){Object.prototype.hasOwnProperty.call(g,b.toString())||this.$TimeSeriesStore9(a,c,b,e,[])}.bind(this))};a.prototype.$TimeSeriesStore9=function(a,c,d,e,f){a=this.$TimeSeriesStore7(a,c,d);c=a.group;c.loadFields(e,b("AdsInsightsAttributionWindows").getDefaultWindows());c.merge(f,[])};a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsInsightsPerformanceUtil",["invariant","AdsInsightsField","AdsInsightsFields","AdsInsightsObjectStatsStoreUtil","AdsInsightsPerformanceConfig","AdsInsightsPerformanceMetricsUtils","AdsInsightsPerformanceSection","AdsInsightsPerformanceSummariesUtils","AdsInsightsQueryUtil","AdsInsightsTimeRangeUtil","AdsInsightsTimeSeriesStore","AdsLoadProgress_LEGACY","BinarySearch","DateConsts","DateTime","LoadObject","LocalDate","LocalDateInterval","PeriodUnit","TimeInterval","createObjectFrom","expectationViolation","flatMapArray","getObjectValues","immutable","mapObject","nullthrows","zipWith"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsInsightsPerformanceMetricsUtils").partialSums,i=b("AdsInsightsPerformanceMetricsUtils").partialFrequencies,j=b("AdsInsightsPerformanceMetricsUtils").partialReaches,k=b("immutable").Set,l=b("AdsInsightsField").IMPRESSIONS,m={alignTimeIntervalsForComparison:function(a,c){__p&&__p();if(c.start>a.start){var d=this.alignTimeIntervalsForComparison(c,a);return{comparison:d.current,current:d.comparison}}d=function(c,a){return b("TimeInterval").fromDateTimes(c.getStartDateTime().addWeeks(a),c.getEndDateTime().addWeeks(a))};var e=b("TimeInterval").fromDateTimes(c.getStartDateTime(),a.getStartDateTime()).measure(b("PeriodUnit").week);e===0&&(e=1);var f=d(c,e).join(a);c=d(c,e+1).join(a);c.measure(b("PeriodUnit").day)<f.measure(b("PeriodUnit").day)&&(e+=1,f=c);return{comparison:d(f,-e),current:f}},getDialatedInterval:function(a,c,d){d=a.getStartDateTime().subtractDays(c).startOfDay();a=a.getEndDateTime().addDays(c).startOfDay();return b("TimeInterval").fromDateTimes(d,a)},createSeriesSegments:function(a,c){var d=[],e;a.forEach(function(a,f){f===0?(e=a.datetime,d.push(a)):e&&Math.round((a.datetime.getUnixTimestampSeconds()-e.getUnixTimestampSeconds())/b("DateConsts").SEC_PER_DAY)<=c?(e=a.datetime,d.push(a)):(d.push({datetime:null,value:null}),d.push(a),e=a.datetime)});return d},computePeriodicIntervals:function(a,c){var d=function(d){return b("DateTime").create(d,c.timezoneID).subtractDays(a).startOfDay().instant},e=[];for(var f=c.end;c.start<f;f=d(f)){var g=b("LocalDateInterval").fromDateTimes(b("DateTime").create(d(f),c.timezoneID),b("DateTime").create(f,c.timezoneID));b("AdsInsightsQueryUtil").isQueryingFutureDate(g)||e.push(b("TimeInterval").create(d(f),f,c.timezoneID))}e.reverse();return e},computeGenericCumulativeIntervals:function(a,c){__p&&__p();var d=a.timezoneID,e=b("LocalDate").today(d).addDays(1).toInstant(d),f=a.start;e=e<a.end?e:a.end;a=[];var g=function(a){return b("DateTime").create(a,d).subtractDays(c).startOfDay().instant};e=e;var h;while(f<e)h=g(e),a.push(b("TimeInterval").create(h<f?f:h,e,d)),e=h;a.reverse();return a},computeSampledIntervals:function(a,c){var d=function(d){return b("DateTime").create(d,c.timezoneID).subtractDays(a).startOfDay().instant},e=b("LocalDate").today(c.timezoneID).addDays(1).toInstant(c.timezoneID);e=e<c.end?e:c.end;var f=[];for(var e=e;c.start<e;e=d(e))f.push(b("TimeInterval").create(b("DateTime").create(e,c.timezoneID).subtractDays(1).instant,e,c.timezoneID));f.reverse();return f},computeCumulativeIntervals:function(a,c){var d=function(d){return b("DateTime").create(d,c.timezoneID).subtractDays(a).startOfDay().instant},e=[];for(var f=c.end;c.start<f;f=d(f))e.push(b("TimeInterval").create(c.start,f,c.timezoneID));e.reverse();return e},getPartialSumsTimeData:function(a,c,d,e,f,g){__p&&__p();var h=m.computePeriodicIntervals(e,f);e=m._updateObjectiveResultTimeData(b("AdsInsightsTimeSeriesStore").get(c,d,h.map(b("LocalDateInterval").fromTimeInterval),a,g),a);return e.map(function(a){var c=0;return a.map(function(a,d){d=h[d];a=typeof a==="string"?parseFloat(a):a;if(typeof a!=="number")return null;c+=a;return{interval:b("TimeInterval").create(b("DateTime").create(d.end,d.timezoneID).subtractDays(1).instant,d.end,d.timezoneID),value:c}}).filter(Boolean)})},getGenericTimeData:function(a,c,d,e,f,g){var h=m.computeSampledIntervals(e,f);e=m._updateObjectiveResultTimeData(b("AdsInsightsTimeSeriesStore").get(c,d,h.map(b("LocalDateInterval").fromTimeInterval),a,g),a);return e.map(function(a){return b("zipWith")(function(a,b){return{value:typeof a==="string"?parseFloat(a):a,interval:b}},a,h).filter(function(a){return typeof a.value==="number"})})},computePartialSumsTimeDataMultiFields:function(a,c,d){__p&&__p();var e={};c.forEach(function(c){return e[c]=a[c].map(function(a){var c=0;return a.map(function(a,e){e=d[e];a=typeof a==="string"?parseFloat(a):a;if(typeof a!=="number")return null;c+=a;return{interval:b("TimeInterval").create(b("DateTime").create(e.end,e.timezoneID).subtractDays(1).instant,e.end,e.timezoneID),value:c}}).filter(Boolean)})});return e},getPartialSumsTimeDataMultiFields:function(a,c,d,e,f,g){e=m.computePeriodicIntervals(e,f);f=m.updateObjectiveResultTimeDataMultiFields(b("AdsInsightsTimeSeriesStore").getMulti(c,d,e.map(b("LocalDateInterval").fromTimeInterval),a,g),a);return m.computePartialSumsTimeDataMultiFields(f,a,e)},computeGenericTimeDataMultiFields:function(a,c,d){var e={};c.forEach(function(c){return e[c]=a[c].map(function(a){return b("zipWith")(function(a,b){return{value:typeof a==="string"?parseFloat(a):a,interval:b}},a,d).filter(function(a){return typeof a.value==="number"})})});return e},getGenericTimeDataMultiFields:function(a,c,d,e,f,g){e=m.computeSampledIntervals(e,f);f=m.updateObjectiveResultTimeDataMultiFields(b("AdsInsightsTimeSeriesStore").getMulti(c,d,e.map(b("LocalDateInterval").fromTimeInterval),a,g),a);return m.computeGenericTimeDataMultiFields(f,a,e)},getCumulativeUniqueTimeData:function(a,c,d,e,f,g,h){__p&&__p();h=(h||[]).concat([b("AdsInsightsField").IMPRESSIONS]).find(function(a){return!["partialFrequencies","partialReaches"].includes(b("AdsInsightsPerformanceMetricsUtils").getDescriptor(a).transform)});h=b("AdsInsightsPerformanceMetricsUtils").getDescriptor(h).field;h=this.getTimeData(h,c,d,e,f,g).map(function(a){return a.map(function(a){return b("TimeInterval").create(f.start,a.interval.end,f.timezoneID)})});e=h.flatMap(function(e){return m._updateObjectiveResultTimeData(b("AdsInsightsTimeSeriesStore").get(c,d,e.map(b("LocalDateInterval").fromTimeInterval),a,g),a)});return b("AdsLoadProgress_LEGACY").map2(e,h,function(a,c){return b("zipWith")(function(a,c){return{interval:b("TimeInterval").create(c.getEndDateTime().subtractDays(1).instant,c.end,c.timezoneID),value:typeof a==="string"?parseFloat(a):a}},a,c).filter(function(a){return typeof a.value==="number"})})},computeCumulativeUniqueTimeDataMultiFields:function(a,c,d){var e={};c.forEach(function(c){e[c]=a[c].map(function(){return b("zipWith")(function(a,c){return{interval:b("TimeInterval").create(c.getEndDateTime().subtractDays(1).instant,c.end,c.timezoneID),value:typeof a==="string"?parseFloat(a):a}},a[c].getValueEnforcing(),d.getValueEnforcing()).filter(function(a){return typeof a.value==="number"})})});return e},getCumulativeUniqueTimeDataMultiFields:function(a,c,d,e,f,g,h){__p&&__p();h=(h||[]).concat([b("AdsInsightsField").IMPRESSIONS]).find(function(a){return!["partialFrequencies","partialReaches"].includes(b("AdsInsightsPerformanceMetricsUtils").getDescriptor(a).transform)});h=b("AdsInsightsPerformanceMetricsUtils").getDescriptor(h).field;var i=m.getTimeDataMulti([h],c,d,e,f,g)[h].map(function(a){return a.map(function(a){return b("TimeInterval").create(f.start,a.interval.end,f.timezoneID)})});e=i.match({loaded:function(){return m.updateObjectiveResultTimeDataMultiFields(b("AdsInsightsTimeSeriesStore").getMulti(c,d,i.getValueEnforcing().map(b("LocalDateInterval").fromTimeInterval),a,g),a)},loading:function(){return b("createObjectFrom")(a,b("LoadObject").loading())},error:function(c){return b("createObjectFrom")(a,b("LoadObject").withError(c))}});return m.computeCumulativeUniqueTimeDataMultiFields(e,a,i)},_updateObjectiveResultTimeData:function(a,c){return a.map(function(a){return a.map(function(a){var d;return b("AdsInsightsObjectStatsStoreUtil").updateResultsInRow((d={},d[c]=b("AdsLoadProgress_LEGACY").loaded(a),d))[c].orNull()})})},updateObjectiveResultTimeDataMultiFields:function(a,c){var d={};c.forEach(function(c){return d[c]=a[c].map(function(a){return a.map(function(a){var d;return b("AdsInsightsObjectStatsStoreUtil").updateResultsInRow((d={},d[c]=b("AdsLoadProgress_LEGACY").loaded(a),d))[c].orNull()})})});return m.loadProgressToLoadObject(d)},getMetricsTimeData_LEGACY:function(a,b,c,d,e,f){return m.loadObjectToLoadProgress(m.getMetricsTimeData(a,b,c,d,e,f))},getMetricsTimeData:function(a,b,c,d,e,f){({});a=a.includes(l)?a:[].concat(a,[l]);a=m.getTimeDataMulti(a,d,e,c,m.getDialatedInterval(b,c,f.timezoneID),f);d=m.filterTimeDataByMetric(a,l);return m.completeTimeSeriesData(d)},getTimeData:function(a,c,d,e,f,g,h){a=b("AdsInsightsPerformanceMetricsUtils").getDescriptor(a);var i=a.field;a=a.transform;switch(a){case"partialSums":return m.getPartialSumsTimeData(i,c,d,e,f,g);case"partialFrequencies":case"partialReaches":return m.getCumulativeUniqueTimeData(i,c,d,e,f,g,h);default:return m.getGenericTimeData(i,c,d,e,f,g)}},getTimeDataMulti:function(a,c,d,e,f,g){__p&&__p();var k={};a.forEach(function(a){a=b("AdsInsightsPerformanceMetricsUtils").getDescriptor(a);var c=a.field;a=a.transform;a=a||"default";k[a]=(k[a]||[]).concat(c)});var l={};Object.keys(k).forEach(function(a){__p&&__p();switch(a){case"partialSums":var b=m.getPartialSumsTimeDataMultiFields(k.partialSums,c,d,e,f,g);Object.keys(b).forEach(function(a){return l[h(a)]=b[a]});break;case"partialFrequencies":var n=m.getCumulativeUniqueTimeDataMultiFields(k.partialFrequencies,c,d,e,f,g);Object.keys(n).forEach(function(a){return l[i(a)]=n[a]});break;case"partialReaches":var o=m.getCumulativeUniqueTimeDataMultiFields(k.partialReaches,c,d,e,f,g);Object.keys(o).forEach(function(a){return l[j(a)]=o[a]});break;default:l=Object.assign(l,m.getGenericTimeDataMultiFields(k["default"],c,d,e,f,g))}});return l},getSummaryValue:function(a,c,d,e,f){c=b("AdsInsightsPerformanceSummariesUtils").getDescriptor(c);var g=c.reducer;c=c.field;return m._getSummaryValue(a,c,g,d,e,f)},_getSummaryValue:function(a,c,d,e,f,h){__p&&__p();var i=h.timezoneID,j=b("AdsInsightsFields").getReducerOfField(c),k=function(){return b("AdsInsightsObjectStatsStoreUtil").updateResultsInRow(a.get(e,f,[c],h,["performanceInsights.getSummaryValue"]))[c]};if(!d||d===j)return k();var l;f.isLifetime()?l=a.getInterval(e,f).map(function(a){return a||b("LocalDateInterval").create(b("LocalDate").today(i),b("LocalDate").today(i).addDays(1))}):l=b("AdsLoadProgress_LEGACY").loaded(b("AdsInsightsTimeRangeUtil").toDateInterval(f,b("LocalDate").today(i)));switch(d){case"average":if(j==="sum")return b("AdsLoadProgress_LEGACY").map2(l,k(),function(a,b){a=a.measure("day");a!==0||g(0,793);return b!=null?b/a:void 0});else g(0,794);case"lastDay":return l.flatMap(function(d){d=b("LocalDateInterval").create(d.end.subtractDays(2),d.end.subtractDays(1));d=a.get(e,d,[c],h,["performanceInsights.getSummaryValue"]);return d[c]});case"sum":case"uniqueSum":case"weightedAverage":case"weightedUniqueAverage":default:g(0,794)}},completeTimeSeriesData:function(a){__p&&__p();var c={},d=function(a){return a.start+"-"+a.end};b("getObjectValues")(a).forEach(function(a){return a.map(function(a){return a.forEach(function(a){return c[d(a.interval)]=a.interval})})});var e=b("getObjectValues")(c);e.sort(function(a,b){return a.end-b.end});return b("mapObject")(a,function(a,c){__p&&__p();return a.map(function(a){var f=b("AdsInsightsPerformanceMetricsUtils").getDescriptor(c),g=f.transform,h={};a.forEach(function(a){return h[d(a.interval)]=a});var i=0;return e.map(function(a){var b=h[d(a)];b?b=b.value:g==="partialSums"||g==="partialReaches"?b=i:b=0;i=b;return{interval:a,value:b}})})})},filterIntervalsWithActiveEnd:function(a,c){var d=function(a){a=b("TimeInterval").create(b("DateTime").create(a.end,a.timezoneID).subtractDays(1).startOfDay().instant,a.end,a.timezoneID);var d=b("BinarySearch").greatestLowerBound(function(a){return c[a].end},a.start,0,c.length,function(a,b){return a-b});return d+1!==c.length?a.overlaps(c[d+1]):!1};return a.filter(d)},filterTimeDataByMetric:function(a,c){__p&&__p();if(!a[c]){b("expectationViolation")("Cannot found the metric used for filtering in byTimeData");return a}if(!a[c].hasValue())return a;var d=k(a[c].getValueEnforcing().filter(function(a){return a.value}).map(function(a){return a.interval.toString()}));return b("mapObject")(a,function(a){return a.map(function(a){return a.filter(function(a){return d.has(a.interval.toString())})})})},getMetricsFromSectionSpec:function(a){if(a.subsection&&a.subsection!==b("AdsInsightsPerformanceSection").CUSTOM){var c=b("AdsInsightsPerformanceConfig").performanceTabsByID[a.subsection];return c.metrics}else{a.metrics||g(0,void 0);return a.metrics}},getSummaryFieldsFromSectionSpec:function(a){if(a.subsection&&a.subsection!==b("AdsInsightsPerformanceSection").CUSTOM){var c=b("AdsInsightsPerformanceConfig").performanceTabsByID[a.subsection];return c.summaryFields||[]}else return b("flatMapArray")(b("nullthrows")(a.metrics),function(a){return b("AdsInsightsPerformanceMetricsUtils").getConfig(a).summaryFields})},getBreakdownsFromSectionSpec:function(a){if(a.subsection!==b("AdsInsightsPerformanceSection").CUSTOM){a=b("AdsInsightsPerformanceConfig").performanceTabsByID[a.subsection];return{breakdowns:a.breakdowns||[],sort:a.sort||[]}}else return{breakdowns:[],sort:[]}},fillMissingDataForKPIBarChart:function(a,b,c,d,e){__p&&__p();var f=function(a){var d={};c.forEach(function(a){d[a]=null});d[b]=a;return d},g={};a.forEach(function(a){var c=a[b];if(c==null)return;c=c.instant;if(c==null)return;g[c]=a});a=[];for(var d=d;d.instant<=e.instant;d=d.addDays(1))a.push(g[d.instant]||f(d));a.length===1&&a.push(f(e.addDays(1)));return a},getHourlyIntervals:function(a){var c=[];a.forEach(function(a){var d=a.timezoneID;a=a.start;for(var e=0;e<24;e++)c.push(new(b("TimeInterval"))(a,a+3600,d)),a+=3600});return c},loadProgressToLoadObject:function(a){var c={};Object.keys(a).forEach(function(d){c[d]=b("AdsLoadProgress_LEGACY").toLoadObject(a[d])});return c},loadObjectToLoadProgress:function(a){var c={};Object.keys(a).forEach(function(d){c[d]=b("AdsLoadProgress_LEGACY").fromLoadObject(a[d])});return c}};e.exports=m}),null);
__d("AdsInsightsSettingsStore",["invariant","AdsApplicationUtils","AdsDataAtom","AdsInsightsBreakdown","AdsInsightsChartsMetricsChangeDataActionFlux","AdsInsightsChartsSectionChangeDataActionFlux","AdsInsightsChartsSubsectionChangeDataActionFlux","AdsInsightsPerformanceMetricsUtils","AdsInsightsPerformanceSummariesUtils","AdsInsightsPerformanceUtil","AdsInsightsPlacementSection","AdsInsightsSection","AdsInsightsSections","AdsInsightsSectionUtil","AdsInterfacesRouteUpdateParamsDataActionFlux","FluxStore","gkx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=[b("AdsInsightsBreakdown").PUBLISHER_PLATFORM,b("AdsInsightsBreakdown").PLATFORM_POSITION,b("AdsInsightsBreakdown").DEVICE_PLATFORM],j=b("gkx")("779516");c=babelHelpers.inherits(a,b("FluxStore"));h=c&&c.prototype;function a(){h.constructor.call(this,b("AdsDataAtom")),this.$AdsInsightsSettingsStoreClass1=b("AdsInsightsSections").withDefaultState(b("AdsInsightsSections").getDefault())}a.prototype.get=function(){var a=this.$AdsInsightsSettingsStoreClass1,c=a.metrics,d=a.section;a=a.subsection;var e=b("AdsInsightsSectionUtil").hasMetrics(d,a);return{metrics:e?c:void 0,section:d,subsection:a}};a.prototype.getBreakdowns=function(){__p&&__p();var a=this.$AdsInsightsSettingsStoreClass1,c=a.section;a=a.subsection;switch(c){case b("AdsInsightsSection").AUDIENCE:return[b("AdsInsightsBreakdown").AGE,b("AdsInsightsBreakdown").GENDER];case b("AdsInsightsSection").PLACEMENT:switch(a){case b("AdsInsightsPlacementSection").ALL_PLACEMENT:return i;case b("AdsInsightsPlacementSection").MOBILE:return[b("AdsInsightsBreakdown").IMPRESSION_DEVICE].concat(i);default:return[]}case b("AdsInsightsSection").PERFORMANCE:return b("AdsInsightsPerformanceUtil").getBreakdownsFromSectionSpec(this.$AdsInsightsSettingsStoreClass1).breakdowns;default:return[]}};a.prototype.getFields=function(){__p&&__p();var a=this.$AdsInsightsSettingsStoreClass1,c=a.metrics;a=a.section;var d=b("AdsInsightsSections").getConfig(a);switch(a){case b("AdsInsightsSection").AUDIENCE:c||g(0,void 0);return c;case b("AdsInsightsSection").PERFORMANCE:c=b("AdsInsightsPerformanceUtil").getMetricsFromSectionSpec(this.$AdsInsightsSettingsStoreClass1);a=c.map(function(a){return b("AdsInsightsPerformanceMetricsUtils").getDescriptor(a).field});var e=b("AdsInsightsPerformanceUtil").getSummaryFieldsFromSectionSpec(this.$AdsInsightsSettingsStoreClass1);e=e.map(function(a){return b("AdsInsightsPerformanceSummariesUtils").getDescriptor(a).field});return[].concat(a,e);case b("AdsInsightsSection").PLACEMENT:c||g(0,void 0);return[].concat(c,d.baseMetrics);default:return[]}};a.prototype.__getActionTypes=function(){return j?[b("AdsInsightsChartsMetricsChangeDataActionFlux").actionType,b("AdsInsightsChartsSectionChangeDataActionFlux").actionType,b("AdsInsightsChartsSubsectionChangeDataActionFlux").actionType,b("AdsInterfacesRouteUpdateParamsDataActionFlux").actionType]:null};a.prototype.__onDispatch=function(a){__p&&__p();a=a.action;a.data;switch(a.actionType){case b("AdsInsightsChartsMetricsChangeDataActionFlux").actionType:b("AdsApplicationUtils").isPowerEditor()||(this.$AdsInsightsSettingsStoreClass1=babelHelpers["extends"]({},this.$AdsInsightsSettingsStoreClass1,{metrics:a.metrics}),this.__emitChange());break;case b("AdsInsightsChartsSubsectionChangeDataActionFlux").actionType:b("AdsApplicationUtils").isPowerEditor()||(this.$AdsInsightsSettingsStoreClass1=b("AdsInsightsSections").withDefaultState(babelHelpers["extends"]({},this.$AdsInsightsSettingsStoreClass1,{subsection:a.subsection})),this.__emitChange());break;case b("AdsInsightsChartsSectionChangeDataActionFlux").actionType:b("AdsApplicationUtils").isPowerEditor()||(this.$AdsInsightsSettingsStoreClass1=b("AdsInsightsSections").withDefaultState(b("AdsInsightsSections").getDefaultForSection(a.section)),this.__emitChange());break;case b("AdsInterfacesRouteUpdateParamsDataActionFlux").actionType:var c=a.data.params;a=a.data.changedParamKeys;var d=c.insights_section||null;a.insights_section&&d&&(this.$AdsInsightsSettingsStoreClass1=b("AdsInsightsSections").withDefaultState(b("AdsInsightsSections").getDefaultForSection(d)),this.__emitChange());d=c.insights_subsection||null;a.insights_subsection&&d&&(this.$AdsInsightsSettingsStoreClass1=b("AdsInsightsSections").withDefaultState(babelHelpers["extends"]({},this.$AdsInsightsSettingsStoreClass1,{subsection:d})),this.__emitChange());d=c.insights_metrics||null;a.insights_metrics&&d&&(d=d.split(","),this.$AdsInsightsSettingsStoreClass1=babelHelpers["extends"]({},this.$AdsInsightsSettingsStoreClass1,{metrics:d}),this.__emitChange());break}};a.prototype.toURLParams=function(a){return{}};a.__moduleID=e.id;d=new a();e.exports=d}),null);
__d("AdsPEFluxActionTypes",["keyMirrorRecursive"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirrorRecursive")({ACCOUNT:{CHANGE_DEFAULT_DEMOGRAPHICS:""},AD:{CREATE_WITH_AUDIENCES:"",CREATE:"",DELETE:"",INITIALIZE_WITH_APP:"",INLINE_POST_CREATIVE_CHANGE:{PHOTO:"",TEMPLATE:""},PASTE:"",REVERT:"",SELECTION:{DOWN_KEY:"",ID_CLICKED:"",UP_KEY:""},SET_DEEP_LINK:"",SET_DEEP_LINK_TITLE:"",SET_IMAGE:"",SET_PRODUCT_LINK:"",SET_STATUS:"",UPLOAD:"",VALIDATION_COMPLETE:""},AD_ACCOUNT_TABLE:{SET_SORT_KEY:""},BUSINESS:{FETCH_PRODUCT_CATALOGS:""},CAMPAIGN:{CREATE:"",DELETE:"",REVERT:"",EXTERNAL_PASTE:"",ERRORS_LOADED:"",SELECTION:{DOWN_KEY:"",ID_CLICKED:"",UP_KEY:""},SET_IMPRESSION_LIMIT:"",SPLIT_AUDIENCE:{OPEN:"",CLOSE:""}},CAMPAIGN_GROUP:{REVERT:"",SELECTION:{DOWN_KEY:"",ID_CLICKED:"",UP_KEY:""}},CUSTOM_THUMBNAIL:{RESET:"",LOAD_START:"",LOADED:"",SELECT:"",UPLOAD_SUCCESS:""},IMPORT:{FILE_SELECTED:"",FILE_REMOVED:"",IMAGE_REMOVED:"",VIDEO_REMOVED:"",CHOOSE_FILE_CLICKED:""},POST:{FETCH_BY_ID:"",FETCH_FOR_PAGE:""},STATS:{FETCH:"",INIT_STAT_RANGE:"",SET_STAT_RANGE:""},PAGE:{CLEAR_PAGE_CREATION:"",CREATE:"",DOWNLOADED:""},PAGE_POST_COMPOSER:{RESET:"",VIDEO:{SELECT:"",SELECT_THUMBNAIL:""}},CHANGE_LEVEL_BUTTON_CLICKED:"",CREATE_AUDIENCE:"",LEAVE_INTERFACE:"",TEST:{CHANGE:"",FETCH_GROUP:"",TAKE_GROUP_ACTION:"",TAKE_PER_AD_ACTION:""},CAMPAIGN_GROUP_TABLE:{EDIT_FOCUS:"",EDIT_BLUR:"",INIT_COLUMN_WIDTHS:"",SET_COLUMN_WIDTHS:"",SET_HEIGHT:"",SET_SORT_KEY:"",SET_WIDTH:""},CAMPAIGN_TABLE:{EDIT_FOCUS:"",EDIT_BLUR:"",INIT_COLUMN_WIDTHS:"",SET_COLUMN_WIDTHS:"",SET_HEIGHT:"",SET_SORT_KEY:"",SET_WIDTH:""},AD_TABLE:{EDIT_FOCUS:"",EDIT_BLUR:"",INIT_COLUMN_WIDTHS:"",SET_COLUMN_WIDTHS:"",SET_HEIGHT:"",SET_SORT_KEY:"",SET_WIDTH:""},TABLE:{SET_INLINE_EDIT:"",RESET_INLINE_EDIT:""},TOP_NAV:{CLOSE_KEYBOARD_SHORTCUTS_DIALOG:"",OPEN_CLOSE_GEAR_MENU:"",OPEN_HELP_CENTER:"",OPEN_KEYBOARD_SHORTCUTS_DIALOG:"",OPEN_RELEASE_NOTES:"",REFRESH:"",RESET_APPLICATION:"",TAKE_TOUR:""}});e.exports=a}),null);
__d("AdsInsightsTableChangeColumnsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="INSIGHTS_TABLE.CHANGE_COLUMNS";e.exports={actionType:a}}),null);
__d("AdsInsightsTableSelectColumnSetDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="INSIGHTS_TABLE.SELECT_COLUMN_SET";e.exports={actionType:a}}),null);
__d("AdsPEBreakdownsClearActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PowerEditor.BREAKDOWNS.CLEAR";e.exports={actionType:a}}),null);
__d("AdsPEBreakdownsSelectActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PowerEditor.BREAKDOWNS.SELECT";e.exports={actionType:a}}),null);
__d("AdsPETableSetVisibleColumnsActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PowerEditor.TABLE.SET_VISIBLE_COLUMNS";e.exports={actionType:a}}),null);
__d("AdsPEUserSettingsUpdateAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PowerEditor.USER_SETTINGS.UPDATE");e.exports=a}),null);
__d("AdsPEUserSettingsUpdateActionFlux",[],(function(a,b,c,d,e,f){"use strict";a="PowerEditor.USER_SETTINGS.UPDATE";e.exports={actionType:a}}),null);
__d("AdsPERangeTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CUSTOM:"CUSTOM",LAST_14_DAYS:"LAST_14_DAYS",LAST_30_DAYS:"LAST_30_DAYS",LAST_MONTH:"LAST_MONTH",LIFETIME:"LIFETIME",SEVEN_DAYS:"SEVEN_DAYS",THIS_MONTH:"THIS_MONTH",TODAY:"TODAY",YESTERDAY:"YESTERDAY",LAST_WEEK_SUN_SAT:"LAST_WEEK_SUN_SAT",THIS_WEEK_SUN_TODAY:"THIS_WEEK_SUN_TODAY"})}),null);
__d("AdsReportDatePresetTypeToPERangeType",["AdsPERangeTypes","AdsReportDatePresetType","immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Map([[b("AdsReportDatePresetType").LIFETIME,b("AdsPERangeTypes").LIFETIME],[b("AdsReportDatePresetType").TODAY,b("AdsPERangeTypes").TODAY],[b("AdsReportDatePresetType").YESTERDAY,b("AdsPERangeTypes").YESTERDAY],[b("AdsReportDatePresetType").LAST_7_DAYS,b("AdsPERangeTypes").SEVEN_DAYS],[b("AdsReportDatePresetType").LAST_14_DAYS,b("AdsPERangeTypes").LAST_14_DAYS],[b("AdsReportDatePresetType").LAST_30_DAYS,b("AdsPERangeTypes").LAST_30_DAYS],[b("AdsReportDatePresetType").LAST_7D,b("AdsPERangeTypes").SEVEN_DAYS],[b("AdsReportDatePresetType").LAST_14D,b("AdsPERangeTypes").LAST_14_DAYS],[b("AdsReportDatePresetType").LAST_30D,b("AdsPERangeTypes").LAST_30_DAYS],[b("AdsReportDatePresetType").LAST_MONTH,b("AdsPERangeTypes").LAST_MONTH],[b("AdsReportDatePresetType").THIS_MONTH,b("AdsPERangeTypes").THIS_MONTH],[null,b("AdsPERangeTypes").CUSTOM],[void 0,b("AdsPERangeTypes").CUSTOM],[b("AdsReportDatePresetType").THIS_WEEK_SUN_TODAY,b("AdsPERangeTypes").THIS_WEEK_SUN_TODAY],[b("AdsReportDatePresetType").LAST_WEEK_SUN_SAT,b("AdsPERangeTypes").LAST_WEEK_SUN_SAT]]);e.exports=a}),null);
__d("UserStorage",["WebStorage"],(function(a,b,c,d,e,f){__p&&__p();var g=!!b("WebStorage").getLocalStorage();function a(a,c){"use strict";this.uid=a||"",this.project=c||"",this.storage=b("WebStorage").getLocalStorage()}a.prototype.setItem=function(a,b){"use strict";this.setString(a,JSON.stringify(b))};a.prototype.getItem=function(a){"use strict";a=this.getString(a);return a&&JSON.parse(a)};a.prototype.deleteItem=function(a){"use strict";delete this.storage[this._buildKey(a)]};a.prototype.setString=function(a,b){"use strict";this._disabled||(this.storage[this._buildKey(a)]=b)};a.prototype.getString=function(a){"use strict";return this.storage[this._buildKey(a)]};a.prototype._buildKey=function(a){"use strict";return[this.uid,this.project,a].join(":")};a.prototype.cleanup=function(a){"use strict";__p&&__p();a=a||!1;var b=[this.uid,this.project].join(":");for(var c in this.storage){var d=this.storage.hasOwnProperty&&!Object.prototype.hasOwnProperty.call(this.storage,c);if(!c||this.storage[c]===void 0||d)continue;if(!a&&!c.match(b))continue;delete this.storage[c]}};a.prototype.setDisabled=function(a){"use strict";this._disabled=a};a.prototype.isSupported=function(){"use strict";return g&&this.storage!==void 0};Object.assign(a.prototype,{_disabled:!1});e.exports=a}),null);
__d("AdsPEUserStorage",["CurrentUser","UserStorage"],(function(a,b,c,d,e,f){"use strict";a=new(b("UserStorage"))(b("CurrentUser").getID(),"powereditor");e.exports=a}),null);
__d("AdsPEUserSettingsActions",["AdsPEUserSettingsUpdateAction"],(function(a,b,c,d,e,f){"use strict";a={userSettingsUpdated:function(a,c){b("AdsPEUserSettingsUpdateAction").dispatch({userSettingsID:a,settings:c},{line:"19",module:"AdsPEUserSettingsActions.js"})}};e.exports=a}),null);
__d("AdsComparisonPreset",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"NONE",CUSTOM:"CUSTOM",PREVIOUS_PERIOD:"PREVIOUS_PERIOD",PREVIOUS_MONTH:"PREVIOUS_MONTH",PREVIOUS_YEAR:"PREVIOUS_YEAR"})}),null);
__d("AdsPEUserSettingsUtils",["AdObjectLevels","AdsPEUserStorage","flattenArray","getOwnObjectValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={};g[b("AdObjectLevels").CAMPAIGN_GROUP]="campaignGroupIDs";g[b("AdObjectLevels").CAMPAIGN]="campaignIDs";g[b("AdObjectLevels").ADGROUP]="adgroupIDs";function h(a,b,c){c=c[b];b=g[b];return c[a]&&c[a][b]||[]}a={getNewlyCreatedIDs:function(a){var c={},d=b("getOwnObjectValues")(a).map(function(a){return Object.keys(a)});d=new Set(b("flattenArray")(d));d.forEach(function(d){c[d]={adgroupIDs:h(d,b("AdObjectLevels").ADGROUP,a),campaignIDs:h(d,b("AdObjectLevels").CAMPAIGN,a),campaignGroupIDs:h(d,b("AdObjectLevels").CAMPAIGN_GROUP,a)}});return c},deleteAndReturnLocalField:function(a){var c=b("AdsPEUserStorage").getItem(a);if(c){b("AdsPEUserStorage").deleteItem(a);return c}return null},addColumnLabelsToArray:function(a,b){__p&&__p();var c=[];if(typeof b.getColumn!=="function")return null;for(var d=0;d<a.length;d++){var e=a[d],f=b.getColumn(e.value);if(f){f=f.label||f.listSettingsLabel;f&&c.push({value:e.value,label:f,checked:e.checked})}}return c},removeColumnLabelsFromArray:function(a){var b=[];a.forEach(function(a){b.push({checked:a.checked,value:a.value})});return b}};e.exports=a}),null);
__d("AdsPEUserSettingsDataManager",["AdsAccountStore","AdsAPIUserSettingsFields","AdsAPIUserSettingsRecord","AdsComparisonPreset","AdsGraphAPI","AdsPEPreloadingUtils","AdsPEUserSettingsActions","AdsPEUserSettingsDataFields","AdsPEUserSettingsDataManagerPreloader","AdsPEUserSettingsUtils","AdsReportDatePresetTypeToPERangeType","DateTime","immutable","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.prototype.load=function(a){__p&&__p();b("promiseDone")(b("AdsGraphAPI").get(e.id).object("ads_user_settings",a).preloadedBy(b("AdsPEUserSettingsDataManagerPreloader").preloader,b("AdsPEPreloadingUtils").defaultConfig).get({fields:b("AdsPEUserSettingsDataFields").fields}),function(c){__p&&__p();var d={},e=[b("AdsAPIUserSettingsFields").ADGROUP_WIDTHS,b("AdsAPIUserSettingsFields").CAMPAIGN_WIDTHS,b("AdsAPIUserSettingsFields").CAMPAIGN_GROUP_WIDTHS];e.forEach(function(a){var b=c[a];if(b){b=this.$1(b);d[a]=b}}.bind(this));d[b("AdsAPIUserSettingsFields").SELECTED_POWER_EDITOR_PANE]=c[b("AdsAPIUserSettingsFields").SELECTED_POWER_EDITOR_PANE];d[b("AdsAPIUserSettingsFields").ADGROUP_COLUMN_VISIBILITY]=b("immutable").List(c[b("AdsAPIUserSettingsFields").ADGROUP_COLUMN_VISIBILITY]);d[b("AdsAPIUserSettingsFields").CAMPAIGN_COLUMN_VISIBILITY]=b("immutable").List(c[b("AdsAPIUserSettingsFields").CAMPAIGN_COLUMN_VISIBILITY]);d[b("AdsAPIUserSettingsFields").CAMPAIGN_GROUP_COLUMN_VISIBILITY]=b("immutable").List(c[b("AdsAPIUserSettingsFields").CAMPAIGN_GROUP_COLUMN_VISIBILITY]);d[b("AdsAPIUserSettingsFields").SELECTED_AD_ACCOUNT]=b("immutable").Map(c[b("AdsAPIUserSettingsFields").SELECTED_AD_ACCOUNT]);e=new(b("AdsAPIUserSettingsRecord"))(d);b("AdsPEUserSettingsActions").userSettingsUpdated(a,e)}.bind(this))};a.prototype.setColumnListSettings=function(a,c,d,e){var f={};f[b("AdsAPIUserSettingsFields").ADGROUP_COLUMN_VISIBILITY]=b("AdsPEUserSettingsUtils").removeColumnLabelsFromArray(c);f[b("AdsAPIUserSettingsFields").CAMPAIGN_COLUMN_VISIBILITY]=b("AdsPEUserSettingsUtils").removeColumnLabelsFromArray(d);f[b("AdsAPIUserSettingsFields").CAMPAIGN_GROUP_COLUMN_VISIBILITY]=b("AdsPEUserSettingsUtils").removeColumnLabelsFromArray(e);this.$2(a,f);return f};a.prototype.setSelectedStatRange=function(a,c,d,e,f){var g={},h={};h.range_type=b("AdsReportDatePresetTypeToPERangeType").get(c);c=b("AdsAccountStore").getTimezoneID();d&&(h.start=b("DateTime").fromISOString(d.start,c).getParallel(c).startOfDay().instant,h.end=b("DateTime").fromISOString(d.end,c).getParallel(c).startOfDay().addDays(-1).instant);g[b("AdsAPIUserSettingsFields").SELECTED_STAT_RANGE]=h;e?g[b("AdsAPIUserSettingsFields").SELECTED_COMPARISON_TIMERANGE]={range_type:f,start:b("DateTime").fromISOString(e.start,c).getParallel(c).startOfDay().instant,end:b("DateTime").fromISOString(e.end,c).getParallel(c).startOfDay().instant}:g[b("AdsAPIUserSettingsFields").SELECTED_COMPARISON_TIMERANGE]={range_type:b("AdsComparisonPreset").NONE};this.$2(a,g);return g};a.prototype.setSelectedAccountID=function(a,c){var d={};d[b("AdsAPIUserSettingsFields").SELECTED_AD_ACCOUNT_ID]="act_"+c;this.$2(a,d,!0)};a.prototype.setSelectedPane=function(a,c){var d={};d[b("AdsAPIUserSettingsFields").SELECTED_POWER_EDITOR_PANE]=c;this.$2(a,d);return d};a.prototype.$2=function(a,c,d){b("AdsGraphAPI").get(e.id).object("settings",a).post(c)["finally"](function(){d&&this.load(a)}.bind(this))};a.prototype.$1=function(a){var c={};a.forEach(function(a){c[a.column_key]=a.width});return b("immutable").Map(c)};function a(){}e.exports=new a()}),null);
__d("AdsPEAdAccountSortLiveStore",["AdObjectLevels","AdsInsightsField","AdsPEBaseSortLiveStore","AdsPEFluxActionTypes","AdsPESortInfo","AdsReportDatePresetType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("AdsPEBaseSortLiveStore"));g&&g.prototype;a.prototype.__getObjectLevel=function(){return b("AdObjectLevels").AD_ACCOUNT};a.prototype.__getSortActionType=function(){return b("AdsPEFluxActionTypes").AD_ACCOUNT_TABLE.SET_SORT_KEY};a.prototype.__getDefaultSortInfo=function(){return new(b("AdsPESortInfo"))({dataKey:b("AdsInsightsField").SPEND,datePreset:b("AdsReportDatePresetType").THIS_MONTH,sorting:"DESC",comparisonColumnType:""})};function a(){g.apply(this,arguments)}e.exports=new a()}),null);
__d("AdsPEUserSettingsStore",["AdObjectLevels","AdsAccountStore","AdsAPIAdAccountFields","AdsAPIUserSettingsFields","AdsDataAtom","AdsNavigationChangeNavigationStateDataActionFlux","AdsPEFluxStatsSetStatRangeActionFlux","AdsPEPaneUtils_LEGACY","AdsPETableSetVisibleColumnsActionFlux","AdsPEUserSettingsDataManager","AdsPEUserSettingsUpdateActionFlux","AdsUserBatchLoadedDataActionFlux","AdsUserSettingsBaseStore","CurrentUser","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("gkx")("779516");g=babelHelpers.inherits(a,b("AdsUserSettingsBaseStore"));h=g&&g.prototype;a.prototype.__getActionTypes=function(){var a;return!i?null:[].concat((a=h.__getActionTypes.call(this))!=null?a:[],[b("AdsNavigationChangeNavigationStateDataActionFlux").actionType,b("AdsPEFluxStatsSetStatRangeActionFlux").actionType,b("AdsPETableSetVisibleColumnsActionFlux").actionType,b("AdsPEUserSettingsUpdateActionFlux").actionType,b("AdsUserBatchLoadedDataActionFlux").actionType])};a.prototype.__getDependencyStores=function(){return i?[b("AdsAccountStore")]:[]};a.prototype.reduce=function(a,c){__p&&__p();var d=c.action;i?this.getDispatcher().waitFor(this.getDependencyDispatchTokens()):b("AdsDataAtom").waitFor([b("AdsAccountStore").getDispatchToken()]);a=b("AdsAccountStore").hasChanged()?this.$AdsPEUserSettingsStore1(a):a;switch(d.type){case b("AdsUserBatchLoadedDataActionFlux").actionType:return this.$AdsPEUserSettingsStore2(a,d.responses);case b("AdsPEUserSettingsUpdateActionFlux").actionType:return this.__handleUpdate(a,d.userSettingsID,d.settings);case b("AdsPEFluxStatsSetStatRangeActionFlux").actionType:return this.$AdsPEUserSettingsStore3(a,d.rangeType,d.statRange,d.comparisonTimeRange,d.comparePreset);case b("AdsPETableSetVisibleColumnsActionFlux").actionType:return this.$AdsPEUserSettingsStore4(a,d.visibleColumns);case b("AdsNavigationChangeNavigationStateDataActionFlux").actionType:return this.$AdsPEUserSettingsStore5(a,d.navState);default:return h.reduce.call(this,a,c)}};a.prototype.__load=function(a){b("AdsPEUserSettingsDataManager").load(a)};a.prototype.$AdsPEUserSettingsStore2=function(a,c){var d=b("CurrentUser").getAccountID();c=c.get(d);d=c.ads_user_settings;d&&(this.__userSettingsID=d.id,this.get(d.id));return a};a.prototype.$AdsPEUserSettingsStore4=function(a,c){var d=c[b("AdObjectLevels").ADGROUP],e=c[b("AdObjectLevels").CAMPAIGN];c=c[b("AdObjectLevels").CAMPAIGN_GROUP];if(this.__userSettingsID){var f=this.__userSettingsID;d=b("AdsPEUserSettingsDataManager").setColumnListSettings(this.__userSettingsID,d,e,c);return this.$AdsPEUserSettingsStore6(a,f,d)}return a};a.prototype.$AdsPEUserSettingsStore3=function(a,c,d,e,f){var g=this.__userSettingsID;if(g){c=b("AdsPEUserSettingsDataManager").setSelectedStatRange(g,c,d,e,f);return this.$AdsPEUserSettingsStore6(a,g,c)}return a};a.prototype.$AdsPEUserSettingsStore1=function(a){var c=b("AdsAccountStore").getSelectedAccountID();if(c&&this.__userSettingsID){var d=this.get(this.__userSettingsID).getValue(),e=null;d&&(e=d.get(b("AdsAPIUserSettingsFields").SELECTED_AD_ACCOUNT).get(b("AdsAPIAdAccountFields").ACCOUNT_ID));(!e||e!==c)&&this.__userSettingsID&&b("AdsPEUserSettingsDataManager").setSelectedAccountID(this.__userSettingsID,c)}return a};a.prototype.$AdsPEUserSettingsStore5=function(a,c){__p&&__p();c=b("AdsPEPaneUtils_LEGACY").getPaneFromNavState(c);if(this.__userSettingsID&&b("AdsPEPaneUtils_LEGACY").isValidPane(c)){var d=this.get(this.__userSettingsID).getValue();if((!d||d.get(b("AdsAPIUserSettingsFields").SELECTED_POWER_EDITOR_PANE)!==c)&&this.__userSettingsID){d=this.__userSettingsID;c=b("AdsPEUserSettingsDataManager").setSelectedPane(d,c);return this.$AdsPEUserSettingsStore6(a,d,c)}}return a};a.prototype.$AdsPEUserSettingsStore6=function(a,b,c){var d=this.get(b);if(d.hasValue()){d=d.getValueEnforcing();return this.__handleUpdate(a,b,d.merge(c))}return a};function a(){g.apply(this,arguments)}e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsSelectionLevelSelector",["AdsPENavigationUtils","AdsValidationViewActiveSelector","AdsValidationViewSelectionDataProvider","adsCreateSelector","adsCreateStoreSelector","adsMgmtGlobalTreeObjectSelectionLevelSelector","adsMgmtIsGlobalTreeViewActiveSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsValidationViewSelectionDataProvider").toFluxStore();a=b("adsCreateStoreSelector")([g],function(){var a=g.getState();a=a.level;return a},e.id+".getValidationViewObjectLevelSelector");c=b("adsCreateStoreSelector")([],function(a){return a},e.id+".getNavSection");d=b("adsCreateSelector")([c,b("AdsValidationViewActiveSelector"),a,b("adsMgmtIsGlobalTreeViewActiveSelector"),b("adsMgmtGlobalTreeObjectSelectionLevelSelector")],function(a,c,d,e,f){if(c)return d;else if(e)return f;else return b("AdsPENavigationUtils").getAdObjectLevelFromNavSection(a)},{name:e.id+".AdsSelectionLevelSelector"});e.exports=d}),null);
__d("adsMgmtGlobalTreeGetAvailableIDsSelector",["AdObjectLevels","AdsMgmtGlobalTreeRootLevelSelector","AdsPEAdgroupAvailableIDStore","AdsPECampaignAvailableIDStore","AdsPECampaignGroupAvailableIDStore","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsPEAdgroupAvailableIDStore").getAvailableIDs,b("AdsPECampaignAvailableIDStore").getAvailableIDs,b("AdsPECampaignGroupAvailableIDStore").getAvailableIDs,b("AdsMgmtGlobalTreeRootLevelSelector")],function(a,c,d,e){switch(e){case b("AdObjectLevels").CAMPAIGN:return c;case b("AdObjectLevels").ADGROUP:return a;case b("AdObjectLevels").CAMPAIGN_GROUP:default:return d}},{name:e.id+".adsMgmtGlobalTreeGetAvailableIDsSelector"});e.exports=a}),null);
__d("AdsPETableViewStore",["invariant","AdObjectLevels","AdsAccountStore","AdsDataAtom","AdsInsightsFilter","AdsInsightsSettingsStore","AdsInsightsTimeRange","AdsInsightsUserFilterUtil","AdsInsightsViewSpec","AdsInterfacesNavSections","AdsManagerNavigationGatingUtils","AdsMgmtGlobalTreeRootLevelSelector","AdsObjectTypes","AdsObjectTypeUtils","AdsPEAdAccountSortLiveStore","AdsPEAdgroupSortLiveStore","AdsPEBreakdownStore","AdsPECampaignGroupSelectionStore","AdsPECampaignGroupSortLiveStore","AdsPECampaignSelectionStore","AdsPECampaignSortLiveStore","AdsPEColumnsStore","AdsPECreativeSortLiveStore","AdsPEFilterSetUtil","AdsPEFilterUIStateStore","AdsPENavigationStore","AdsPENavigationUtils","AdsPENavSectionToAvailableIDStoreMap","AdsPENavSectionToSelectionSelectorMap","AdsPEStatRangeUIStore","AdsPEUserSettingsStore","AdsSelectionLevelSelector","FluxStore","LocalDateInterval","adsMgmtGlobalTreeGetAvailableIDsSelector","adsMgmtIsGlobalTreeViewActiveSelector","adsPEObjectTypeSelector","areEqual","gkx","keyMirror","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("AdsManagerNavigationGatingUtils").getHasGlobalTreeTable();var i=b("gkx")("779516");d=c?b("AdsMgmtGlobalTreeRootLevelSelector").getStores():[];var j=[b("AdsAccountStore"),b("AdsInsightsSettingsStore"),b("AdsPEAdAccountSortLiveStore"),b("AdsPEAdgroupSortLiveStore"),b("AdsPEBreakdownStore"),b("AdsPECampaignGroupSelectionStore"),b("AdsPECampaignGroupSortLiveStore"),b("AdsPECampaignSortLiveStore"),b("AdsPECampaignSelectionStore"),b("AdsPECreativeSortLiveStore"),b("AdsPEFilterUIStateStore"),b("AdsPENavigationStore"),b("AdsPEColumnsStore"),b("AdsPEStatRangeUIStore"),b("AdsPEUserSettingsStore")].concat(d),k=[].concat(b("adsPEObjectTypeSelector").getStores(),b("AdsPENavSectionToSelectionSelectorMap").selectedIDsSelector.getStores(),b("AdsPENavSectionToAvailableIDStoreMap").toArray()),l=b("keyMirror")({chart:null,table:null});f=babelHelpers.inherits(a,b("FluxStore"));h=f&&f.prototype;function a(){h.constructor.call(this,b("AdsDataAtom")),i||(this.$AdsPETableViewStore4=j.map(function(a){return a.getDispatchToken()}),this.$AdsPETableViewStore3=k.map(function(a){return a.getDispatchToken()})),this.$AdsPETableViewStore1=!0,this.$AdsPETableViewStore5=-1,this.$AdsPETableViewStore7=0}a.prototype.get=function(){return b("nullthrows")(this.getOrNull())};a.prototype.getOrNull=function(){if(this.$AdsPETableViewStore5<this.$AdsPETableViewStore7){var a=this.$AdsPETableViewStore8(l.table);b("areEqual")(this.$AdsPETableViewStore6,a)||(this.$AdsPETableViewStore6=a);this.$AdsPETableViewStore5=this.$AdsPETableViewStore7}return this.$AdsPETableViewStore6};a.prototype.getChartOrNull=function(){if(this.$AdsPETableViewStore1){var a=this.$AdsPETableViewStore8(l.chart);b("areEqual")(this.$AdsPETableViewStore2,a)||(this.$AdsPETableViewStore2=a);this.$AdsPETableViewStore1=!1}return this.$AdsPETableViewStore2};a.prototype.getVersion=function(){return this.$AdsPETableViewStore7};a.prototype.$AdsPETableViewStore8=function(a){var c=b("adsPEObjectTypeSelector")(),d=this.$AdsPETableViewStore9(),e=b("AdsPEBreakdownStore").get(),f=b("AdsInsightsSettingsStore").get(),g=this.$AdsPETableViewStore10(),h=this.$AdsPETableViewStore11();a=this.$AdsPETableViewStore12(a);var i=this.$AdsPETableViewStore13(),j=this.$AdsPETableViewStore14();return b("AdsInsightsViewSpec").create(babelHelpers["extends"]({},d,g,{breakdowns:e,filter:a,insights:f,navSection:j,objectType:c,sort:h,userFilter:i}))};a.prototype.__getActionTypes=function(){return i?[]:null};a.prototype.__getDependencyStores=function(){return i?[].concat(j,k):[]};a.prototype.__onDispatch=function(a){a.action,i?this.getDispatcher().waitFor(this.getDependencyDispatchTokens()):this.getDispatcher().waitFor([].concat(this.$AdsPETableViewStore4,this.$AdsPETableViewStore3)),j.some(function(a){return a.hasChanged()})?(this.$AdsPETableViewStore1=!0,this.$AdsPETableViewStore7++,this.__emitChange()):k.some(function(a){return a.hasChanged()})&&(this.$AdsPETableViewStore1=!0,this.__emitChange())};a.prototype.$AdsPETableViewStore15=function(a,c){if(!c)return b("AdsInsightsTimeRange").interval(b("LocalDateInterval").fromStrings(a.start,a.end));else return b("AdsInsightsTimeRange").preset(c)};a.prototype.$AdsPETableViewStore16=function(a,c){if(!c)return b("AdsInsightsTimeRange").interval(b("LocalDateInterval").fromStrings(a.start,a.end));else return b("AdsInsightsTimeRange").preset(c)};a.prototype.$AdsPETableViewStore17=function(a){switch(a){case b("AdsInterfacesNavSections").ACCOUNT:return b("AdsPEAdAccountSortLiveStore").getSortInfo;case b("AdsInterfacesNavSections").CREATIVES:return b("AdsPECreativeSortLiveStore").getSortInfo;case b("AdsInterfacesNavSections").L1:case b("AdsInterfacesNavSections").VALIDATION_L1:return b("AdsPEAdgroupSortLiveStore").getSortInfo;case b("AdsInterfacesNavSections").L2:case b("AdsInterfacesNavSections").VALIDATION_L2:return b("AdsPECampaignSortLiveStore").getSortInfo;case b("AdsInterfacesNavSections").L3:case b("AdsInterfacesNavSections").VALIDATION_L3:return b("AdsPECampaignGroupSortLiveStore").getSortInfo;case b("AdsInterfacesNavSections").GLOBAL_TREE:case b("AdsInterfacesNavSections").RECOMMENDATIONS:case b("AdsInterfacesNavSections").CONVERSION_HEALTH:return this.$AdsPETableViewStore18()}return g(!1,"Invalid AdsInterfacesNavSections %s",a)};a.prototype.$AdsPETableViewStore18=function(){var a=b("AdsMgmtGlobalTreeRootLevelSelector")();switch(a){case b("AdObjectLevels").CAMPAIGN_GROUP:return b("AdsPECampaignGroupSortLiveStore").getSortInfo;case b("AdObjectLevels").CAMPAIGN:return b("AdsPECampaignSortLiveStore").getSortInfo;case b("AdObjectLevels").ADGROUP:return b("AdsPEAdgroupSortLiveStore").getSortInfo;default:return g(!1,"Root level %s is not supported!",a)}};a.prototype.$AdsPETableViewStore11=function(){var a=this.$AdsPETableViewStore14();if(!a)return[];a=this.$AdsPETableViewStore17(a)();var b={field:a.dataKey,direction:a.sorting==="ASC"?1:-1};a.comparisonColumnType&&(b=babelHelpers["extends"]({},b,{comparisonColumnType:a.comparisonColumnType}));return[b]};a.prototype.$AdsPETableViewStore14=function(){return b("AdsPENavigationStore").getManageAdsSection()};a.prototype.$AdsPETableViewStore13=function(){var a=b("AdsPEFilterUIStateStore").getFilterSet();a=a?a.values:[];return a.map(function(a){var c=a.field.name,d=a.operator;a=a.value;return{field:c,operator:d,value:b("AdsInsightsUserFilterUtil").coerceValue(d,a)}})};a.prototype.$AdsPETableViewStore12=function(a){__p&&__p();var c=this.$AdsPETableViewStore19();if(c===b("AdObjectLevels").AD_ACCOUNT){var d=b("AdsAccountStore").getSelectedAccountIDX();d=b("AdsInsightsFilter").idIn(b("AdsObjectTypes").ACCOUNT,[d]);return b("AdsInsightsFilter").normalizeIDClauses([].concat(d))}d=b("adsPEObjectTypeSelector")();var e=[];if(c!==b("AdObjectLevels").AD_ACCOUNT&&a!==l.table){c=b("AdsPENavigationStore").getManageAdsSection();a=b("AdsPENavSectionToSelectionSelectorMap").selectedIDsSelector(c);if(a.length===0){var f=c?b("AdsPENavSectionToAvailableIDStoreMap").get(c):null;a=f?f.getAvailableIDs():[];f==null&&c===b("AdsInterfacesNavSections").GLOBAL_TREE&&(a=b("adsMgmtGlobalTreeGetAvailableIDsSelector")())}else{f=b("AdsSelectionLevelSelector")(b("AdsPENavigationStore").getManageAdsSection());d=b("nullthrows")(b("AdsObjectTypeUtils").fromObjectLevel(f))}e=b("AdsInsightsFilter").idIn(d,a)}else{c=this.$AdsPETableViewStore20(d);f=c.filteringObjectIDs;a=c.filteringObjectType;e=b("AdsInsightsFilter").idIn(a,f)}c=b("AdsPEFilterUIStateStore").getFilterSet();a=b("AdsPEFilterSetUtil").toMultiLevelAPISpec(c);f=a.map(function(a){var c=b("AdsInsightsFilter").splitFieldFromFilterObjectType(a.field);return{field:b("AdsInsightsFilter").field(c[0],c[1]),operator:a.operator,value:a.value}});c=!!b("AdsInsightsFilter").getExplicitDeliveryClause(f,d);a=c?[]:b("AdsInsightsFilter").excludeArchivedDeleted(d);return b("AdsInsightsFilter").normalizeIDClauses([].concat(e,f,a))};a.prototype.$AdsPETableViewStore10=function(){return{columns:b("AdsPEColumnsStore").get(),benchmarkDerivedColumnIDs:b("AdsPEColumnsStore").getBenchmarkDerivedColumnIDsOrNull()}};a.prototype.$AdsPETableViewStore9=function(){var a=b("AdsAccountStore").getSelectedAccount_LEGACY();a={timeRange:this.$AdsPETableViewStore16(b("AdsPEStatRangeUIStore").getStatRangeString(a),b("AdsPEStatRangeUIStore").getRangeType())};var c=b("AdsPEStatRangeUIStore").getComparisonOrNull();c&&(a=babelHelpers["extends"]({},a,{comparisonTimeRange:this.$AdsPETableViewStore15(c)}));return a};a.prototype.$AdsPETableViewStore19=function(){if(b("adsMgmtIsGlobalTreeViewActiveSelector")())return b("AdsMgmtGlobalTreeRootLevelSelector")();else return b("AdsPENavigationUtils").getAdObjectLevelFromNavSection(b("AdsPENavigationStore").getManageAdsSection())};a.prototype.$AdsPETableViewStore20=function(a){switch(a){case b("AdsObjectTypes").ADGROUP:a=b("AdsPECampaignSelectionStore").getSelectedIDs();if(a.length>0)return{filteringObjectIDs:a,filteringObjectType:b("AdsObjectTypes").CAMPAIGN};case b("AdsObjectTypes").CAMPAIGN:a=b("AdsPECampaignGroupSelectionStore").getSelectedIDs();if(a.length>0)return{filteringObjectIDs:a,filteringObjectType:b("AdsObjectTypes").CAMPAIGN_GROUP};default:a=b("AdsAccountStore").getSelectedAccount_LEGACY();return{filteringObjectIDs:[a.account_id],filteringObjectType:b("AdsObjectTypes").ACCOUNT}}};a.__moduleID=e.id;e.exports=new a()}),null);