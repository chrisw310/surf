if (self.CavalryLogger) { CavalryLogger.start_js(["+I\/QN"]); }

__d("AnalyticsGraphAPIConfig",[],(function(a,b,c,d,e,f){e.exports={GRAPH_API_VERSION:"3.0",MARKETING_GRAPH_API_VERSION:"3.0"}}),null);
__d("AdsCMURI",["AdsAccountStore","AdsCMStateConfig","AdsCMURIUtil","AdsCMURLParams","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("URI"));g=c&&c.prototype;function a(a){g.constructor.call(this,b("AdsCMURIUtil").BASE_PATH),this.$AdsCMURI1={},this.$AdsCMURI2(b("AdsCMStateConfig").getKey("PAGE"),a),b("AdsAccountStore").getSelectedAccountID()&&this.setAccountID(b("AdsAccountStore").getSelectedAccountID())}a.prototype.setAccountID=function(a){a!=null&&a!==""&&this.$AdsCMURI2(b("AdsCMStateConfig").getKey("ACCOUNT_ID"),a);return this};a.prototype.setAdgroupID=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("ADGROUP_ID"),a);return this};a.prototype.setCampaignID=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("CAMPAIGN"),a);return this};a.prototype.setCampaignGroupID=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("CAMPAIGN_GROUP"),a);return this};a.prototype.setCFLinkOrigin=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("CF_LINK_ORIGIN"),a);return this};a.prototype.setCreationStartLevel=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("CREATION_START_LEVEL"),a);return this};a.prototype.setCurrentIDs=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("CURRENT_IDS"),a);return this};a.prototype.setLinkOrigin=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey(b("AdsCMStateConfig").getKey("LINK_ORIGIN"),a),a);return this};a.prototype.setSelectedAdgroupIDs=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("SELECTED_ADGROUP_IDS"),a);return this};a.prototype.setSelectedCampaignIDs=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("SELECTED_CAMPAIGN_IDS"),a);return this};a.prototype.setSelectedCampaignGroupIDs=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("SELECTED_CAMPAIGN_GROUP_IDS"),a);return this};a.prototype.resetToDefaults=function(){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("RESET_TO_HOME"),1);return this};a.prototype.setTab=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("TAB"),a);return this};a.prototype.setTransactionDetails=function(a,c){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("TRANSACTION_ID"),a);this.$AdsCMURI2(b("AdsCMStateConfig").getKey("TRANSACTION_TYPE"),c);return this};a.prototype.setPixelID=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("PIXEL_ID"),a);return this};a.prototype.setBlockListID=function(a){this.$AdsCMURI2(b("AdsCMStateConfig").getKey("BLOCK_LIST_ID"),a);return this};a.prototype.getStateData=function(){return this.$AdsCMURI1};a.prototype.$AdsCMURI2=function(a,c){__p&&__p();this.$AdsCMURI1[a]=c;a=b("AdsCMStateConfig").getURLParamKey(a);if(a==null||a==="")return;var d=c;(a===b("AdsCMURLParams").CURRENT_IDS||a===b("AdsCMURLParams").SELECTED_AD_IDS||a===b("AdsCMURLParams").SELECTED_AD_SET_IDS||a===b("AdsCMURLParams").SELECTED_CAMPAIGN_IDS)&&(Array.isArray(c)&&(d=c.join(",")));c=b("AdsCMURIUtil").getParamsFromURI(this);c[a]=d;a=b("AdsAccountStore").getSelectedAccountID();d=b("AdsCMURIUtil").getURIFromQueryData(c,a);this.setPath(d.getPath());this.setQueryData(d.getQueryData())};e.exports=a}),null);
__d("PartnerIntegrationDialogLoggingScopesProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("immutable").List()};e.exports=a}),null);
__d("PartnerIntegrationDialogLoggingScopesProvider",["Laminar","PartnerIntegrationDialogLoggingScopesProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationDialogLoggingScopesProviderPlugin"),"PartnerIntegrationDialogLoggingScopesProviderPlugin")}),null);
__d("PartnerIntegrationDialogLoggingScopesReducerPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("immutable").List(c.loggingScopes)}};e.exports=a}),null);
__d("PartnerIntegrationDialogLoggingScopesAction",["Laminar","PartnerIntegrationDialogLoggingScopesReducerPlugin","PartnerIntegrationDialogLoggingScopesProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("PartnerIntegrationDialogLoggingScopesReducerPlugin"),b("PartnerIntegrationDialogLoggingScopesProvider"),{})]},function(){return[]},"PARTNER_INTEGRATION.DIALOG_LOGGING_SCOPES");e.exports=a}),null);
__d("PartnerIntegrationRecommendationWebsiteDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("PartnerIntegrationRecommendationWebsiteDataProvider",["Laminar","PartnerIntegrationRecommendationWebsiteDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationRecommendationWebsiteDataProviderPlugin"),"PartnerIntegrationRecommendationWebsiteDataProviderPlugin")}),null);
__d("PartnerIntegrationSelectedAdAccountIDSelectorPlugin",["BusinessConf"],(function(a,b,c,d,e,f){"use strict";a={select:function(a){var c=a.accountID;a=a.uri;a=a.getQueryData();return a[b("BusinessConf").ACCOUNT_ID_PARAM_NAME]||a[b("BusinessConf").ACCOUNT_ID_PARAM_NAME_LONG]||(c!==null&&c!==void 0&&c!==""?c:null)}};e.exports=a}),null);
__d("PartnerIntegrationWindowUriReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.uri}};e.exports=a}),null);
__d("PartnerIntegrationWindowUriAction",["Laminar","PartnerIntegrationWindowUriReducerPlugin","PartnerIntegrationWindowUriDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("PartnerIntegrationWindowUriReducerPlugin"),b("PartnerIntegrationWindowUriDataProvider"),{})]},function(){return[]},"PARTNER_INTEGRATION.WINDOW_URI.CHANGED");e.exports=a}),null);
__d("PartnerIntegrationWindowUriDataProvider",["Laminar","PartnerIntegrationWindowUriDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationWindowUriDataProviderPlugin"),"PartnerIntegrationWindowUriDataProviderPlugin")}),null);
__d("PartnerIntegrationWindowUriDataProviderPlugin",["PartnerIntegrationWindowUriAction","URI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(){return new(b("URI"))(window.location.href)},h=function(a){return b("PartnerIntegrationWindowUriAction").dispatch({uri:a},{line:"22",module:"PartnerIntegrationWindowUriDataProviderPlugin.js"})};a=function(){window.addEventListener("popstate",function(){return h(g())});return g()};c={initialState:a()};e.exports=c}),null);
__d("PartnerIntegrationSelectedAdAccountIDSelector",["Laminar","PartnerIntegrationSelectedAdAccountIDDataProvider","PartnerIntegrationSelectedAdAccountIDSelectorPlugin","PartnerIntegrationWindowUriDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createExperimentalSelector1({accountID:b("PartnerIntegrationSelectedAdAccountIDDataProvider"),uri:b("PartnerIntegrationWindowUriDataProvider")},b("PartnerIntegrationSelectedAdAccountIDSelectorPlugin").select);e.exports=a}),null);
__d("PartnerIntegrationSelectedBusinessIDDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("PartnerIntegrationSelectedBusinessIDDataProvider",["Laminar","PartnerIntegrationSelectedBusinessIDDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationSelectedBusinessIDDataProviderPlugin"),"PartnerIntegrationSelectedBusinessIDDataProviderPlugin")}),null);
__d("PartnerIntegrationSelectedBusinessIDSelectorPlugin",["BusinessConf"],(function(a,b,c,d,e,f){"use strict";a={select:function(a){var c=a.businessID;a=a.uri;a=a.getQueryData();return a[b("BusinessConf").BIZ_ID_PARAM_NAME]||(c!=null&&c!==""?c:null)}};e.exports=a}),null);
__d("PartnerIntegrationSelectedBusinessIDSelector",["Laminar","PartnerIntegrationSelectedBusinessIDDataProvider","PartnerIntegrationSelectedBusinessIDSelectorPlugin","PartnerIntegrationWindowUriDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createExperimentalSelector1({businessID:b("PartnerIntegrationSelectedBusinessIDDataProvider"),uri:b("PartnerIntegrationWindowUriDataProvider")},b("PartnerIntegrationSelectedBusinessIDSelectorPlugin").select);e.exports=a}),null);
__d("PartnerIntegrationSelectedIntegrationIDDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("PartnerIntegrationSelectedIntegrationIDDataProvider",["Laminar","PartnerIntegrationSelectedIntegrationIDDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationSelectedIntegrationIDDataProviderPlugin"),"PartnerIntegrationSelectedIntegrationIDDataProviderPlugin")}),null);
__d("PartnerIntegrationSelectedPartnerTypeDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("PartnerIntegrationSelectedPartnerTypeDataProvider",["Laminar","PartnerIntegrationSelectedPartnerTypeDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationSelectedPartnerTypeDataProviderPlugin"),"PartnerIntegrationSelectedPartnerTypeDataProviderPlugin")}),null);
__d("PartnerIntegrationSelectedPixelIDDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:null};e.exports=a}),null);
__d("PartnerIntegrationSelectedPixelIDDataProvider",["Laminar","PartnerIntegrationSelectedPixelIDDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("PartnerIntegrationSelectedPixelIDDataProviderPlugin"),"PartnerIntegrationSelectedPixelIDDataProviderPlugin")}),null);
__d("PartnerIntegrationSelectedPixelIDSelectorPlugin",[],(function(a,b,c,d,e,f){"use strict";a={select:function(a){var b=a.pixelID;a=a.uri;if(b!=null)return b;b=a.getQueryData();return b.pixel_id!=null&&b.pixel_id!==""?b.pixel_id:null}};e.exports=a}),null);
__d("PartnerIntegrationSelectedPixelIDSelector",["Laminar","PartnerIntegrationSelectedPixelIDDataProvider","PartnerIntegrationSelectedPixelIDSelectorPlugin","PartnerIntegrationWindowUriDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createExperimentalSelector1({pixelID:b("PartnerIntegrationSelectedPixelIDDataProvider"),uri:b("PartnerIntegrationWindowUriDataProvider")},b("PartnerIntegrationSelectedPixelIDSelectorPlugin").select);e.exports=a}),null);
__d("PartnerIntegrationSelectedIntegrationIDReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){if(b.data)return b.data.params.partner_integration_id;return b.partnerIntegrationID!==void 0?b.partnerIntegrationID:null}};e.exports=a}),null);
__d("PartnerIntegrationSelectedPartnerTypeReducerPlugin",["PartnerIntegrationPartnerList"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){a=null;c.partnerType!==void 0&&(a=c.partnerType);c.data&&(a=c.data.params.partner_type);return b("PartnerIntegrationPartnerList").partners.includes(a)?a:null}};e.exports=a}),null);
__d("PartnerIntegrationLoggerActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({DOWNLOAD_CLICKED:null,EMAIL_CLICKED:null,FILTERED_PARTIAL_PARTNER_INTEGRATION:null,OFFLINE_CONVERSIONS_TERMS_CLICKED:null,PIXEL_CREATE_WITH_WEBSITE_URL_CLICKED:null,REDIRECT_USER_WITHOUT_BUSINESS_ACCOUNT:null,RELAUNCH_CLICKED:null,SWITCH_GOOGLE_ACCOUNT_CLICKED:null,ZAPIER_PRICE_MODEL_LINK_CLICKED:null,ZAPIER_SIGN_UP_LINK_CLICKED:null})}),null);
__d("partnerIntegrationSecondaryLogger",["PartnerIntegrationRecommendationWebsiteDataProvider","PartnerIntegrationSelectedAdAccountIDSelector","PartnerIntegrationSelectedBusinessIDSelector","PartnerIntegrationSelectedIntegrationIDDataProvider","PartnerIntegrationSelectedPartnerTypeDataProvider","PartnerIntegrationSelectedPixelIDSelector"],(function(a,b,c,d,e,f){"use strict";var g=b("PartnerIntegrationSelectedAdAccountIDSelector").toFluxSelector(),h=b("PartnerIntegrationSelectedBusinessIDSelector").toFluxSelector(),i=b("PartnerIntegrationSelectedIntegrationIDDataProvider").toFluxSelector(),j=b("PartnerIntegrationSelectedPartnerTypeDataProvider").toFluxSelector(),k=b("PartnerIntegrationSelectedPixelIDSelector").toFluxSelector(),l=b("PartnerIntegrationRecommendationWebsiteDataProvider").toFluxSelector();function a(){var a=g(),b=h(),c=i(),d=j(),e=k(),f=l();return{adAccountID:a,businessID:b,integrationID:c,partnerType:d,pixelID:e,websiteUrl:f}}e.exports=a}),null);
__d("signalsLoggingPartnerIntegrationsListener",["immutable","SignalsSecondaryLoggingOptionsEnum"],(function(a,b,c,d,e,f){"use strict";c=b("immutable").Set;var g=c([b("SignalsSecondaryLoggingOptionsEnum").MERGE_DATA_BY_TYPE]);function a(a){return{type:"PARTNER_INTEGRATIONS_CONTEXT",cb:a,options:g}}e.exports=a}),null);
__d("PartnerIntegrationDialogLogger",["PartnerIntegrationSelectedAdAccountIDSelector","PartnerIntegrationSelectedBusinessIDSelector","PartnerIntegrationSelectedPixelIDSelector","SignalsDataSourcesEnum","SignalsLogging","SignalsLoggingNamespaceEnum","partnerIntegrationSecondaryLogger","signalsLoggingEventsManagerContextListener","signalsLoggingPartnerIntegrationsListener"],(function(a,b,c,d,e,f){"use strict";var g=b("PartnerIntegrationSelectedAdAccountIDSelector").toFluxSelector(),h=b("PartnerIntegrationSelectedBusinessIDSelector").toFluxSelector(),i=b("PartnerIntegrationSelectedPixelIDSelector").toFluxSelector();a=function(){var a=null,c=g(),d=h(),e=i();e!==null&&e!==""&&(a=b("SignalsDataSourcesEnum").PIXEL);return{adAccountID:c,businessID:d,dataSourceID:e,dataSourceType:a}};c=b("SignalsLogging").namespace(b("SignalsLoggingNamespaceEnum").ADS_SIGNALS).secondary(b("signalsLoggingEventsManagerContextListener"),a).secondary(b("signalsLoggingPartnerIntegrationsListener"),b("partnerIntegrationSecondaryLogger"));e.exports=c}),null);
__d("AnalyticsDateRangeStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable","Timezone"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i=b("AnalyticsActionType").DATE_RANGE;c=b("Timezone").PST8PDT;d={errorMessage:null,timezoneID:c,visibleDateRange:{},visibleDateRangeType:null};g=babelHelpers.inherits(j,b("immutable").Record(d));g&&g.prototype;function j(){"use strict";g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){"use strict";return new j()};a.prototype.reduce=function(a,b){"use strict";b=b.action;switch(b.type){case i.INITIALIZE:return this.$AnalyticsDateRangeStore1(a,b);case i.APPLY:return this.$AnalyticsDateRangeStore2(a,b);case i.TIMEZONE_UPDATE_COMPLETE:return this.$AnalyticsDateRangeStore3(a,b);case i.TIMEZONE_UPDATE_ERROR:return a.set("errorMessage",b.errorMessage);default:return a}};a.prototype.$AnalyticsDateRangeStore1=function(a,b){"use strict";return a.set("timezoneID",b.timezoneID).set("visibleDateRange",b.visibleDateRange).set("visibleDateRangeType",b.visibleDateRangeType)};a.prototype.$AnalyticsDateRangeStore2=function(a,b){"use strict";return a.set("visibleDateRange",b.visibleDateRange).set("visibleDateRangeType",b.visibleDateRangeType)};a.prototype.$AnalyticsDateRangeStore3=function(a,b){"use strict";return a.set("timezoneID",b.timezoneID)};a.prototype.getVisibleDateRange=function(){"use strict";return this.getState().visibleDateRange};a.prototype.getDateRangeType=function(){"use strict";return this.getState().visibleDateRangeType};a.prototype.getTimezoneID=function(){"use strict";return this.getState().timezoneID};function a(){"use strict";h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AnalyticsDispatcher"))}),null);
__d("AnalyticsDateDefaults",["AnalyticsDateRangeStore","DateTime"],(function(a,b,c,d,e,f){a.prototype.getDefaultUntil=function(){"use strict";return b("DateTime").now(b("AnalyticsDateRangeStore").getTimezoneID()).startOfDay()};function a(){"use strict"}e.exports=new a()}),null);
__d("AnalyticsURLInspectionUtils",[],(function(a,b,c,d,e,f){"use strict";var g=/[\?&]realtimeDebug=(true|1|y|yes)/i;a.prototype.isDevsite=function(){return window.location.hostname.includes("developers")};a.prototype.isRealtimeDebug=function(){return g.test(document.location.href)};function a(){}e.exports=new a()}),null);
__d("BonsaiEcosystem",["keyMirror"],(function(a,b,c,d,e,f){a=b("keyMirror")({GAME:null,NON_GAME:null});e.exports=a}),null);
__d("AnalyticsDateRangeType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ALL:"ALL",LAST_12_HOURS:"LAST_12_HOURS",LAST_24_HOURS:"LAST_24_HOURS",TODAY:"TODAY",YESTERDAY:"YESTERDAY",LAST_7_DAYS:"LAST_7_DAYS",LAST_14_DAYS:"LAST_14_DAYS",LAST_28_DAYS:"LAST_28_DAYS",LAST_30_DAYS:"LAST_30_DAYS",LAST_90_DAYS:"LAST_90_DAYS",LAST_180_DAYS:"LAST_180_DAYS",DATE_RANGE:"DATE_RANGE",INHERIT:"INHERIT"})}),null);
__d("AnalyticsDateUtils",["fbt","invariant","AnalyticsDateRangeType","DateConsts","DateTime","InsightsUtils","Timezone","UTCUtils","d3-old/time/day","formatDate","nullthrows","parseISODate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j={DateRangeTypes:b("AnalyticsDateRangeType"),isHourlyDateRange:function(a){return a===b("AnalyticsDateRangeType").LAST_12_HOURS||a===b("AnalyticsDateRangeType").LAST_24_HOURS||a===b("AnalyticsDateRangeType").YESTERDAY||a===b("AnalyticsDateRangeType").TODAY},isPartialDayDateRange:function(a){return a===b("AnalyticsDateRangeType").LAST_12_HOURS||a===b("AnalyticsDateRangeType").LAST_24_HOURS},isDateRangeSame:function(a,b){return a.since===b.since&&a.until===b.until},getDateRange:function(a,c){c=c==null?b("Timezone").UTC:c;var d,e;if(a===b("AnalyticsDateRangeType").ALL||a===b("AnalyticsDateRangeType").TODAY)d=this.getTodayStartInTimezoneUTCDate(c),e=this._addRangeToDate(d,a);else{var f=this.getNowInTimezoneUTCDate(c);e=this.isPartialDayDateRange(a)?f:this.getYesterdayStartInTimezoneUTCDate(c);d=this._addRangeToDate(e,a)}return{since:d.toDate(),until:e.toDate()}},_addRangeToDate:function(a,c){__p&&__p();switch(c){case b("AnalyticsDateRangeType").YESTERDAY:return a;case b("AnalyticsDateRangeType").TODAY:return a;case b("AnalyticsDateRangeType").LAST_12_HOURS:return a.subtractHours(12);case b("AnalyticsDateRangeType").LAST_24_HOURS:return a.subtractHours(24);case b("AnalyticsDateRangeType").LAST_7_DAYS:return a.subtractDays(6);case b("AnalyticsDateRangeType").LAST_14_DAYS:return a.subtractDays(13);case b("AnalyticsDateRangeType").LAST_28_DAYS:return a.subtractDays(27);case b("AnalyticsDateRangeType").LAST_30_DAYS:return a.subtractDays(29);case b("AnalyticsDateRangeType").LAST_90_DAYS:return a.subtractDays(89);case b("AnalyticsDateRangeType").LAST_180_DAYS:return a.subtractDays(179);case b("AnalyticsDateRangeType").ALL:case b("AnalyticsDateRangeType").DATE_RANGE:return a;default:h(0,2734,c)}},getFixedDateRange:function(a,c){return a.type===b("AnalyticsDateRangeType").DATE_RANGE?{since:b("nullthrows")(a.since).toDate(),until:b("nullthrows")(a.until).toDate()}:this.getDateRange(a.type,c)},resolveDateRange:function(a,b,c,d){a=this.resolveDateRangeConfig(a,b,c);return this.getFixedDateRange(a,d)},getDateRangeConfig:function(a,c){return{type:a,since:b("DateTime").fromDate(c.since,b("Timezone").UTC),until:b("DateTime").fromDate(c.until,b("Timezone").UTC)}},resolveDateRangeConfig:function(a,c,d){d={type:d,since:b("DateTime").fromDate(c.since,b("Timezone").UTC),until:b("DateTime").fromDate(c.until,b("Timezone").UTC)};return this.resolveDateRangeConfigs(a,d)},resolveDateRangeConfigs:function(a,c){return a.type===b("AnalyticsDateRangeType").INHERIT?c:a},getSinceFromURI:function(a,c){a=a.getQueryData().since;return a?new(b("DateTime"))(parseInt(a,10)/1e3,c):null},getUntilFromURI:function(a,c){a=a.getQueryData().until;return a?new(b("DateTime"))(parseInt(a,10)/1e3,c):null},getNowInTimezoneUTCDate:function(a){return b("DateTime").now(a).startOfHour().getParallelInUTC()},getTodayStartInTimezoneUTCDate:function(a){return b("DateTime").now(a).startOfDay().getParallelInUTC()},getTodayStartTimestampForQueryAPI:function(a){return j.getTimestampForQueryAPI(j.getTodayStartInTimezoneUTCDate(a).toDate())},getYesterdayStartInTimezone:function(a){return b("DateTime").now(a).startOfDay().subtractDays(1)},getYesterdayStartInTimezoneUTCDate:function(a){return this.getYesterdayStartInTimezone(a).getParallelInUTC()},isTwentyFourHoursOrLess:function(a){return a.until.getTime()-a.since.getTime()<=b("DateConsts").MS_PER_DAY},getBrowserSupportedDateTime:function(a){var c=new Date(a);isNaN(c.getTime())&&(c=b("parseISODate")(a));return c},getTimestampForQueryAPI:function(a){return b("InsightsUtils").utcTimeToPacificDay(a).getTime()/1e3},getDateForQueryAPI:function(a){return new Date(j.getTimestampForQueryAPI(a)*1e3)},getDateTimeFromAPITimestamp:function(a,c){c===void 0&&(c=b("Timezone").UTC);return b("DateTime").fromDate(new Date(a*1e3),c)},getDateRangeForGraphQLMutation:function(a){return{type:a.type,since:a.since==null?null:j.getTimestampForQueryAPI(a.since.toDate()),until:a.until==null?null:j.getTimestampForQueryAPI(a.until.toDate())}},getDaysBeforeNow:function(a){return Math.floor(Date.now()/b("DateConsts").MS_PER_DAY)-Math.floor(a/b("DateConsts").MS_PER_DAY)},getDaysInRange:function(a){return Math.floor(a.until/b("DateConsts").MS_PER_DAY)-Math.floor(a.since/b("DateConsts").MS_PER_DAY)+1},getDaysInRangeByTime:function(a,c){return Math.floor(c/b("DateConsts").SEC_PER_DAY)-Math.floor(a/b("DateConsts").SEC_PER_DAY)+1},isWithinDateRange:function(a,c){return a/b("DateConsts").SEC_PER_DAY<=c},getRangeLength:function(a){return b("d3-old/time/day").range(a.since,a.until).length},getPopDateRange:function(a,b){var c=j.getRangeLength(b);a=j.getRangeLength({since:a.since,until:b.since});return c<=a?j.getPopDateRangeNoLimit(b):null},getPopDateRangeNoLimit:function(a){var c=j.getRangeLength(a);return{since:b("d3-old/time/day").offset(a.since,-1*(c+1)),until:b("d3-old/time/day").offset(a.since,-1)}},getTimePST_DO_NOT_USE:function(a){a=a.getTime();var c=-b("UTCUtils").getPacificOffsetAt(a);a+=c;return a/1e3},getDateRangeLabel:function(a,c){__p&&__p();switch(a){case b("AnalyticsDateRangeType").YESTERDAY:return g._("Yesterday");case b("AnalyticsDateRangeType").TODAY:return g._("Today");case b("AnalyticsDateRangeType").LAST_12_HOURS:return g._("Last 12 hours");case b("AnalyticsDateRangeType").LAST_24_HOURS:return g._("Last 24 hours");case b("AnalyticsDateRangeType").LAST_7_DAYS:return g._("Last 7 days");case b("AnalyticsDateRangeType").LAST_14_DAYS:return g._("Last 14 days");case b("AnalyticsDateRangeType").LAST_28_DAYS:return g._("Last 28 days");case b("AnalyticsDateRangeType").LAST_30_DAYS:return g._("Last 30 days");case b("AnalyticsDateRangeType").LAST_90_DAYS:return g._("Last 90 days");case b("AnalyticsDateRangeType").LAST_180_DAYS:return g._("Last 180 days");case b("AnalyticsDateRangeType").DATE_RANGE:c||h(0,2735);var d=c.since;c=c.until;var e="F d, Y";return g._("{start of date range, like March 11, 2016}-{start of date range, like April 12, 2016}",[g._param("start of date range, like March 11, 2016",b("formatDate")(d,e,{utc:!0})),g._param("start of date range, like April 12, 2016",b("formatDate")(c,e,{utc:!0}))]);default:h(0,2736,a)}},utcDateToPacificTime:function(a){return a.instant-Math.round(b("UTCUtils").getPacificOffsetAt(a.instant)/1e3)},getDateDiff:function(a,c){c=c.getUnixTimestamp()-a.getUnixTimestamp();return c/b("DateConsts").MS_PER_DAY},getWeekdayNamePlural:function(a){i||(i=[g._("Sundays"),g._("Mondays"),g._("Tuesdays"),g._("Wednesdays"),g._("Thursdays"),g._("Fridays"),g._("Saturdays")]);return i[a]}};e.exports=j}),null);
__d("AnalyticsSourceDedupeOverrideStore",["AnalyticsActionType","AnalyticsDispatcher","FluxReduceStore","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h,i=b("AnalyticsActionType").SOURCE_DEDUP_OVERRIDE;c={disableDedupe:!1};g=babelHelpers.inherits(j,b("immutable").Record(c));g&&g.prototype;function j(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new j()};a.prototype.reduce=function(a,b){b=b.action;switch(b.type){case i.DISABLE_DEDUPE:return a.set("disableDedupe",!0);default:return a}};a.prototype.isSourceDedupeDisabled=function(){return this.getState().disableDedupe};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AnalyticsDispatcher"))}),null);
__d("FalcorNoticeKeys",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FOR_TEST1:"FOR_TEST1",FOR_TEST2:"FOR_TEST2",FOR_TEST3:"FOR_TEST3",FOR_TEST4:"FOR_TEST4",DATA_COLLECTION_NOTICE:"DATA_COLLECTION_NOTICE",DEMO_APP:"demo_app_notice",DEMO_DATA_NOT_REAL:"demo_data_not_real_notice",PURCHASE_UPSELL:"_purchaseUpsell",IMPLICIT_CANVAS_INSTALL:"implicit_canvas_install",ANDROID_SDK_WARNING:"android_sdk_warning",PURCHASE_VALIDATION_UPSELL:"purchase_validation_upsell",PURCHASE_VALIDATION_INVALID_SECRET:"invalid_shared_secret",PURCHASE_VALIDATION_NO_SECRET_FOR_SUBSCRIPTION:"no_shared_secret_for_subscription",MMP_DEDUP:"mmp_dedup",MESSENGER_BOT:"messenger_bot",OFFLINE_UNMATCHED:"offline_unmatched",SOURCE_DEDUPLICATION:"source_deduplication",ACCOUNT_KIT_UPGRADE:"account_kit_upgrade",API_SECTION_DEPRECATION:"api_section_deprecation",MARKETING_API_DEPRECATION:"marketing_api_deprecation",META_APP_DEPRECATION:"meta_app_deprecation",MONETIZATION_DEPRECATION:"monetization_deprecation",WIPED_CUSTOM_PARAMS_S160493:"WIPED_CUSTOM_PARAMS_S160493",JOURNEY_BACKFILL_COMPLETE:"journey_backfill_complete",ADHOC_ESG_NOTICE:"adhoc_esg_notice",PUSH_DEPRECATION:"push_deprecation",INSTANT_GAMES_USER_ACTIVITY:"instant_games_user_activity",NEW_METRICS_INFO:"new_metrics_info",NEW_METRICS_INFO_PAGE:"new_metrics_info_page",EMPLOYEE_VIEW_ANALYTICS_PERMISSION_EXPIRATION:"employee_view_analytics_permission_expiration",EMPLOYEE_VIEW_MONETARY_DATA_PERMISSION_EXPIRATION:"employee_view_monetary_data_permission_expiration",FOR_APPEVENTCONFIG_FIXER_TESTER:"FOR_APPEVENTCONFIG_FIXER_TESTER",REDIRECT_TO_EVENTS_MANAGER:"redirect_to_events_manager",REDIRECT_TO_BUSINESS_MANAGER:"redirect_to_business_manager"})}),null);
__d("InsightsContext",["AnalyticsActiveSection","AnalyticsDateDefaults","AnalyticsDateUtils","AnalyticsSourceDedupeOverrideStore","AnalyticsURLInspectionUtils","BonsaiConstants","BonsaiEcosystem","FalcorNoticeKeys","URI","d3-old/time/day"],(function(a,b,c,d,e,f){__p&&__p();var g={},h={getEcosystem:function(){if(g.isGame)return b("BonsaiEcosystem").GAME;else return b("BonsaiEcosystem").NON_GAME},setPageStateByURI:function(a){g.pageState=b("URI").getNextURI().getQueryData()},getPageState:function(){return g.pageState||{}},setActiveCardName:function(a){h.getPageState().card=a},getActiveCardName:function(){return h.getPageState().card},setActiveTabName:function(a){return h.getPageState().tab=a},getActiveTabName:function(){return h.getPageState().tab},setActiveBreakdownName:function(a){h.getPageState().breakdown=a},getActiveBreakdownName:function(){return h.getPageState().breakdown},getActiveCustomEventName:function(){return h.getPageState().event_name},setActiveFilters:function(a){h.getPageState().filters=a},getActiveFilters:function(){return h.getPageState().filters},getActiveView:function(){return h.getPageState().view},getAutoScrollCardName:function(){return g.autoScrollCard},setAutoScrollCardName:function(a){g.autoScrollCard=a},addCardState:function(a,b){g.cardState||(g.cardState={}),g.cardState[a]||(g.cardState[a]={}),g.cardState[a]=Object.assign(g.cardState[a],b)},getCardState:function(a){return!g.cardState||!g.cardState[a]?{}:g.cardState[a]},setAppNames:function(a){(!a||Object.keys(a).length===0)&&(g.appNames={}),g.appNames=a},getAppNames:function(){return g.appNames},setPlacementSettings:function(a){(!a||Object.keys(a).length===0)&&(g.placementSettings={}),g.placementSettings=a},getPlacementSettings:function(){return g.placementSettings},setOptionalAppEvents:function(a){Object.keys(a).length===0&&(g.optionalAppEvents={}),g.optionalAppEvents=a},getOptionalAppEvents:function(){return g.optionalAppEvents},shouldAddAppEvent:function(a,b){return g.optionalAppEvents&&a in g.optionalAppEvents&&g.optionalAppEvents[a].includes(b)},setAnalyticsEventConfigID:function(a){g.analyticsEventConfigID=a},getAnalyticsEventConfigID:function(){return g.analyticsEventConfigID},setAnalyticsEventConfig:function(a){g.analyticsEventConfig=a},getAnalyticsEventConfig:function(){return g.analyticsEventConfig},getShowImplicitPurchaseEventsUpsell:function(){return g.showImplicitPurchaseEventsUpsell},setShowImplicitPurchaseEventsUpsell:function(a){g.showImplicitPurchaseEventsUpsell=a},getShowSocialPluginEvents:function(){return g.showSocialPluginEvents},setShowSocialPluginEvents:function(a){g.showSocialPluginEvents=a},setIsGame:function(a){g.isGame=a},isGame:function(){return g.isGame},setOGActionTypes:function(a){g.ogActionTypes=a},getOGActionTypes:function(){return g.ogActionTypes},setOGObjectTypes:function(a){g.ogObjectTypes=a},getOGObjectTypes:function(){return g.ogObjectTypes},setEventLabels:function(a){g.eventLabels=a},getEventLabels:function(){return g.eventLabels||[]},setShowAccountKitEvents:function(a){g.showAccountKitEvents=a},getShowAccountKitEvents:function(){return g.showAccountKitEvents},setHasAdsNetwork:function(a){return g.hasAdsNetwork=a},getHasAdsNetwork:function(){return g.hasAdsNetwork},getVisibleDateRangeFromPageStateOrDefault:function(a){if(g.pageState.since&&g.pageState.until){var c=parseInt(g.pageState.until,10),d=parseInt(g.pageState.since,10);if(c&&d&&c>=d&&c<=Date.now()&&d>=b("d3-old/time/day").utc.offset(Date.now(),-1*b("BonsaiConstants").TWO_YEARS_TO_LOAD))return{since:new Date(d),until:new Date(c)}}return this.getDefaultVisibleDateRange(a)},getDefaultVisibleDateRange:function(a){a=a?b("AnalyticsDateUtils").getTodayStartInTimezoneUTCDate(a).toDate():b("AnalyticsDateDefaults").getDefaultUntil().toDate();var c={since:b("d3-old/time/day").utc.offset(a,-1*b("BonsaiConstants").DEFAULT_VISIBLE_DAYS),until:b("d3-old/time/day").utc.offset(a,-1)},d=b("AnalyticsURLInspectionUtils").isRealtimeDebug();d&&(c.since=b("d3-old/time/day").utc.offset(c.since,1),c.until=a);return c},getDefaultVisibleDateRangeUntilToday:function(){var a=b("AnalyticsDateDefaults").getDefaultUntil().toDate();return{since:b("d3-old/time/day").utc.offset(a,-1*b("BonsaiConstants").DEFAULT_VISIBLE_DAYS),until:a}},getVisibleDateRangeTypeOrDefault:function(){var a=b("AnalyticsDateUtils").DateRangeTypes;return g.pageState&&g.pageState.since&&g.pageState.until?a.DATE_RANGE:a.LAST_28_DAYS},setVisibleDateRange:function(a){g.visibleDateRange=a},getVisibleDateRange:function(){return g.visibleDateRange?g.visibleDateRange:null},isUserAdmin:function(){return g.isUserAdmin},setIsUserAdmin:function(a){g.isUserAdmin=a},setBonsaiApiAccess:function(a,b){g.BonsaiAccess={accessToken:a,clientID:b}},getBonsaiApiAccess:function(){return g.BonsaiAccess||{}},getNoticesToShow:function(){return g.noticesToShow.filter(function(a){return(a.sections?a.sections.indexOf(b("AnalyticsActiveSection").get())>-1:!0)&&(a.noticeKey!==b("FalcorNoticeKeys").SOURCE_DEDUPLICATION||!b("AnalyticsSourceDedupeOverrideStore").isSourceDedupeDisabled())})},getAllNotices:function(){return g.noticesToShow},setNoticesToShow:function(a){a=a||[],g.noticesToShow=a},setHasRIDDataLoss:function(a){g.hasRIDDataLoss=a},getHasRIDDataLoss:function(){return g.hasRIDDataLoss||!1},setIsEventIngestionEnabled:function(a){g.isEventIngestionEnabled=a},getIsEventIngestionEnabled:function(){return g.isEventIngestionEnabled}};e.exports=h}),null);
__d("AnalyticsChartSegmentBehavior",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({USE_GLOBAL:"USE_GLOBAL",MERGE:"MERGE",USE_LOCAL:"USE_LOCAL"})}),null);
__d("AnalyticsFilterSetOperator",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AND:"AND",OR:"OR"})}),null);
__d("AnalyticsFilterType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({EVENT:"EVENT",PARAM:"PARAM",SET:"SET"})}),null);
__d("FBAFilter",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.constructor!==h.constructor||g(0,348)}h.prototype.getFilterType=function(){g(0,85)};h.prototype.serialize=function(){var a=this.getShapeForSerialization();return JSON.stringify(a)};h.prototype.getShapeForSerialization=function(){g(0,85)};h.prototype.updateUnitType=function(a){g(0,85)};h.prototype.asFilterSet=function(){g(0,85)};h.prototype.isEventFilter=function(){return!1};h.prototype.assertEventFilter=function(){throw new Error("assertEventFilter called on non-FBAEventFilter")};h.prototype.isParamFilter=function(){return!1};h.prototype.assertParamFilter=function(){throw new Error("assertParamFilter called on non-FBAParamFilter")};h.prototype.getUnitTypes=function(){g(0,85)};h.prototype.equals=function(a){g(0,85)};e.exports=h}),null);
__d("FBATokenizerIndexUtil",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){if(b>=a.length)return[].concat(a,[c()]);if(Number.isInteger(b))return a.map(function(a,d){return d===b?c(a):a});a=[].concat(a);a.splice(Math.ceil(b),0,c());return a}e.exports={insertWithFilterSetIndex:a}}),null);
__d("FBAFilterSet",["AnalyticsChartSegmentBehavior","AnalyticsFilterSetOperator","AnalyticsFilterType","FBAFilter","FBATokenizerIndexUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;a=babelHelpers.inherits(h,b("FBAFilter"));g=a&&a.prototype;function h(a){g.constructor.call(this),this.$FBAFilterSet1=babelHelpers["extends"]({},a)}h.prototype.update=function(a){return new h(babelHelpers["extends"]({},this.$FBAFilterSet1,a))};h.prototype.merge=function(a){return this.update({filters:[].concat(this.getFilters(),a.getFilters())})};h.prototype.addFilter=function(a){return this.update({filters:[].concat(this.getFilters(),[a])})};h.prototype.removeFilter=function(a){return this.update({filters:this.getFilters().filter(function(b,c){return c!==a})})};h.prototype.updateFilter=function(a,b){return this.update({filters:this.getFilters().map(function(c,d){return d===b?a(c):c})})};h.prototype.updateFilters=function(a){return this.update({filters:this.getFilters().map(a)})};h.prototype.replaceOrAddFilter=function(a,c){c=b("FBATokenizerIndexUtil").insertWithFilterSetIndex(this.getFilters(),c.toNumber(),function(){return a});return this.update({filters:c})};h.prototype.updateEventFilter=function(a,b){return this.updateFilter(function(b){return a(b.assertEventFilter())},b)};h.prototype.updateParamFilter=function(a,b){return this.updateFilter(function(b){return a(b.assertParamFilter())},b)};h.prototype.getSize=function(){return this.getFilters().length};h.prototype.getFilters=function(){return this.$FBAFilterSet1.filters};h.prototype.getOperator=function(){return this.$FBAFilterSet1.op};h.prototype.getFilterType=function(){return b("AnalyticsFilterType").SET};h.prototype.getFirstEventName=function(){return this.getEventNames()[0]};h.prototype.getEventNames=function(){return this.getEventFilters().map(function(a){return a.getCondition().getEventName()})};h.prototype.getEventFilters=function(){return this.getFilters().filter(function(a){return a.isEventFilter()}).map(function(a){return a.assertEventFilter()})};h.prototype.getParamFilters=function(){return this.getFilters().filter(function(a){return a.isParamFilter()}).map(function(a){return a.assertParamFilter()})};h.prototype.getActiveFilterIndexForBuilderState=function(a){var b=this.getFilters().length;return a.toNumber()===b?a:a.nextIndexAfterInserting()};h.prototype.isEmpty=function(){return this.getFilters().length===0};h.prototype.equals=function(a){if(!(a instanceof h))return!1;var b=this.getFilters(),c=a.getFilters();return this.getOperator()===a.getOperator()&&b.length===c.length&&b.every(function(a,b){return a.equals(c[b])})};h.prototype.getShapeForSerialization=function(){var a=this.getFilters().map(function(a){return a.getShapeForSerialization()});switch(a.length){case 0:return{};case 1:return a[0];default:return{op:this.getOperator(),filters:a,filterType:"SET"}}};h.empty=function(){return i};h.resolve=function(d){var e=d.behavior||b("AnalyticsChartSegmentBehavior").USE_LOCAL,c=d.global||i;d=d.local||i;switch(e){case"USE_GLOBAL":return c;case"USE_LOCAL":return d;case"MERGE":return d.merge(c);default:e;throw Error("Unexpected segment behavior: "+e)}};h.prototype.asFilterSet=function(){return this};h.prototype.getUnitTypes=function(){return j(this.getFilters().map(function(a){return a.getUnitTypes()}))};var i=new h({filters:[],op:b("AnalyticsFilterSetOperator").AND});function j(a){var b;return(b=[]).concat.apply(b,a)}e.exports=h}),null);
__d("FBAEmptyFilterSet",["FBAFilterSet"],(function(a,b,c,d,e,f){"use strict";e.exports=b("FBAFilterSet").empty()}),null);
__d("AnalyticsQueryBase",["invariant","FBAEmptyFilterSet","PHPQuerySerializer"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){return a?a.replace(/\W/g,"_").padEnd(3,"_").slice(0,128).toLowerCase():null}function a(a,b,c,d,e,f,g,h,i,j,k){"use strict";this.$1=a,this.$6=b,this.$7=c,this.$2=d,this.$3=e,this.$12=f,this.$13=g,this.$14=h,this.$4=!1,this.$5=!1,this.$8=!1,this.$9=i,this.$10=j,this.$11=k}a.prototype.cancelQuery=function(){"use strict";this.$4=!0};a.prototype.getAnalyticsEntityID=function(){"use strict";return this.$1};a.prototype.getSince=function(){"use strict";return this.$6};a.prototype.getUntil=function(){"use strict";return this.$7};a.prototype.getFilterSet=function(){"use strict";return this.$2||b("FBAEmptyFilterSet")};a.prototype.getFilters=function(){"use strict";return this.$3};a.prototype.getSource=function(){"use strict";return this.$9};a.prototype.getCurrency=function(){"use strict";return this.$10};a.prototype.getSectionLoadId=function(){"use strict";return this.$11};a.prototype.getSanitizedSourceString=function(){"use strict";return["www",h(this.getSource()?this.getSource().section:null),h(this.getSource()?this.getSource().tag:null)].filter(function(a){return a}).join("/")};a.prototype.callCallback=function(a){"use strict";this.$4||this.$12(a)};a.prototype.callErrorCallback=function(a){"use strict";this.$4||this.$13(a)};a.prototype.setIsRetry=function(){"use strict";this.$5=!0};a.prototype.isRetry=function(){"use strict";return this.$5};a.prototype.isCancelled=function(){"use strict";return this.$4};a.prototype.setDisableSourceDedupe=function(){"use strict";this.$8=!0};a.prototype.isSourceDedupeDisabled=function(){"use strict";return this.$8};a.prototype.beforeSubmit=function(){"use strict";this.$14&&this.$14()};a.prototype.getExtraGraphAPIParams=function(){"use strict";g(0,4981)};a.prototype.toGraphAPIParam=function(){"use strict";var a={filter_set:this.getFilterSet().serialize(),filters:this.getFilters(),since:this.getSince(),until:this.getUntil(),source:this.getSanitizedSourceString()},b=this.getSectionLoadId();b&&(a.section_load_id=b);this.isSourceDedupeDisabled()&&(a.disable_source_deduplication=!0);b=this.getExtraGraphAPIParams();return babelHelpers["extends"]({},a,b)};a.prototype.toCacheKey=function(){"use strict";return b("PHPQuerySerializer").serialize(babelHelpers["extends"]({analyticsEntityID:this.getAnalyticsEntityID(),currency:this.getCurrency()},this.toGraphAPIParam()))};e.exports=a}),null);
__d("AppEventQueryAggregationPeriod",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({HOUR:"hour",DAY:"day",WEEK:"week",MONTH:"month",RANGE:"range"})}),null);
__d("AnalyticsQueryStatus",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPLETE:"complete",FAILED:"failed",INVALID:"invalid",REQUESTED:"requested",RUNNING:"running"})}),null);
__d("AnalyticsSamplingDisclosureActions",["AnalyticsActionType","AnalyticsDispatcher"],(function(a,b,c,d,e,f){"use strict";var g=b("AnalyticsActionType").SAMPLING_DISCLOSURE;a={addEventsInContext:function(a){a.length>0&&b("AnalyticsDispatcher").dispatchAction({type:g.ADD_EVENTS_IN_CONTEXT,data:{event_names:a}})},clearEventsInContext:function(){b("AnalyticsDispatcher").dispatchAction({type:g.CLEAR_EVENTS_IN_CONTEXT,data:{}})}};e.exports=a}),null);
__d("AppAcquisitionSourceCategory",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AD_NETWORK_FACEBOOK:"ad_fb",AD_NETWORK_INSTAGRAM:"ad_ig",AD_NETWORK_AUDIENCE_NETWORK:"ad_an",ORGANIC_FACEBOOK:"organic_fb",UNKNOWN:"u"})}),null);
__d("BonsaiApiBreakdown",[],(function(a,b,c,d,e,f){a={NONE:"none",ACQUISITION_SOURCE:"acquisition_source",ACQUISITION_SOURCE_L1:"acquisition_source_l1",ACQUISITION_SOURCE_L2:"acquisition_source_l2",ACQUISITION_SOURCE_L3:"acquisition_source_l3",AGE:"age",API_METHOD:"api_method",APP_NAME:"app_name",APP_VERSION:"app_version",AUTH_STATE:"auth_state",AVG_SPEND_PER_USER:"avg_spend_per_user",CARRIER:"carrier",CITY:"city",CITY_CODE:"city_code",CLICKS:"clicks",CLIENT:"client",CONTENT_TYPE:"content_type",CORE_COUNT:"core_count",LABEL_COHORT:"label_cohort",COUNTRY:"country",CPI:"cpi",PUBLISHING_ACTOR_TYPE:"publishing_actor_type",AN_AGE_BUCKET:"reserved4",AN_GENDER_NAME:"reserved5",APP_EVENT_PARAMETER1:"app_event_parameter1",APP_EVENT_PARAMETER2:"app_event_parameter2",APP_EVENT_PARAMETER3:"app_event_parameter3",APP_EVENT_PARAMETER4:"app_event_parameter4",APP_EVENT_PARAMETER5:"app_event_parameter5",APP_EVENT_PARAMETER6:"app_event_parameter6",APP_EVENT_PARAMETER7:"app_event_parameter7",APP_EVENT_PARAMETER8:"app_event_parameter8",APP_EVENT_PARAMETER9:"app_event_parameter9",APP_EVENT_PARAMETER10:"app_event_parameter10",APP_EVENT_PARAMETER11:"app_event_parameter11",APP_EVENT_PARAMETER12:"app_event_parameter12",APP_EVENT_PARAMETER13:"app_event_parameter13",APP_EVENT_PARAMETER14:"app_event_parameter14",APP_EVENT_PARAMETER15:"app_event_parameter15",APP_EVENT_PARAMETER16:"app_event_parameter16",APP_EVENT_PARAMETER17:"app_event_parameter17",APP_EVENT_PARAMETER18:"app_event_parameter18",APP_EVENT_PARAMETER19:"app_event_parameter19",APP_EVENT_PARAMETER20:"app_event_parameter20",APP_EVENT_PARAMETER21:"app_event_parameter21",APP_EVENT_PARAMETER22:"app_event_parameter22",APP_EVENT_PARAMETER23:"app_event_parameter23",APP_EVENT_PARAMETER24:"app_event_parameter24",APP_EVENT_PARAMETER25:"app_event_parameter25",DEVICE_MODEL:"device_model",DEVICE_OS:"device_os",ERROR_CODE:"error_code",ERROR_MSG:"error_msg",ERROR_VALUE:"error_value",EVENT_SOURCE:"$event_source",GENDER:"gender",HOURLY:"hourly",IDENTITY_SOURCE:"identity_source",IMPRESSIONS:"impressions",INSTALLS:"installs",LOCALE:"locale",MEDIATYPE:"media_type",ACTION_TYPE:"action_type",OG_CLK_DEST:"destination",OG_OBJECT_TYPE:"object_type",PERCENTILE:"percentile",PLACEMENT:"placement",PLACEMENT_COUNTRY:"placement_country",PLACEMENT_SETTING:"reserved6",CHANNEL:"$platform",POST:"fb_page_post_id",INSTAGRAM_POST:"fb_ig_post_id",PURCHASE_EVENTS:"purchase_events",PUSH_CAMPAIGN:"fb_push_campaign",PUSH_CAMPAIGN_DEPRECATED:"fb_mobile_push_opened",REACH:"reach",REALIZED_REVENUE:"realized_revenue",REMAINING_DISK_GB:"remaining_disk_gb",REF:"ref",ADS_API_FIELDS:"ads_api_fields",ADS_ACCOUNT:"ads_account",ADS_METHOD:"ads_method",ADS_ACCOUNT_METHOD:"ads_account_method",ADS_ERRORCODE:"ads_errorcode",ADS_VERSION:"ads_version",ADS_ACCOUNT_ERRORCODE:"ads_account_errorcode",ADS_METHOD_ERRORCODE:"ads_method_errorcode",ADS_ACCOUNT_METHOD_ERRORCODE:"ads_account_method_errorcode",REGION_CODE:"region_code",ROAS:"roas",SCREEN_DIMENSIONS:"screen_dimensions",SHORT_VERSION_CODE:"short_version_code",SPEND:"spend",SPONSORED:"sponsored",STORY:"story",SOURCE:"source",TIMEZONE:"timezone",TOTAL_DISK_GB:"total_disk_gb",UI_ELEMENT:"ui_element",URL:"url",USER_AGENT:"user_agent",DATA_TYPE:"data_type",APP:"app",HAS_PUSH_TOKEN:"has_push_token",AK_LOGIN_TYPE:"fb_ak_login_type",AK_NOTIFICATION_TYPE:"fb_ak_notification_type",AK_COUNTRY_CODE:"fb_ak_country_code",AK_VERIFICATION_METHOD:"fb_ak_verification_method",AK_SDK:"fb_ak_sdk",AK_CLIENT_LOGIN_TYPE:"3_type",AK_CLIENT_COUNTRY_CODE:"9_country_code",AK_CLIENT_VERIFICATION_METHOD:"10_verification_method",AK_CLIENT_SDK:"11_sdk",AA_SCREEN_NAME:"fb_aa_time_spent_view_name",JOURNEY_START_CHANNEL:"fb_journey_start_channel",JOURNEY_END_CHANNEL:"fb_journey_end_channel",JOURNEY_IS_CONVERTED:"fb_journey_is_converted",JOURNEY_CHANNEL_LIST:"fb_journey_channel_list",JOURNEY_START_EVENT_SOURCE:"fb_journey_start_event_source",JOURNEY_END_EVENT_SOURCE:"fb_journey_end_event_source",JOURNEY_EVENT_SOURCE_LIST:"fb_journey_event_source_list",getAcquisitionSourceBreakdowns:function(){return[this.ACQUISITION_SOURCE,this.ACQUISITION_SOURCE_L1,this.ACQUISITION_SOURCE_L2,this.ACQUISITION_SOURCE_L3]},getBonsaiApiEquivalent:function(a){return typeof this[a]==="string"?this[a]:a},isBreakdownAfterSdkV4_2:function(a){return[this.TIMEZONE,this.SCREEN_DIMENSIONS,this.CARRIER,this.CORE_COUNT,this.TOTAL_DISK_GB,this.REMAINING_DISK_GB].indexOf(a)>=0}};e.exports=a}),null);
__d("XAdsManagerCampaignPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/manage/summary/adset/",{business_id:{type:"Int"},ad_set_id:{type:"Int",required:!0},time_start:{type:"String"},time_end:{type:"String"},offset:{type:"Int",defaultValue:0},status:{type:"Enum",enumType:0},sort_key:{type:"Int"},sort_dir:{type:"String"},show_adgroup_id:{type:"Int"},default_tab:{type:"String",defaultValue:"insights"},source:{type:"Enum",enumType:1},create_ad_button_position:{type:"Int"}})}),null);
__d("AppEventQueryError",["AnalyticsErrorCodes","BonsaiText","InsightsGraphAPIErrorUtils"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1={code:a.code,subcode:a.subcode,message:a.message,type:a.type},this.$2=b}a.prototype.getError=function(){"use strict";return Object.assign({},this.$1)};a.prototype.getMessage=function(){"use strict";var a=b("BonsaiText").errorMessageByErrorCode[this.$1.code];return a||this.$1.message};a.prototype.isNotEnoughData=function(){"use strict";return this.$1.code===b("AnalyticsErrorCodes").NOT_ENOUGH_USERS};a.prototype.isSessionExpiredError=function(){"use strict";return b("InsightsGraphAPIErrorUtils").isSessionExpiredError(this.$1)};a.prototype.isPermissionError=function(){"use strict";return this.$1.code===3e3};a.prototype.isInvalidQueryError=function(){"use strict";return this.$1.code===3001};a.prototype.isMetricOfflineError=function(){"use strict";return this.$1.code===3002};a.prototype.isMetricRequiresAdmin=function(){"use strict";return this.$1.code===3003};a.prototype.isUnknownError=function(){"use strict";return this.$1.code===1};e.exports=a}),null);
__d("AnalyticsChartCalculatedFieldOperator",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD:"ADD",DIV:"DIV"})}),null);
__d("AppEventQueryResult",["invariant","AnalyticsChartCalculatedFieldOperator","AnalyticsQueryAggregationMethod","BonsaiApiBreakdown","immutable","nullthrows"],(function(a,b,c,d,e,f,g){__p&&__p();function h(a){"use strict";__p&&__p();var c={timestamp:0},d={},e={};if(a.columns){var f=1;a.columns.breakdowns&&(a.columns.breakdowns.forEach(function(a,b){c[a]=b+f,e[a]=b}),f+=a.columns.breakdowns.size);a.columns.aggregations&&a.columns.aggregations.forEach(function(a,b){c[a]=b+f,d[a]=b})}this.$1=a.query_id;this.$2=a;this.$5=b("immutable").OrderedMap(c);this.$3=b("immutable").OrderedMap(d);this.$4=b("immutable").OrderedMap(e);this.$7=null;this.$8=-1}h.prototype.getResult=function(a){"use strict";__p&&__p();var c={};a.forEach(function(a){this.$3.has(a)||g(0,5006,a),c[this.$3.get(a)]=a}.bind(this));a={columns:{aggregations:b("immutable").List(Object.keys(c).map(function(a){return c[a]})),breakdowns:this.$2.columns.breakdowns},datapoints:this.$2.datapoints.map(function(a){return{timestamp:a.timestamp,rows:a.rows.map(function(a){return{aggregations:a.aggregations.filter(function(a,b){return Object.prototype.hasOwnProperty.call(c,b)}).toList(),breakdowns:a.breakdowns}}).toList()}}).toList(),query_id:this.$1};return new h(a)};h.prototype.getResultAsRows=function(){"use strict";return this.$10()};h.prototype.hasData=function(){"use strict";return!this.$10().isEmpty()};h.prototype.getBreakdownUniqueValues=function(a){"use strict";this.$4.has(a)||g(0,5007);var b=this.$5.get(a);a=this.$10().map(function(a){return a.get(b)});return a.toOrderedSet()};h.prototype.getColumnIndex=function(a){"use strict";return b("nullthrows")(this.$5.get(a))};h.prototype.getColumnNames=function(){"use strict";return b("immutable").List(this.$5.keys())};h.prototype.getTotalForBreakdownValue=function(a,b){"use strict";this.$4.has(a)||g(0,5007);var c=this.$5.get(a);return this.$10().reduce(function(a,d){return d.get(c)===b?a+parseFloat(d.get(d.size-1)):a},0)};h.prototype.getValueForAggregation=function(a){"use strict";var b=this.getResultAsRows();this.$5.has(a)||g(0,5008);b.count()<=1||g(0,5009);if(b.count()>0)return parseFloat(b.get(0).get(this.$5.get(a)));else return null};h.prototype.getTotals=function(){"use strict";this.$7||(this.$7=this.$11());return{countTotal:this.$7.countTotal,sumTotal:this.$7.sumTotal,usdSumTotal:this.$7.usdSumTotal,countTotalIdentifiedUsers:this.$7.countTotalIdentifiedUsers,sumTotalIdentifiedUsers:this.$7.sumTotalIdentifiedUsers,usdSumTotalIdentifiedUsers:this.$7.usdSumTotalIdentifiedUsers}};h.prototype.getUniquesTotalDangerously=function(){"use strict";this.$3.has(b("AnalyticsQueryAggregationMethod").USERS)||g(0,5010);this.$11();return this.$8};h.prototype.hasCurrencyValue=function(){"use strict";__p&&__p();if(this.$9==null){var a=[b("AnalyticsQueryAggregationMethod").USD_SUM,b("AnalyticsQueryAggregationMethod").USD_SUM_IDENTIFIED_USERS,b("AnalyticsQueryAggregationMethod").USD_VALUE_PER_USER,b("AnalyticsQueryAggregationMethod").USD_SUM_PER_EVENT].map(function(a){return this.$3.get(a)}.bind(this)),c=this.$2.datapoints.some(function(b){return b.rows&&b.rows.some(function(b){return b.aggregations&&a.some(function(a){return parseFloat(b.aggregations.get(a))})})}),d=this.$3.get(b("AnalyticsQueryAggregationMethod").PERCENTILES_USD_VALUE),e=d!=null&&this.$2.datapoints.some(function(a){__p&&__p();return a.rows&&a.rows.some(function(a){__p&&__p();if(!a.aggregations)return!1;a=a.aggregations.get(d);if(a==null)return!1;try{a=JSON.parse(a);return a.some(function(a){return a>0})}catch(a){return!1}})});this.$9=c||e}return this.$9};h.prototype.$11=function(){"use strict";__p&&__p();if(this.$7)return this.$7;var a=this.$3.keySeq().toJS().map(function(a){return 0});this.$2.datapoints&&this.$2.datapoints.forEach(function(b){b.rows&&b.rows.forEach(function(b){b.aggregations&&b.aggregations.forEach(function(b,c){a[c]+=parseFloat(b)})})});this.$3.has(b("AnalyticsQueryAggregationMethod").USERS)&&(this.$8=a[this.$3.get(b("AnalyticsQueryAggregationMethod").USERS)]);this.$7={countTotal:this.$3.has(b("AnalyticsQueryAggregationMethod").COUNT)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").COUNT)]:null,sumTotal:this.$3.has(b("AnalyticsQueryAggregationMethod").SUM)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").SUM)]:null,usdSumTotal:this.$3.has(b("AnalyticsQueryAggregationMethod").USD_SUM)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").USD_SUM)]:null,countTotalIdentifiedUsers:this.$3.has(b("AnalyticsQueryAggregationMethod").COUNT_IDENTIFIED_USERS)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").COUNT_IDENTIFIED_USERS)]:null,sumTotalIdentifiedUsers:this.$3.has(b("AnalyticsQueryAggregationMethod").SUM_IDENTIFIED_USERS)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").SUM_IDENTIFIED_USERS)]:null,usdSumTotalIdentifiedUsers:this.$3.has(b("AnalyticsQueryAggregationMethod").USD_SUM_IDENTIFIED_USERS)?a[this.$3.get(b("AnalyticsQueryAggregationMethod").USD_SUM_IDENTIFIED_USERS)]:null};return this.$7};h.prototype.$10=function(){"use strict";__p&&__p();if(this.$6)return this.$6;var a=[];this.$2.datapoints&&this.$2.datapoints.forEach(function(c){c.rows&&c.rows.forEach(function(d){var e=[c.timestamp];d.breakdowns&&(e=e.concat(d.breakdowns.toJS()));d.aggregations&&(e=e.concat(d.aggregations.toJS()));a.push(b("immutable").List(e))})});this.$6=b("immutable").List(a);return this.$6};h.prototype.formatResultsForBonsaiApiDataAdapter_DEPRECATED=function(){"use strict";__p&&__p();var a=[],b=this.$2.datapoints,c=this.$2.columns;if(!b||b.size===0)return{data:a};b.forEach(function(b){b.rows.forEach(function(d){var e=this.$12(c.breakdowns,d.breakdowns);d.aggregations.size===1||g(0,5011);a.push({time:b.timestamp,value:d.aggregations.get(0),breakdowns:e})}.bind(this))}.bind(this));return{data:a}};h.prototype.$12=function(a,c){"use strict";if(!a)return{};var d=b("immutable").List.of(b("BonsaiApiBreakdown").APP_EVENT_PARAMETER3,b("BonsaiApiBreakdown").APP_EVENT_PARAMETER4,b("BonsaiApiBreakdown").APP_EVENT_PARAMETER5,b("BonsaiApiBreakdown").APP_EVENT_PARAMETER7),e={};d.includes(a.first())?e[a.first()]=c.toArray().join("_"):a.forEach(function(a,b){return e[a]=c.get(b)});return e};h.prototype.getDatapointsRollupResult=function(){"use strict";__p&&__p();var a=this.$2.datapoints,c=this.getTotals(),d=this.$2.columns;if(a&&a.size){a=a.get(0).rows;if(a&&a.size){a=a.map(function(a){var c=b("immutable").List(a.aggregations.map(function(a){return Number(a)}));a=b("immutable").List(a.breakdowns);return b("immutable").Map({aggregations:c,breakdowns:a})});a=b("immutable").List(a);return{rows:a,columns:d,totals:c}}}return null};h.prototype.add=function(a){"use strict";return this.$13(b("AnalyticsChartCalculatedFieldOperator").ADD,a)};h.prototype.divide=function(a){"use strict";return this.$13(b("AnalyticsChartCalculatedFieldOperator").DIV,a)};h.prototype.calculate=function(a,b){"use strict";return this.$13(a,b)};h.prototype.$14=function(a){"use strict";switch(a){case b("AnalyticsChartCalculatedFieldOperator").ADD:return function(a,b){return(a||0)+(b||0)};case b("AnalyticsChartCalculatedFieldOperator").DIV:return function(a,b){if(b)return(a||0)/b;else return 0};default:throw Error("Unknown calculated field operator: "+a)}};h.prototype.$15=function(a,c,d){"use strict";__p&&__p();var e={},f={},g=[],h=[];a.getResultAsRows().forEach(function(a){var b=a.get(0),c=a.get(1);Object.prototype.hasOwnProperty.call(e,b)||(e[b]={});e[b][c]=parseFloat(a.get(2));g.push(b);h.push(c)});c.getResultAsRows().forEach(function(a){var b=a.get(0),c=a.get(1);Object.prototype.hasOwnProperty.call(f,b)||(f[b]={});f[b][c]=parseFloat(a.get(2));g.push(b);h.push(c)});var i=b("immutable").OrderedSet(h).toList();return b("immutable").OrderedSet(g).toList().map(function(a){return{rows:i.map(function(c){var g;return{aggregations:b("immutable").List([d((g=e)!=null?(g=g[a])!=null?g[c]:g:g,(g=f)!=null?(g=g[a])!=null?g[c]:g:g).toString()]),breakdowns:b("immutable").List([c])}}),timestamp:a}})};h.prototype.$16=function(a,c,d){"use strict";__p&&__p();var e={},f={},g=[];a.getResultAsRows().forEach(function(a){var b=a.get(0);e[b]=parseFloat(a.get(1));g.push(b)});c.getResultAsRows().forEach(function(a){var b=a.get(0);f[b]=parseFloat(a.get(1));g.push(b)});return b("immutable").OrderedSet(g).toList().map(function(a){return{rows:b("immutable").List([{aggregations:b("immutable").List([d(e[a],f[a]).toString()]),breakdowns:b("immutable").List()}]),timestamp:a}})};h.prototype.$13=function(a,c){"use strict";__p&&__p();var d=this.$14(a),e=this.$4.keySeq(),f=c.$4.keySeq();e.size<=1&&e.equals(f)||g(0,5013,e.join(","),f.join(","));f=e.first();this.$3.size===1&&c.$3.size===1||g(0,5014);e=this.$3.keySeq().first();var i=c.$3.keySeq().first(),j=b("immutable").Set([b("AnalyticsQueryAggregationMethod").COUNT,b("AnalyticsQueryAggregationMethod").USERS,b("AnalyticsQueryAggregationMethod").USD_SUM,b("AnalyticsQueryAggregationMethod").SUM]);j.has(e)||g(0,5015,e);j.has(i)||g(0,5015,i);e=f?this.$15(this,c,d):this.$16(this,c,d);return new h({columns:{aggregations:b("immutable").List([a]),breakdowns:b("immutable").List(f?[f]:[])},datapoints:e,query_id:"calculated_field_"+a+"_"+this.$1+":"+c.$1})};h.prototype.__getData=function(){"use strict";return this.$2};h.prototype.__getAggregationColumns=function(){"use strict";return this.$3};h.prototype.__getBreakdownColumns=function(){"use strict";return this.$4};h.prototype.__getColumns=function(){"use strict";return this.$5};h.prototype.__getRows=function(){"use strict";return this.$6};e.exports=h}),null);
__d("AnalyticsQueryApi",["invariant","AnalyticsCohortsQuery","AnalyticsFunnelsQuery","AnalyticsQuery","AnalyticsQueryBase","AnalyticsQueryStatus","AnalyticsSamplingDisclosureActions","AnalyticsSourceDedupeOverrideStore","AppEventQueryAggregationPeriod","AppEventQueryError","AppEventQueryResult","immutable","InsightsApiAccess","InsightsGraphAPI","InsightsGraphAPIConstants","InsightsGraphAPIErrorUtils","InsightsUtils","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){__p&&__p();var h=b("InsightsGraphAPIErrorUtils").handleSessionExpired,i={},j={},k={},l={},m=null,n=50,o=1e3,p=200,q=3e5,r=(a={},a[b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE]=["query_id","status","datapoints","columns","error"],a[b("InsightsGraphAPIConstants").COHORT_QUERY]=["query_id","status","data","error"],a[b("InsightsGraphAPIConstants").FUNNEL_QUERY]=["query_id","status","data","error"],a);b("InsightsGraphAPI").blacklist(function(a){return a.path.includes(b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE)});var s=function(){return b("InsightsApiAccess").accessToken};c={queryAppEventData_DEPRECATED:function(a,c,d){d=d.map(function(c){return new(b("AnalyticsQuery"))(a,c.event_name,[c.aggregateBy],c.breakdowns?c.breakdowns:[],b("AppEventQueryAggregationPeriod").DAY,c.intervals_to_aggregate,c.filterSet,c.filters,null,{},null,null,c.since,c.until,!1,c.callback,c.error_callback,function(){},{section:c.section,tag:c.tag},c.currency,c.sectionLoadId)});this.queryAppEventDataForObject(a,c,d)},queryAppEventData:function(a){if(a.length===0)return;this.queryAppEventDataForObject(a[0].getAnalyticsEntityID(),s(),a)},queryCohortsData:function(a){if(a.length===0)return;var c=[];a.forEach(function(a){c.push(a.getFirstEvent().event_rule.event_name),c.push(a.getFollowupEvent().event_rule.event_name)});b("AnalyticsSamplingDisclosureActions").addEventsInContext(c);this._setDisableSourceDedupeIfNeeded(a);this._queryCohortsOrFunnelData({accessToken:s(),edge:b("InsightsGraphAPIConstants").COHORT_QUERY,objID:a[0].getAnalyticsEntityID()},a)},queryFunnelsData:function(a){if(a.length===0)return;var c=[];a.forEach(function(a){a.getEventNames().forEach(function(a){c.push(a)})});b("AnalyticsSamplingDisclosureActions").addEventsInContext(c);this._setDisableSourceDedupeIfNeeded(a);this._queryCohortsOrFunnelData({accessToken:s(),edge:b("InsightsGraphAPIConstants").FUNNEL_QUERY,objID:a[0].getAnalyticsEntityID()},a)},queryAppEventDataForObject:function(a,c,d){__p&&__p();if(d.length===0)return;var e=[];d.forEach(function(a){a.getNotifySamplingStore()&&e.push(a.getEventName())});b("AnalyticsSamplingDisclosureActions").addEventsInContext(e);this._setDisableSourceDedupeIfNeeded(d);d=this._filterAndCallbackCachedQueries(d);if(d.length===0)return;this._batchQueueQueryDispatch(a,c,d)},_setDisableSourceDedupeIfNeeded:function(a){b("AnalyticsSourceDedupeOverrideStore").isSourceDedupeDisabled()&&a.forEach(function(a){a.setDisableSourceDedupe()})},_queryCohortsOrFunnelData:function(a,b){b=this._filterAndCallbackCachedQueries(b);if(b.length===0)return;this._submitQueries(a,b)},_filterAndCallbackCachedQueries:function(a){return a.filter(function(c,d){c=c.toCacheKey();var e=i[c];e&&b("setTimeout")(function(){return a[d].callCallback(e)},0);return!e})},_batchQueueQueryDispatch:function(a,c,d){k[a]||(k[a]=[]),l[a]=c,k[a]=k[a].concat(d),m||(m=b("setTimeout")(function(){return this._queryDispatch()}.bind(this),p))},_queryDispatch:function(){Object.keys(k).forEach(function(a){if(Object.prototype.hasOwnProperty.call(k,a)){var c=k[a].slice();k[a]=[];for(var d=0;d<c.length;d+=n)this._submitQueries({objID:a,edge:b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE,accessToken:l[a]},c.slice(d,d+n))}}.bind(this)),m=null},_submitQueries:function(a,c){__p&&__p();c=c.filter(function(a){return!a.isCancelled()});c.forEach(function(a){return a.beforeSubmit()});var d=c.map(function(a){return a.toGraphAPIParam()}),e=a.accessToken,f=a.edge,g=a.objID;b("promiseDone")(h(b("InsightsGraphAPI").app(g).edge(f).post({access_token:e,queries:d})),function(d){__p&&__p();var e={};d.results&&d.results.forEach(function(a){e[a.query_id]=a});var g=d.query_ids.filter(function(a,d){__p&&__p();var g=!j[a];g&&(j[a]=[]);j[a].push(c[d]);a=e[a];if(a)if(a.status===b("AnalyticsQueryStatus").COMPLETE){this._handleQueryResult(a,f);return!1}else if(a.status===b("AnalyticsQueryStatus").FAILED){this._handleFailed([a]);return!1}return g||c[d].isRetry()}.bind(this));b("setTimeout")(function(){return this._pollQueries(a,g)}.bind(this),o)}.bind(this),function(a){return c.forEach(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a))})})},_pollQueries:function(a,c){__p&&__p();if(!c||c.length===0)return;var d=a.accessToken,e=a.edge,f=a.objID;b("promiseDone")(h(b("InsightsGraphAPI").app(f).edge(e).get({access_token:d,query_ids:c,fields:r[e],date_format:"U"})),function(c){__p&&__p();var d=[],f=[],g=[],h=[];c.data.forEach(function(a){switch(a.status){case b("AnalyticsQueryStatus").COMPLETE:this._handleQueryResult(a,e);break;case b("AnalyticsQueryStatus").FAILED:d.push(a);break;case b("AnalyticsQueryStatus").INVALID:h.push(a);break;case b("AnalyticsQueryStatus").RUNNING:case b("AnalyticsQueryStatus").REQUESTED:f.push(a);break}}.bind(this));this._handleFailed(d);this._handleInvalid(a,h);this._handleQueryCompleted(a,g);b("setTimeout")(function(){return this._pollQueries(a,f.map(function(a){return a.query_id}))}.bind(this),o)}.bind(this),function(a){return c.forEach(function(c){j[c].forEach(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a))}),delete j[c]})})},_handleInvalid:function(a,c){__p&&__p();if(c.length===0)return;var d=a.accessToken,e=a.edge,f=a.objID;c=c.filter(function(a){var c=j[a.query_id].some(function(a){return a.isRetry()});c&&(j[a.query_id].forEach(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a.error))}),delete j[a.query_id]);return!c}).map(function(a){a=j[a.query_id].pop();a.setIsRetry();return a});e===b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE?this._batchQueueQueryDispatch(f,d,c):this._submitQueries(a,c)},_handleFailed:function(a){if(!a||a.length===0)return;a.forEach(function(a){var c;c=(c=j)!=null?c[a.query_id]:c;c!=null&&c.length>0&&(c.forEach(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a.error))}),delete j[a.query_id])})},_handleQueryCompleted:function(a,c){__p&&__p();if(!c||c.length===0)return;var d=a.accessToken,e=a.edge,f=a.objID;c.forEach(function(a){b("promiseDone")(h(b("InsightsGraphAPI").app(f).edge(e).get({access_token:d,query_ids:[a.query_id],fields:r[e].join(","),date_format:"U"})),function(a){a.data.forEach(function(a){return this._handleQueryResult(a,e)}.bind(this))}.bind(this),function(a){c.forEach(function(c){j[c.query_id].map(function(c){return c.callErrorCallback(new(b("AppEventQueryError"))(a))}),delete j[c.query_id]})})}.bind(this))},_handleQueryResult:function(a,c){__p&&__p();var d=a.query_id;d=j[d];if(!d||!d[0])return;var e=d[0].toCacheKey(),f=null;switch(c){case b("InsightsGraphAPIConstants").ANALYTICS_QUERY_EDGE:f=new(b("AppEventQueryResult"))(this._apiDataToAppEventQueryResultData(a));break;case b("InsightsGraphAPIConstants").FUNNEL_QUERY:case b("InsightsGraphAPIConstants").COHORT_QUERY:f=a.data;break;default:g(0,3491,c)}i[e]=f;c=b("InsightsUtils").getMostRecentPacificDayBegin(new Date())/1e3;c=d[0].getUntil()>=c;c&&b("setTimeout")(function(){delete i[e]},q);d.forEach(function(a){return a.callCallback(f)});delete j[a.query_id]},_apiDataToAppEventQueryResultData:function(a){return{columns:{aggregations:b("immutable").List(a.columns.aggregations),breakdowns:b("immutable").List(a.columns.breakdowns)},datapoints:b("immutable").List(a.datapoints?a.datapoints.map(function(a){return{timestamp:a.timestamp,rows:b("immutable").List(a.rows.map(function(a){return{aggregations:b("immutable").List(a.aggregations),breakdowns:b("immutable").List(a.breakdowns)}}))}}):null),query_id:a.query_id}},getCache:function(){return i},getRawCacheValue:function(a){a=a.toCacheKey();return i[a]}};e.exports=c}),null);
__d("AnalyticsCancelablePromise",["Promise","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=!1;return{promise:new(b("Promise"))(function(d,e){return b("promiseDone")(a,function(a){return c||d(a)},function(a){return c||e(a)})}),cancel:function(){c=!0}}}e.exports={makeCancelable:a}}),null);
__d("AnalyticsQueryBuilder",["invariant","Promise","AnalyticsAbstractQueryBuilder","AnalyticsCancelablePromise","AnalyticsDateUtils","AnalyticsQuery","AnalyticsQueryApi"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("AnalyticsCancelablePromise").makeCancelable,j=2419200;c=babelHelpers.inherits(a,b("AnalyticsAbstractQueryBuilder"));h=c&&c.prototype;function a(){"use strict";h.constructor.call(this),this.$AnalyticsQueryBuilder10={},this.$AnalyticsQueryBuilder3=[],this.$AnalyticsQueryBuilder5=[],this.$AnalyticsQueryBuilder15=!0}a.prototype.setAnalyticsEntityID=function(a){"use strict";this.$AnalyticsQueryBuilder1=a;return this};a.prototype.setEventName=function(a){"use strict";this.$AnalyticsQueryBuilder2=a;return this};a.prototype.setAggregations=function(a){"use strict";this.$AnalyticsQueryBuilder3=a;return this};a.prototype.setBreakdowns=function(a){"use strict";this.$AnalyticsQueryBuilder5=a;return this};a.prototype.setIntervalsToAggregate=function(a){"use strict";this.$AnalyticsQueryBuilder6=a;return this};a.prototype.setAggregationPeriod=function(a){"use strict";this.$AnalyticsQueryBuilder4=a;return this};a.prototype.setFilterSet=function(a){"use strict";this.$AnalyticsQueryBuilder7=a;return this};a.prototype.setFilterSetListing=function(a){"use strict";a!=null&&(this.$AnalyticsQueryBuilder7=a.getFilterSet());return this};a.prototype.setFilters=function(a){"use strict";this.$AnalyticsQueryBuilder8=a;return this};a.prototype.setLimit=function(a){"use strict";this.$AnalyticsQueryBuilder9=a;return this};a.prototype.setMetricParams=function(a){"use strict";this.$AnalyticsQueryBuilder10=a;return this};a.prototype.setOrderingColumns=function(a){"use strict";this.$AnalyticsQueryBuilder11=a;return this};a.prototype.setOrderingType=function(a){"use strict";this.$AnalyticsQueryBuilder12=a;return this};a.prototype.setSince=function(a){"use strict";this.$AnalyticsQueryBuilder13=a;return this};a.prototype.setUntil=function(a){"use strict";this.$AnalyticsQueryBuilder14=a;return this};a.prototype.setDateRangeUTC=function(a){"use strict";return this.setSince(b("AnalyticsDateUtils").getTimestampForQueryAPI(a.since)).setUntil(b("AnalyticsDateUtils").getTimestampForQueryAPI(a.until))};a.prototype.setNotifySamplingStore=function(a){"use strict";this.$AnalyticsQueryBuilder15=a;return this};a.prototype.getTopBreakdownCountInLast28DayQuery=function(){"use strict";this.$AnalyticsQueryBuilder5.length===1||g(0,3377);this.$AnalyticsQueryBuilder9!==null||g(0,3378);var a=new Date().setHours(0,0,0,0)/1e3,b=a-j;return this.setAggregations(["COUNT"]).setIntervalsToAggregate(0).setOrderingColumns(["COUNT"]).setOrderingType("DESCENDING").setSince(b).setUntil(a).getQuery()};a.prototype.getTopUniquesInDateRangeQuery=function(){"use strict";return this.setAggregations(["USERS"]).setIntervalsToAggregate(0).setOrderingColumns(["USERS"]).setOrderingType("DESCENDING").getQuery()};a.prototype.getTopUniquesInDateRangeQueryAsPromise=function(){"use strict";return this.setAggregations(["USERS"]).setIntervalsToAggregate(0).setOrderingColumns(["USERS"]).setOrderingType("DESCENDING").getQueryAsPromise()};a.prototype.getQuery=function(){"use strict";this.$AnalyticsQueryBuilder16(!0);this.getCallback()||g(0,3379);this.getErrorCallback()||g(0,3380);return new(b("AnalyticsQuery"))(this.$AnalyticsQueryBuilder1,this.$AnalyticsQueryBuilder2,this.$AnalyticsQueryBuilder3,this.$AnalyticsQueryBuilder5,this.$AnalyticsQueryBuilder4,this.$AnalyticsQueryBuilder6,this.$AnalyticsQueryBuilder7,this.$AnalyticsQueryBuilder8,this.$AnalyticsQueryBuilder9,this.$AnalyticsQueryBuilder10,this.$AnalyticsQueryBuilder11,this.$AnalyticsQueryBuilder12,this.$AnalyticsQueryBuilder13,this.$AnalyticsQueryBuilder14,this.$AnalyticsQueryBuilder15,this.getPreparedCallback(),this.getPreparedErrorCallback(),this.getBeforeSubmit(),this.getSource(),this.getCurrency(),this.getSectionLoadId())};a.prototype.getQueryAsPromise=function(){"use strict";this.$AnalyticsQueryBuilder16();var a=new(b("Promise"))(function(a,c){a=new(b("AnalyticsQuery"))(this.$AnalyticsQueryBuilder1,this.$AnalyticsQueryBuilder2,this.$AnalyticsQueryBuilder3,this.$AnalyticsQueryBuilder5,this.$AnalyticsQueryBuilder4,this.$AnalyticsQueryBuilder6,this.$AnalyticsQueryBuilder7,this.$AnalyticsQueryBuilder8,this.$AnalyticsQueryBuilder9,this.$AnalyticsQueryBuilder10,this.$AnalyticsQueryBuilder11,this.$AnalyticsQueryBuilder12,this.$AnalyticsQueryBuilder13,this.$AnalyticsQueryBuilder14,this.$AnalyticsQueryBuilder15,this.prepareCallback(a),this.prepareErrorCallback(c),this.getBeforeSubmit(),this.getSource(),this.getCurrency(),this.getSectionLoadId());b("AnalyticsQueryApi").queryAppEventData([a])}.bind(this));return i(a)};a.prototype.$AnalyticsQueryBuilder16=function(){"use strict";this.$AnalyticsQueryBuilder1!==null||g(0,3381),this.$AnalyticsQueryBuilder2!==null||g(0,3382),this.$AnalyticsQueryBuilder3.length>0||g(0,3383),this.$AnalyticsQueryBuilder6!==null||g(0,3384),this.$AnalyticsQueryBuilder13!==null||g(0,3385),this.$AnalyticsQueryBuilder14!==null||g(0,3386)};e.exports=a}),null);