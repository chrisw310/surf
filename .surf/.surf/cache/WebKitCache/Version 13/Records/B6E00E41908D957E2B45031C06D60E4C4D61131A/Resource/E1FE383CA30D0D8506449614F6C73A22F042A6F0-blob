window.WinterBash=window.WinterBash||{},window.WinterBash.core=function(){function e(e){WinterBash.hatsLoaded=function(){delete WinterBash.hatsLoaded,e()},$.ajax({url:WinterBash.STATIC_CONTENT_ROOT+"js/millinery.js?v="+WinterBash.IMAGE_CACHE_BREAKER,cache:!0,dataType:"script"})}function a(){$(document).on("userhovershowing",function(e,a){$(a).find(".hat").css("opacity",0)}),$(document).on("userhovershown",function(e){var a=$(e.target);I(a.find(".um-gravatar"),!0),a.closest("#user-menu").parent().css("overflow","visible")}),$(document).on("userhoverremoved",function(e){$(e.target).find(".hat").css("opacity",1)})}function t(){var e=document.createElementNS(ae,"svg");e.setAttribute("class","svg-icon"),e.setAttribute("width","18"),e.setAttribute("height","18"),e.setAttribute("viewbox","0 0 18 18");var a=document.createElementNS(ae,"path");return e.appendChild(a),a.setAttribute("d","m8.9844-0.013672a1 1 0 0 0 -0.98438 1.0137v0.38281l-0.55273-0.27734a1 1 0 0 0 -0.48242 -0.11133 1 1 0 0 0 -0.41211 1.9004l1.4473 0.72266v3.6523l-3.1621-1.8262 0.097656-1.6152a1 1 0 0 0 -0.95117 -1.0742 1 1 0 0 0 -1.0449 0.95508l-0.037109 0.61719-0.33008-0.19141a1 1 0 0 0 -0.57422 -0.14062 1 1 0 0 0 -0.42578 1.8711l0.33203 0.19141-0.51758 0.3418a1 1 0 1 0 1.1016 1.668l1.3516-0.89258 3.1621 1.8262-3.1621 1.8262-1.3516-0.89258a1 1 0 0 0 -0.56445 -0.17383 1 1 0 0 0 -0.53711 1.8418l0.51758 0.3418-0.33203 0.19141a1 1 0 1 0 1 1.7305l0.33008-0.19141 0.037109 0.61719a1 1 0 1 0 1.9961 -0.11914l-0.097656-1.6152 3.1621-1.8262v3.6523l-1.4473 0.72266a1 1 0 0 0 0.89453 1.7891l0.55273-0.27734v0.38281a1 1 0 1 0 2 0v-0.38281l0.55273 0.27734a1 1 0 1 0 0.89453 -1.7891l-1.4473-0.72266v-3.6523l3.1621 1.8262-0.097656 1.6152a1 1 0 1 0 1.9961 0.11914l0.037109-0.61719 0.33008 0.19141a1 1 0 1 0 1 -1.7305l-0.33203-0.19141 0.51758-0.3418a1 1 0 0 0 -0.56641 -1.8418 1 1 0 0 0 -0.53516 0.17383l-1.3516 0.89258-3.1621-1.8262 3.1621-1.8262 1.3516 0.89258a1 1 0 1 0 1.1016 -1.668l-0.51758-0.3418 0.33203-0.19141a1 1 0 0 0 -0.45508 -1.8711 1 1 0 0 0 -0.54492 0.14062l-0.33008 0.19141-0.037109-0.61719a1 1 0 0 0 -0.97461 -0.95508 1 1 0 0 0 -1.0215 1.0742l0.097656 1.6152-3.1621 1.8262v-3.6523l1.4473-0.72266a1 1 0 1 0 -0.89453 -1.7891l-0.55273 0.27734v-0.38281a1 1 0 0 0 -1.0156 -1.0137z"),e}function o(){$("#wb-snowflake-placeholder").remove()}function n(){$("<li class='-item'><a href='#' class='-link icon-winterbash' title='Winter Bash'><span class='wb-unread-count indicator-badge' style='display: none'></span></a>").find("a").prepend(t()).end().insertBefore($(".js-site-switcher-button").closest(".-item"));o()}function r(e){e&&e[0]&&e[0].isNew&&$.ajax({url:"/winter-bash/acknowledge-inbox",type:"POST",data:{fkey:StackExchange.options.user.fkey}})}function i(a){n(),a&&f().done(m);var e;$(".wb-link, .wb-unread-count, .icon-winterbash").click(function(t){if(t.preventDefault(),!$(this).is(".icon-winterbash.wb-open")){var o=$(".wb-unread-count").is(":visible");se.set(StackExchange.options.user.accountId,0),m(0);var n,s;a?(n=function(a,t){$("<div class='wb-footer'><a href='#' id='wb-hate'></a></div>").appendTo(a).find("a").text(X("hate")).attr("title",X("optout")),a.find("#wb-hate").click(function(t){$(this).html("<em>"+Z("optingout")+"</em>"),$.ajax({url:"/winter-bash/opt-out",type:"POST",data:{promoHost:F,fkey:StackExchange.options.user.fkey},dataType:"json",success:function(){re.setSync(StackExchange.options.user.accountId,!1),window.location.reload()},error:function(){StackExchange.helpers.showErrorPopup(a,X("optouterror"))}}),U("winterbash.opt_out",{}),t.preventDefault()}),e?(w(a.find("ul"),e),t&&t(a)):(a.find(".modal-content").addSpinner(),$.ajax({url:"//"+F+"/api/inbox",crossDomain:!0,data:{accountId:StackExchange.options.user.accountId},dataType:"jsonp",success:function(o){e=o,a.removeSpinner(),r(o),w(a.find("ul"),o),t&&t(a)}}))},s=function(e){e.find(".wb-inbox-item.wb-new").removeClass("wb-new")}):(n=function(e,a){var t=$(["<p>",Q("invite1",{StackExchange:"<a href=\"//stackexchange.com\" target=\"_blank\">Stack Exchange </a>"}),"</p>","<p><strong>",Q("invite2",{WinterBash:"<a href=\"//"+F+"\" target=\"_blank\">Winter Bash</a>"}),"</strong></p>","<button id=\"wb-join\"></button>"].join(""));e.find(".items").replaceWith(t),e.find("#wb-join").text(X("love")).attr("title",X("join")).click(function(a){$(this).attr("disabled",!0).val(X("joining")),$.ajax({url:"/winter-bash/opt-in",type:"POST",data:{promoHost:F,fkey:StackExchange.options.user.fkey},dataType:"json",success:function(){re.setSync(StackExchange.options.user.accountId,!0),window.location.reload()},error:function(){StackExchange.helpers.showErrorPopup(e,X("joinerror"))}}),U("winterbash.opt_in",{}),a.preventDefault()}),a&&a(t)},s=function(){}),U("winterbash.inbox_show",{has_number:o}),d("Winter Bash","wb-inbox-popup",n,s),t.preventDefault()}})}function d(e,a,t){function o(a){27==a.which&&r()}function n(e){s.find(e.target).length||setTimeout(r,0)}function r(){s.remove(),$(document).off("keyup",o),$(document).off("mouseup",n),$(".topbar .topbar-icon:not(.icon-winterbash)").off("click",".topbar-icon",n),i.removeClass("wb-open topbar-icon-on")}var s=$("<div class='topbar-dialog wb-inbox-dialog'><div class='header'><h3><a href='//"+F+"'>Winter Bash</a></h3></div><div class='modal-content'><ul class='items' /></div></div>");$(".js-topbar-dialog-corral").append(s.css("left",0));var i=$(".top-bar .icon-winterbash").addClass("wb-open topbar-icon-on"),d=i.outerHeight(),h=s,l=h.parent();for(["top","left","right","max-width"].forEach(function(e){h[0].style.removeProperty(e)});l.not("body").length&&"static"===l.css("position");)l=l.parent();l=l.length?l:$("body");var c=i.offset().left-l.offset().left;c=l.outerWidth()-c-i.outerWidth();var p=l.offset().left+l.outerWidth()-c,u={top:d};StackExchange.responsive&&"sm"===StackExchange.responsive.currentRange()||(u.right=c,p&&(u.maxWidth=p)),s.css(u),setTimeout(function(){$(document).mouseup(n),$(".topbar .topbar-icon:not(.icon-winterbash)").on("click",n),$(document).keyup(o)},0),t(s)}function h(e,a,t,o,n,r,s){function i(e){c.find(".wb-popup-content").replaceWith(e)}function d(a){27==a.which&&h()}function h(){l.fadeOut("fast"),n?c.fadeOut("fast",function(){c.remove()}):c.fadeOut("fast"),l.unbind("click",h),$(document).unbind("keyup",d),c.find(".wb-popup-close").unbind("click",h),r&&r()}var l=$(".wb-overlay"),c=$("#"+a);l.length||(l=$("<div class=\"wb-overlay\"></div>").css("height",$("body").height()).appendTo("body")),c.length||(c=$(["<div class=\"wb-popup\" id=\""+a+"\">","<div class=\"wb-popup-header\">","<div class=\"wb-popup-title\">",e,"</div>","<div class=\"wb-popup-close\"></div>","</div>","<div class=\"wb-popup-content\">","<em>"+X("loading")+"</em>","</div>","</div>"].join("")).appendTo("body"),s&&c.addClass(s),c.find(".wb-popup-close").click(h)),l.fadeIn("fast"),c.center().fadeIn("fast"),te[a]?o(c):t(c,function(e){i(e),c.center(),n||(te[a]=!0)}),l.click(h),$(document).keyup(d)}function l(){if(s)return s;s=$.Deferred();var a,t=$("<link rel=\"stylesheet\" type=\"text/css\" href=\""+q+"css/wb4qa.css?v=2\" />").appendTo("head");t.on("load",function(){s.resolve(),a&&clearInterval(a)});var a=setInterval(function(){var e=$("<div class='wb-popup' />").appendTo("body");"none"===e.css("display")&&(clearInterval(a),a=null,s.resolve()),e.remove()},1e3);return s}function c(){if(!ne){ne=!0;var e=Generator([/\/users\/filter/i,/\/posts\/\d+\/edit-submit/i,/\/posts\/\d+\/ajax-load-mini/i,/\/|posts\/ajax-load-realtime/i]);$(document).ajaxComplete(function(a,t,o){if(o){e.any(function(e){return e.test(o.url)})&&ee.trigger();for(var n=0;n<oe.length;n++)oe[n].call(null,o.url)}})}}function p(){var e;return StackExchange.options.user.isAnonymous?(e=$.Deferred(),e.resolve(!1),e.promise()):re.get(StackExchange.options.user.accountId)}function u(e,a){var t=$.Deferred();return $.ajax({url:"//"+F+"/api/is-participating",crossDomain:!0,data:{accountId:e,host:K},dataType:"jsonp",cache:a,jsonpCallback:"wbParticipating"+e}).done(function(e){t.resolve(e.isParticipating)}),t.promise()}function f(){var e;return StackExchange.options.user.isAnonymous?(e=$.Deferred(),e.resolve(0),e.promise()):se.get(StackExchange.options.user.accountId)}function b(e,a){var t=$.Deferred();return $.ajax({url:"//"+F+"/api/unread-count",crossDomain:!0,data:{accountId:e},dataType:"jsonp",cache:a,jsonpCallback:"wbUnread"+e}).done(function(e){t.resolve(e.unreadCount)}),t.promise()}function m(e){var a=$(".wb-unread-count");return 0>=e?void a.fadeOut():void(99<e&&(e=99),a.text(e).show())}function g(e,a,t){t=t||"";var o=e.match(ie);return o?"<div class=\"site-icon favicon favicon-"+o[1]+" "+t+"\" title=\""+a+"\" />":"<div class=\"site-icon favicon "+t+"\" title=\""+a+"\" />"}function w(e,a){if(!a||0==a.length){e.empty();var t=$(["<li class=\"wb-inbox-item",this.isNew?" wb-new":"","\" >","<a href=\"//",F,"\">","<img class=\"site-icon\" src=\"",q,"/favicon.ico\" />","<p>"+X("nohats")+"</p>","</a>","</li>"].join(""));e.append(t)}else e.empty(),$.each(a,function(){var a=Q("hatonsite",{hatName:this.hatName,siteName:this.siteName}),t=$(["<li class=\"wb-inbox-item",this.isNew?" wb-new":"","\" >","<a href=\"",this.link,"\" class=\"grid gs8 gsx\">",g(this.siteFaviconUrl,a,"grid--cell"),"<div class=\"wb-hat-holder grid--cell\" title=\"",a,"\"/>","<p class=\"grid--cell fl1\">",Q("youearned",{hatName:this.hatName,siteName:this.siteName}),"</p>","</a>","</li>"].join(""));t.find(".wb-hat-holder").append(WinterBash.hats.getHatDivToFitInside(this.hatId,16,16,q)),e.append(t),this.isNew=!1})}function y(){function e(e,a){var t=parseInt(localStorage.getItem(e),10);return isNaN(t)?a||0:t}function a(){n&&(clearTimeout(n),n=null);var a=new Date().getTime();e(J+"lastblur")||localStorage.setItem(J+"lastblur",a)}function t(){n=setTimeout(function(){var a=new Date().getTime(),t=e(J+"lastblur",a),o=e(J+"awaytime")+a-t;localStorage.setItem(J+"awaytime",o),localStorage.removeItem(J+"lastblur")},10)}if(Y){var o=StackExchange.options.user.userId;if(o){var n;(!document.hasFocus||document.hasFocus())&&t(),$(window).focus(t).blur(a).on("unload",function(){document.hasFocus&&document.hasFocus()&&a()}),1e4<e(J+"awaytime")&&(de.remove(o),localStorage.removeItem(J+"awaytime"),localStorage.removeItem(J+"lastblur"))}}}function v(e,a){var t=he[e];return t||(t=he[e]=$.Deferred()),ce.trigger(a),t}function k(e,a,t){var o=de.get(e).done(function(e){e&&a(e)});t&&o.fail(t)}function x(e){return /^(?:(?:https?:)?\/\/[\w.-]+)?\/c\//i.test(e)}function T(e){if(x(e))return null;var a=null;return e.replace(/users\/(-?\d+)/,function(e,t){a=parseInt(t,10)}),a}function j(e){for(var a,t=[],o={},n=0;n<e.length;n++){if(a=e[n],100>a){o[a]=WinterBash.hats.getHatTooltip(a);continue}if(Y){var r=localStorage.getItem(J+"hat-name-"+a);if(r){o[a]=r;continue}}t.push(a)}var s=$.Deferred();return t.length?($.ajax({url:"//"+F+"/api/hat-names",crossDomain:!0,dataType:"jsonp",data:{hatids:t.join(";")},cache:!0,jsonpCallback:("wbHatNames"+Generator(t).reduce(function(e,a){return e+a},0)).replace(/-/g,"_")}).done(function(e){for(var a in e)e.hasOwnProperty(a)&&(Y&&localStorage.setItem(J+"hat-name-"+a,e[a]),o[a]=e[a]);s.resolve(o)}),s.promise()):s.resolve(o).promise()}function I(e,a,t,o,n){var r="a[href*='/users/']",s=e.is(r)?e.attr("href"):e.find(r).attr("href");if(!s)return void n();var i=T(s);i&&k(i,function(r){o&&o(e),WinterBash.hats.addHatToGravatar(r.i,r.x,r.y,r.s,r.r,e,a).done(function(e){t&&t(e)}).fail(n)},n)}function C(e){e.find(".hat").remove()}function _(e){function a(){o--,!o&&r&&$(".wb-garbage-hat").remove()}function t(t,n,r){if(!(r&&r!==s)){e&&(t+=":not(.wb-hat-checked)");var i=$(t);o+=i.length,i.each(function(){I($(this).addClass("wb-hat-checked"),n,a,C,a)})}}e=!0===e;var o=0,r=!1;e||$(".hat:not(.wb-no-rehattify)").addClass("wb-garbage-hat");var s=location.pathname.match(/^\/(\w*)/)[1].toLowerCase();t(".user-gravatar32",!1),t(".my-profile",!0),t(".user-gravatar48",!0),t("body.review-page .dashboard-activity .dashboard-user",!1,"review"),t("#mainbar-full:not(.account-info) #avatar-card .avatar > a",!0,"users"),t(".user-gravatar-mini",!0,"users"),r=!0,o||$(".wb-garbage-hat").remove()}function E(e,a){return $.ajax({url:"//"+F+"/api/user-hats",crossDomain:!0,data:{userId:e,host:K},dataType:"jsonp",cache:a,jsonpCallback:("wpUserHats"+e).replace(/-/g,"_")})}function N(){function e(e){function t(){if(o.test(location.hash)){var e=document.title;r?location.hash="":history.back(),document.title=e}}var n,s=StackExchange.options.user.userId==a?X("yourhats"):X("somebodysHats");e&&StackExchange.options.user.userId!==a&&-1!==a&&(n="wb-modifying-someone-else"),h(s,"wb-hat-rack",function(t,o){pe.get(a).done(function(t){var n=$("<div class=\"wb-popup-content\"/>");O(n,a,t,e),o(n)})},function(){},!0,t,n)}var a=parseInt(location.pathname.replace(/^\/users\/(-?\d+)\/.*$/,"$1"),10)||null;if(a){var o=z?/^#winter-bash(?:-\d+|-modify)?$/:/^#winter-bash(?:-\d+)?$/,n=location.hash,r=!1;M||($(window).on("hashchange",function(){var a=location.hash;!o.test(n)&&o.test(a)?e(z&&"#winter-bash-modify"===a):o.test(n)&&!o.test(a)&&$("#wb-hat-rack .wb-popup-close").click(),n=a}),o.test(n)&&(e(z&&"#winter-bash-modify"===n),r=!0,U("winterbash.open_hat_rack",{via_click:!1,is_own:a===StackExchange.options.user.userId}))),$(".toggle-summary").click(ee.trigger),$.ajax({url:"//"+F+"/api/hat-count",crossDomain:!0,data:{userId:a,host:K},dataType:"jsonp",success:function(e){if(e){var o=$("#user-card .profile-user--about + * ul").eq(0);if(o.length){var n=$(["<li class=\"grid--cell wb-break-word ow-break-word\">","<div class=\"grid gs8 gsx ai-center\">","<div class=\"grid--cell fc-black-350 wb-js-snowflake-container\"/>","<div class=\"grid--cell fl1\">","<a href=\"#winter-bash\" id=\"wb-hat-count\">",1<e?Q("nhats",{n:e}):Z("onehat"),"</a>","</div>","</div>","</li>"].join("")).find(".wb-js-snowflake-container").prepend(t()).end();o.append(n)}var r=$("#top-cards > aside:nth-of-type(2)");if(r.length){var s=function(){r.append("<a href=\"#winter-bash\" id=\"wb-hat-count\" class=\"wb-activitytab-hat\" title=\""+(1<e?Q("nhats",{n:e}):Z("onehat"))+"\"><span>"+e+"</span></a>");var t=$(".additional-links .mod-links");if(t.length){var o=$("#wb-hat-count"),n=o.offset(),s=t.offset();n.top<s.top+t.height()&&t.css("margin-right",parseFloat(t.css("margin-right"))+s.left+t.width()-n.left),o.on("click",function(){U("winterbash.open_hat_rack",{via_click:!0,is_own:a===StackExchange.options.user.userId})})}};s(),oe.push(function(e){0<=e.indexOf("users/activity/badge-card/pick-next-badge")&&setTimeout(function(){$("#wb-hat-count").length||(r=$("#top-cards .badges-card, #top-cards .tag-badges-card"),s())},0)})}M?$("#wb-hat-count").attr("href","//"+K+location.pathname+"#winter-bash"):$("#user-info-container, #avatar-card").on("click",".gravatar > a:first-child, .avatar > a:first-child",function(t){"change-picture"===t.target.id||(location.hash="#winter-bash",U("winterbash.open_hat_rack",{via_click:!0,is_own:a===StackExchange.options.user.userId}),t.preventDefault())})}}})}}function W(e){var a;return a=/^touch/.test(e.type)?e.originalEvent.touches[0]:e,{x:a.pageX,y:a.pageY}}function B(e,a,t,o,n){e.addClass("wb-draggable");var r,s,i,d,h=!1;if(n=n||1,a){var l=a;a=function(){var e=l();return{x:e.x,y:e.y}}}else a=function(){return{x:0,y:0}};e.on("mousedown touchstart",function(t){h=!0;var o=W(t);return r=L(o.x),s=L(o.y),i=a(),d={x:i.x,y:i.y},e.addClass("wb-dragging"),!1}).click(function(){return!1});var c=function(){return!h||(h=!1,e.removeClass("wb-dragging"),o&&o(d.x,d.y),!1)},u=function(a){if(!e.parent().length)return $(document).unbind("mousemove touchmove",u),$(document).unbind("mouseup touchend",c),$(document).unbind("mouseout touchleave touchcancel",f),!0;if(!h)return!0;var o=W(a);return d={x:i.x+(L(o.x)-r)*n,y:i.y+(L(o.y)-s)*n},t&&t(d.x,d.y),!1},f=function(a){return!h||!!a.relatedTarget||(h=!1,e.removeClass("wb-dragging"),o(i.x,r.y),!1)};$(document).on("mouseup touchend",c).on("mousemove touchmove",u).on("mouseout touchleave touchcancel",f)}function S(e,a,t,o,n){var r=Math.sin,s=Math.cos,i=n*G/180,d=e[t]-a[t],h=e[o]-a[o];e[t]=d*s(i)-h*r(i)+a[t],e[o]=d*r(i)+h*s(i)+a[o]}function H(e,a,t,o){function n(){m?$("#wb-take-off").text("take off this user's hat "+($("#wb-only-here").prop("checked")?"on this site":"everywhere")):$("#wb-take-off").text($("#wb-only-here").prop("checked")?X("takeoffhere"):X("takeoffeverywhere"))}var r,s=$("<div class='wb-hat-details'/>").prependTo(e);if(t){var i=$("<a class='wb-hat-details-avatar'/>").attr("href","/users/"+a).click(function(a){a.preventDefault()}).appendTo(s),d=$(".user-header-left .gravatar, #avatar-card .avatar, .user-gravatar-mini .gravatar-wrapper-32").find("img:last").attr("src");r=$("<img width=128 height=128/>").attr("src",d.replace(/([?&])s=\d+/,"$1s=128")).appendTo(i)}else var h=$("<div id='wb-hat-details-display'></div>").text(X("hatdetails")).appendTo(s);var l,c,p,u,f=$("<div id='wb-hat-details-info' />").appendTo(s);f.on("click","#wb-show-handle",function(){U("winterbash.toggle_control_handles",{enabled:$("#wb-show-handle").prop("checked")})});var b=a===StackExchange.options.user.userId,m=!b&&0<a;if(t){if(u=$("<div class='wb-controls' />").hide().appendTo(s),o){var w=$("<input type='checkbox' id='wb-only-here' />").appendTo(u).on("change",function(){var e=$(this).prop("checked");n(),Y&&(e?localStorage.setItem(J+"onlyhere","1"):localStorage.removeItem(J+"onlyhere"))});Y&&(w.prop("checked","1"===localStorage.getItem(J+"onlyhere")),setTimeout(n,0)),$("<label for='wb-only-here'></label> ").text(X("onlyhere")).appendTo(u)}$("<button></button>").text(m?"Set this user's hat":X("wearhat")).appendTo(u);e.on("click","#wb-take-off, .wb-controls button",function(t){t.preventDefault();var n,r=p||c,s="wb-take-off"!==this.id,i=o&&!w.prop("checked");n=s?{hatId:l,fkey:StackExchange.options.user.fkey,x:r.x,y:r.y,s:r.s,r:r.r,everywhere:i,community:-1===a}:{fkey:StackExchange.options.user.fkey,everywhere:i,community:-1===a},b||-1===a||(n.forUserId=a);var d=$(this),h=d.text();d.empty().addSpinner().prop("disabled",!0),$.ajax({url:s?"/winter-bash/wear":"/winter-bash/take-off",type:"POST",data:n,dataType:"json",success:function(){e.find(".wb-wearing").removeClass("wb-wearing"),s?($("#wb-hat-"+l).addClass("wb-wearing"),$(".wb-popup-close").click(),de.set(a,{i:l,x:r.x,y:r.y,s:r.s,r:r.r})):($(".wb-popup-close").click(),de.set(a,{i:0,x:0,y:0,s:100,r:0})),_()},error:function(a){var t;t=409===a.status?a.responseText:X("changeerror"),StackExchange.helpers.showErrorPopup(e,t),d.text(h).prop("disabled",!1)}}),s?U("winterbash.wear_hat",{is_own:b,everywhere:i,hat_id:l,default_rotation:0===r.r,default_scale:100===r.s,default_position:0===r.x&&0===r.y}):U("winterbash.take_off_hat",{is_own:b,everywhere:i})})}return{element:s,setHat:function(e,o,n){if(!e)return void(t&&u.hide());t&&u.show();var d;if(d=$("#wb-show-handle").length?$("#wb-show-handle").prop("checked"):!n,f.empty().addSpinner(),D(a,e,function(e){if($("<h3 />").text(e.hat_name).appendTo(f.empty()),$("<p class='wb-hat-detail-description' />").text(e.hat_description).appendTo(f),t){var o=$("<p />").appendTo(f),n=$("<input type='checkbox' id='wb-show-handle' />").prop("checked",d||!1).appendTo(o).on("change",function(){var e=$(this).prop("checked");e?$("#wb-handles-container").show():$("#wb-handles-container").hide()}).trigger("change");$("<label for='wb-show-handle'></label> ").text(X("showcontrols")).appendTo(o)}var r;if(StackExchange.options.user.userId==a)r=Z("youearnedon");else{var s,i=$("#user-displayname, .user-card-name, .mini-avatar > .name")[0];if(i){for(var h=i;h&&3!==h.nodeType;)h=h.childNodes[0];h&&3===h.nodeType&&(s=$.trim(h.nodeValue))}r=s?Q("nameearnedon",{username:s}):Z("userearnedon")}f.append($("<span />").html(r));var l=$("<span />"),c=$("<p />").appendTo(f);if(Generator(e.sites).take(7).forEach(function(e){var a=l.html(e.site_name).text();$(g(e.favicon,"")).addClass("wb-favicon").attr("title",a).appendTo(c)}),7<e.total_sites){var p=e.total_sites-7;c.append("<br/><span>"+(1<p?Q("andmoresites",{n:p}):Z("andonesite")))}}),!t){var b=WinterBash.hats.getHatDivToFitInside(e,128,128,q).appendTo(h.empty());return void b.css("margin-top",0|(128-b.height())/2)}l=e,c={x:o.x,y:o.y,s:o.s,r:o.r},o={x:o.x,y:o.y,s:o.s,r:o.r},WinterBash.hats.ensureLegalShift(e,o),p={x:o.x,y:o.y,s:o.s,r:o.r},s.find(".hat").remove(),$("#wb-handles-container").remove(),WinterBash.hats.addHatToGravatar(e,o.x,o.y,o.s,o.r,i,!0).done(function(a,t){function n(){var e={x:(244+p.x+s.x)/4,y:(104+p.y+s.y)/4};d.css({left:e.x+15,top:e.y+15}),u=Math.min(260,m.top+e.y-60-20,m.left+e.x-60-20);var a=Math.log(p.s/100)/0.9162907318741551,t=L((a+1)/2*u+60);c={x:0,y:-t},S(c,{x:0,y:0},"x","y",p.r),h.css({left:-22+c.x,top:-22+c.y}),l.css({left:t-22+40});var o="rotate("+(p.r-90)+"deg)";return f.css({width:t-22,transform:o}),b.css("width",t-22+40),c}var s=WinterBash.hats.getHatShift(e);a.addClass("wb-no-rehattify");var d=$("<div id='wb-handles-container' />").appendTo(i),h=$("<div id='wb-rotscale-handle'/>").appendTo(d),l=$("<div id='wb-move-handle'/>").appendTo(d);$("#wb-show-handle").prop("checked")||d.hide();var c,u,f=$("<div id='wb-rotscale-line' />").appendTo(d),b=$("<div id='wb-move-line' />").appendTo(d),m=r.offset();n(),B(h,function(){return c},function(a,r){var s=Math.sqrt(a*a+r*r);o.s=L(100*Math.pow(2.5,2*(s-60)/u-1)),o.r=90+L(0===a?0<=r?90:-90:180*Math.atan(r/a)/G),0>a&&(o.r+=180),180<o.r&&(o.r-=360),p={x:o.x,y:o.y,s:o.s,r:o.r},WinterBash.hats.ensureLegalShift(e,p,!1,!0),t(p.x,p.y,p.s,p.r),n()},function(){o={x:p.x,y:p.y,s:p.s,r:p.r}},1),B(a.add(l).add(f).add(b),function(){return p},function(a,r){o.x=L(a),o.y=L(r),p={x:o.x,y:o.y,s:o.s,r:o.r},WinterBash.hats.ensureLegalShift(e,p,!0,!1),t(p.x,p.y,p.s,p.r),n()},function(){o={x:p.x,y:p.y,s:p.s,r:p.r}},4)})}}}function A(e,a,t,o,n){var r;e.find("#wb-hat-"+t.i).addClass("wb-wearing"),e.on("click",".wb-outer",function(){e.find(".wb-selected").removeClass("wb-selected"),$(this).addClass("wb-selected"),r=parseInt(this.id.substring(7),10);var a={x:t.x,y:t.y,s:t.s,r:t.r};o.setHat(r,a,!!t.i)}),setTimeout(function(){e.find(".wb-selected").removeClass("wb-selected"),$("#wb-hat-"+(n||t.i)).addClass("wb-selected");var a={x:t.x,y:t.y,s:t.s,r:t.r};o.setHat(n||t.i,a,!!t.i)},0)}function O(e,a,t,o){for(var n,r,s,d,h=t.length,l=[],c=$("<div class=\"wb-mainarea\"/>").appendTo(e),p=$("<div class='wb-rack' />").appendTo(c),u=0;u<h;u++){r=t[u],n=r[0],l.push(n),s=$("<div class=\"wb-outer\" id=\"wb-hat-"+n+"\"></div>");try{d=WinterBash.hats.getHatDivToFitResponsively(n)}catch(a){continue}s.append(d),r[2]&&s.addClass("wb-earned-here"),p.append(s)}p[0].style.setProperty("--wb-cols",18>=h?6:28>=h?7:40>=h?8:9),j(l).done(function(a){for(u=0;u<l.length;u++)$("#wb-hat-"+l[u],e).attr("title",a[l[u]])});var i=StackExchange.options.user.userId===a,f=$("<div class=\"wb-bottom\"/>").appendTo(c);!i&&z&&!o&&0<a&&f.append("<div><a href='#'>change this user's hat (for moderation purposes)</a></div>").find("a").click(function(){$("#wb-hat-rack .wb-popup-close").click();var e=setInterval(function(){$("#wb-hat-rack").length||(clearInterval(e),location.hash="winter-bash-modify")},100);return!1}),f.append("<div><a class=\"dno\" href=\"#\" id=\"wb-take-off\">"+X("takeoffeverywhere")+"</a></div>"),f.append("<div><a href=\"//"+F+"\" target=\"_blank\">Winter Bash &raquo;</a></div>");var b=StackExchange.options.user.isModerator&&-1===a,g=H(e,a,i||b||o,i||o);k(a,function(t){var n,r=/^#winter-bash-(\d+)$/.exec(location.hash);r&&(location.replace(location.href.replace(/-\d+$/,"")),n=parseInt(r[1],10),!p.find("#wb-hat-"+n).length&&(n=null)),(i||b||o)&&t.i&&($("#wb-take-off",e).removeClass("dno"),b&&$("#wb-take-off",e).text(X("takeoffCU"))),A(p,a,t,g,n)})}function D(e,a,t){ue.get(e+"="+a).done(t)}function P(e,a){var t=e.split("=");return $.ajax({url:"//"+F+"/api/user-hat-details/",crossDomain:!0,dataType:"jsonp",jsonpCallback:"wbUHDetails"+e.replace(/[=-]/g,"_"),cache:a,data:{userid:t[0],hatid:t[1],host:K,lang:StackExchange.options.locale}})}function U(e,a){StackExchange.using("gps",function(){StackExchange.gps.track(e,a)})}function R(e,a,t,o){function n(){f.setItem(a,JSON.stringify(i(!0))),g=[]}function r(a){for(var t,e=g.length,o=0;o<e;o++)t=g[o],1===t.length?delete a[t[0]]:a[t[0]]=t[1]}function s(e){var a={},t=new Date().getTime()-m;for(var o in e)e.hasOwnProperty(o)&&e[o].t>=t&&(a[o]=e[o]);return a}function i(e){if(!u||e){var t=f.getItem(a);t?(u=s($.parseJSON(t)),r(u)):(u={},r(u))}return u}function d(e){return function(a){l(e,a)}}function h(a){var t=i();if(!t||!(a in t))return e(a).done(d(a));var o,n=t[a],r=new Date().getTime()-n.t;return r>b&&(o=e(a).done(d(a))),r<=m?$.Deferred().resolve(n.v).promise():o}function l(e,a){var t=i(),o={t:new Date().getTime(),v:a};t[e]=o,g.push([e,o]),v.trigger()}function c(e){var a=i();if(a&&e in a){var t=a[e],o=new Date().getTime()-t.t;if(o<=m)return t.v}}function p(e){var a=i();a&&(delete a[e],g.push([e]))}var u,f,b=1e3*t,m=1e3*o,g=[];if(Y)f=localStorage,$(window).on("storage",function(e){e.originalEvent.key===a&&(u=null)});else{var w=function(){return null};f={getItem:w,setItem:w};var y=e;e=function(e){return y(e,!0)}}var v=StackExchange.helpers.DelayedReaction(n);return{get:h,set:l,setSync:function(e,a){l(e,a),v.cancel(),n()},getIfAvailable:c,remove:p}}var G=Math.PI,L=Math.round;(function(a){var o=Array.prototype.indexOf?function(e,a){return e.indexOf(a)}:function(e,a){for(var t=e.length,o=0;o<t;o++)if(o in e&&e[o]===a)return o;return-1};var i={},l=function(e){return this instanceof l?void(this.forEach="function"==typeof e?d(e):e.constructor===Array?n(e):c(e)):new l(e)},e=function(){throw i},r=function(e){this.message=e,this.name="IterationError"};r.prototype=Error.prototype;var d=function(t){return function(o,n){var s=!1,d=0,h=function(t){if(s)throw new r("yield after end of iteration");return t=o.call(n,t,d,e),d++,t},a=function(e){e=e instanceof l?e:new l(e),e.forEach(function(e){h(e)})};try{t(h,a,e)}catch(e){if(e!==i)throw e}finally{s=!0}}},n=function(e){return d(function(a){for(var t=e.length,o=0;o<t;o++)o in e&&a(e[o])})},c=function(e){return d(function(a){for(var t in e)e.hasOwnProperty(t)&&a([t,e[t]])})},p=function(e){return"string"==typeof e?function(a){return a[e]}:e};l.prototype={toArray:function(){var e=[];return this.forEach(function(a){e.push(a)}),e},filter:function(e,a){var t=this;return e=p(e),new l(function(o){t.forEach(function(t){e.call(a,t)&&o(t)})})},take:function(t){var e=this;return new l(function(a){e.forEach(function(o,n,r){n>=t&&r(),a(o)})})},skip:function(e){var a=this;return new l(function(t){a.forEach(function(a,o){o>=e&&t(a)})})},map:function(e,a){var t=this;return e=p(e),new l(function(o){t.forEach(function(t){o(e.call(a,t))})})},zipWithArray:function(t,a){"undefined"==typeof a&&(a=function(e,a){return[e,a]});var o=this;return new l(function(n){var r=t.length,e=0;o.forEach(function(o,s,i){for(;!(s+e in t)&&s+e<r;)e++;s+e>=r&&i(),n(a(o,t[s+e]))})})},reduce:function(e,a){var t,o;return 2>arguments.length?t=!0:(t=!1,o=a),this.forEach(function(a){t?(o=a,t=!1):o=e(o,a)}),o},and:function(e){var a=this;return new l(function(t,o){o(a),o(e)})},takeWhile:function(t){var e=this;return t=p(t),new l(function(a){e.forEach(function(o,n,e){t(o)?a(o):e()})})},skipWhile:function(e){var a=this;return e=p(e),new l(function(t){var o=!0;a.forEach(function(a){(o=o&&e(a))||t(a)})})},all:function(t){var a=!0;return t=p(t),this.forEach(function(o,n,r){(t?t(o):o)||(a=!1,r())}),a},any:function(t){var a=!1;return t=p(t),this.forEach(function(o,n,r){(t?t(o):o)&&(a=!0,r())}),a},first:function(){var e;return this.forEach(function(a,t,o){e=a,o()}),e},groupBy:function(e){var a=this;return e=p(e),new l(function(t,n){var r=[],s=[];a.forEach(function(a){var t=e(a),n=o(r,t);-1===n?(r.push(t),s.push([a])):s[n].push(a)}),n(new l(r).zipWithArray(s,function(e,a){var t=new l(a);return t.key=e,t}))})},evaluated:function(){return new l(this.toArray())},except:function(e){return this.filter(function(a){return a!==e})},sortBy:function(o){var e=this;return o=p(o),new l(function(n){var r=e.toArray(),a=t(0,r.length).toArray();a.sort(function(a,t){var n=o(r[a]),s=o(r[t]);if(typeof n==typeof s){if(n===s)return a<t?-1:1;if(n<s)return-1;if(n>s)return 1}throw new TypeError("cannot compare "+n+" and "+s)}),new l(a).forEach(function(e){n(r[e])})})},count:function(){var e=0;return this.forEach(function(){e++}),e}};var h=function(e,t){var o=e;return"undefined"==typeof t&&(t=1),new l(function(e){for(;;)e(o),o+=t})},t=function(e,a){return h(e,1).take(a)},s=a.Generator;a.Generator=l,l.BreakIteration=i,l.Count=h,l.Range=t,l.IterationError=r,l.noConflict=function(){return a.Generator=s,l}})(this),Generator=Generator.noConflict();var F,q,z,Y=!1,M=!1,K=window.location.hostname.toLowerCase();StackExchange.options.site.isChildMeta&&(M=!0,K=$("<a/>").attr("href",StackExchange.options.site.parentUrl)[0].hostname.toLowerCase());var J="wb18a:";(function(){try{var e=[];for(var a in localStorage)/^(?:wb16:|wb17:|wb17a:|wb18:)/.test(a)&&e.push(a);for(var t=0;t<e.length;t++)localStorage.removeItem(e[t])}catch(e){}})();try{var V="hello "+Math.random();window.localStorage.setItem(J+"test",V),localStorage.getItem(J+"test")===V&&(Y=!0),window.localStorage.removeItem(J+"test")}catch(e){Y=!1}var X,s,Z=function(e,a){return $("<span/>").text(X(e,a)).html()},Q=function(e,a){return Z(e,a).replace(/\${(\w+)}/g,function(e,t){return a[t]})},ee=StackExchange.helpers.DelayedReaction(_,200,{sliding:!0}),ae="http://www.w3.org/2000/svg",te={},oe=[],ne=!1,re=R(u,J+"isparticipating",300,600),se=R(b,J+"unreadcount",300,600),ie=/\/sites\/([^/]+)\/img\//i,de=R(v,J+"wearing",300,600),he={},le=50,ce=StackExchange.helpers.DelayedReaction(function(e){var a=[],t=he,o={},n=0;for(var r in t)t.hasOwnProperty(r)&&(n<le?a.push(parseInt(r,10)):o[r]=t[r],n++);if(n){he=o;var s=Math.abs(Generator(a).reduce(function(e,a){return e+a},0)),i="//"+F+"/api/current-hats";$.ajax(i,{crossDomain:!0,dataType:"jsonp",data:{userids:a.join(";"),host:K},cache:e,jsonpCallback:"winterBashCurrentHats"+s}).done(function(e){for(var o=0;o<a.length;o++){r=a[o];var s=e[r]||0;t[r].resolve(s)}n>le&&setTimeout(ce.trigger,1e3)})}},100),pe=R(E,J+"alluserhats",60,90);var ue=R(P,J+"user-hat-details",300,600);return{init:function(t,n,r,s){return x(location.pathname)?void o():void(F=t,z=s,window.WinterBash.STATIC_CONTENT_ROOT=q=n,WinterBash.IMAGE_CACHE_BREAKER=r||"0",X=WinterBash.text.getGetText(StackExchange.options.locale),$.when(p(),l()).done(function(t){StackExchange.options.user.isAnonymous||i(t),(StackExchange.options.user.isAnonymous||t)&&e(function(){c(),y(),$(window).on("resize",ee.trigger),$(window).on("storage",function(e){e.originalEvent.key===J+"wearing"&&ee.trigger()}),$(document).on("click",".new-post-activity, .account-toggle",ee.trigger),a(),setTimeout(_,50),/^\/users\/-?\d+/i.test(location.pathname)&&N(),"/review"===location.pathname&&setInterval(function(){ee.trigger(!0)},3e3)})}))},draggable:B}}(),window.WinterBash.text={},window.WinterBash.text.en={hate:"I hate hats",optout:"opt out of Winter Bash",optingout:"opting out\u2026",optouterror:"An error occurred while opting out - please try again.",invite1:"${StackExchange} invites you to celebrate the end of a great year \u2026 with HATS!",invite2:"To participate in ${WinterBash}, simply click the button below!",love:"I Love Hats!",join:"Join Winter Bash!",joining:"Joining\u2026",joinerror:"An error occurred while joining - please try again.",loading:"loading\u2026",nohats:"You have not earned any hats yet.",hatonsite:"${hatName} on ${siteName}",youearned:"You earned ${hatName} on ${siteName}!",yourhats:"Your Hats",somebodysHats:"Hats",onehat:"1 hat",nhats:"${n} hats",hatdetails:"Click a hat to view its details",showcontrols:"show controls",youearnedon:"You earned this hat on:",nameearnedon:"${username} earned this hat on:",userearnedon:"This user earned this hat on:",andonesite:"and one other site",andmoresites:"and ${n} other sites",onlyhere:"only on this site",takeoffeverywhere:"take off your hats everywhere",takeoffhere:"take off your hat on this site",takeoffCU:"take off Community's hat",wearhat:"Wear hat",changeerror:"An error occurred while changing the hat - please try again."},window.WinterBash.text.es={hate:"Odio los sombreros",optout:"No participar en el Winter Bash",optingout:"no participar",optouterror:"Ocurri\xF3 un error al excluiste - intenta de nuevo por favor.",invite1:"${StackExchange} te invita a celebrar el fin del a\xF1o, \xA1con sombreros!",invite2:"Para participar en ${WinterBash}, \xA1oprime el bot\xF3n siguiente!",love:"\xA1Amo a los sombreros!",join:"\xA1Participa en Winter Bash!",joining:"Ingresando",joinerror:"Ocurri\xF3 un error al ingresar - intenta de nuevo por favor.",loading:"Cargando",nohats:"No has ganado ning\xFAn sombrero todav\xEDa.",hatonsite:"${hatName} en ${siteName}",youearned:"\xA1Ganaste ${hatName} en ${siteName}!",yourhats:"Tus Sombreros",somebodysHats:"Sombreros",onehat:"1 sombrero",nhats:"${n} sombreros",hatdetails:"Haz clic en un sombrero para ver sus detalles",showcontrols:"muestra controles",youearnedon:"Ganaste este sombrero en:",nameearnedon:"${username} gano este sombrero en:",userearnedon:"Este usuario gano este sombrero en:",andonesite:"y en otro sitio",andmoresites:"y en ${n} otros sitios",onlyhere:"solamente en este sitio",takeoffeverywhere:"remover por completo todos los sombreros",takeoffhere:"remover los sombreros en este sitio",takeoffCU:"remover los sombreros de Community",wearhat:"Usar el sombrero",changeerror:"Ocurri\xF3 un error al cambiar de sombrero - intenta de nuevo por favor."},window.WinterBash.text.ja={hate:"\u5E3D\u5B50\u306F\u5ACC\u3044",optout:"Winter Bash\u306B\u53C2\u52A0\u3057\u306A\u3044",optingout:"\u51E6\u7406\u4E2D...",optouterror:"\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002",invite1:"${StackExchange} \u3067\u5E3D\u5B50\u3092\u88AB\u308A\u306A\u304C\u3089\u5E74\u672B\u3092\u697D\u3057\u307F\u307E\u305B\u3093\u304B\uFF1F",invite2:"\u4E0B\u306E\u30DC\u30BF\u30F3\u3092\u30AF\u30EA\u30C3\u30AF\u3057\u3066\u3001 ${WinterBash} \u306B\u53C2\u52A0\u3057\u307E\u3057\u3087\u3046\uFF01",love:"\u5E3D\u5B50\u5927\u597D\u304D\uFF01",join:"Winter Bash\u306B\u53C2\u52A0\u3059\u308B",joining:"\u51E6\u7406\u4E2D...",joinerror:"\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002",loading:"\u8AAD\u307F\u8FBC\u307F\u4E2D...",nohats:"\u307E\u3060\u5E3D\u5B50\u3092\u624B\u306B\u5165\u308C\u3066\u3044\u307E\u305B\u3093\u3002",hatonsite:"${siteName} \u306E ${hatName}",youearned:"${siteName} \u3067 ${hatName} \u3092\u624B\u306B\u5165\u308C\u305F\uFF01",yourhats:"\u3042\u306A\u305F\u306E\u5E3D\u5B50",somebodysHats:"\u5E3D\u5B50",onehat:"1\u500B",nhats:"${n}\u500B",hatdetails:"\u8A73\u7D30\u3092\u78BA\u8A8D\u3059\u308B\u306B\u306F\u5E3D\u5B50\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044",showcontrols:"\u30B3\u30F3\u30C8\u30ED\u30FC\u30EB\u3092\u8868\u793A",youearnedon:"\u4EE5\u4E0B\u306E\u30B5\u30A4\u30C8\u3067\u7372\u5F97\uFF1A",nameearnedon:"${username}\u304C\u3053\u306E\u5E3D\u5B50\u3092\u7372\u5F97\u3057\u305F\u30B5\u30A4\u30C8\uFF1A",userearnedon:"\u3053\u306E\u30E6\u30FC\u30B6\u30FC\u304C\u3053\u306E\u5E3D\u5B50\u3092\u7372\u5F97\u3057\u305F\u30B5\u30A4\u30C8\uFF1A",andonesite:"\u4ED61\u30B5\u30A4\u30C8",andmoresites:"\u4ED6${n}\u30B5\u30A4\u30C8",onlyhere:"\u3053\u306E\u30B5\u30A4\u30C8\u3060\u3051\u306B\u9069\u7528",takeoffeverywhere:"\u5168\u3066\u306E\u30B5\u30A4\u30C8\u3067\u5E3D\u5B50\u3092\u88AB\u3089\u306A\u3044",takeoffhere:"\u3053\u306E\u30B5\u30A4\u30C8\u3067\u306F\u5E3D\u5B50\u3092\u88AB\u3089\u306A\u3044",takeoffCU:"Community\u30E6\u30FC\u30B6\u30FC\u306E\u5E3D\u5B50\u3092\u53D6\u308B",wearhat:"\u5E3D\u5B50\u3092\u88AB\u308B",changeerror:"\u30A8\u30E9\u30FC\u304C\u767A\u751F\u3057\u307E\u3057\u305F\u3002\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044\u3002"},window.WinterBash.text["pt-BR"]={hate:"Eu odeio chap\xE9us",optout:"n\xE3o participar do Winter Bash",optingout:"saindo\u2026",optouterror:"Ocorreu um erro - tente de novo.",invite1:"${StackExchange} te convida a celebrar mais um \xF3timo ano\u2026 com CHAP\xC9US!",invite2:"Para participar do ${WinterBash}, clique no bot\xE3o abaixo!",love:"Amo chap\xE9us!",join:"Participe do Winter Bash!",joining:"entrando\u2026",joinerror:"Ocorreu um erro - tente de novo",loading:"carregando\u2026",nohats:"Sem chap\xE9us at\xE9 agora.",hatonsite:"${hatName} no ${siteName}",youearned:"Voc\xEA ganhou ${hatName} no ${siteName}!",yourhats:"Seus chap\xE9us",somebodysHats:"Chap\xE9us",onehat:"1 chap\xE9u",nhats:"${n} chape\xFAs",hatdetails:"Clique num chap\xE9u para ver mais detahes",showcontrols:"mostrar controles",youearnedon:"Voc\xEA ganhou esse chap\xE9u no:",nameearnedon:"${username} ganhou esse chap\xE9u no:",userearnedon:"O usu\xE1rio ganhou o chap\xE9u no:",andonesite:"e em um outro site",andmoresites:"e em ${n} outros sites",onlyhere:"somente neste site",takeoffeverywhere:"n\xE3o usar mais chap\xE9us",takeoffhere:"n\xE3o usar chap\xE9us neste site",takeoffCU:"tirar chap\xE9u do Comunidade",wearhat:"Usar chap\xE9u",changeerror:"Ocorreu um erro ao mudar de chap\xE9u - tente de novo."},window.WinterBash.text.ru={hate:"\u042F \u043D\u0435\u043D\u0430\u0432\u0438\u0436\u0443 \u0448\u043B\u044F\u043F\u044B",optout:"\u0438\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0438\u0437 \xABWinter Bash\xBB",optingout:"\u0438\u0441\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u0435\u2026",optouterror:"\u0412\u043E \u0432\u0440\u0435\u043C\u044F \u0438\u0441\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F \u043F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0441\u043D\u043E\u0432\u0430.",invite1:"${StackExchange} \u043F\u0440\u0438\u0433\u043B\u0430\u0448\u0430\u0435\u0442 \u0412\u0430\u0441 \u043E\u0442\u043F\u0440\u0430\u0437\u0434\u043D\u043E\u0432\u0430\u0442\u044C \u043A\u043E\u043D\u0435\u0446 \u0437\u0430\u043C\u0435\u0447\u0430\u0442\u0435\u043B\u044C\u043D\u043E\u0433\u043E \u0433\u043E\u0434\u0430 \u0428\u041B\u042F\u041F\u0410\u041C\u0418!",invite2:"\u0414\u043B\u044F \u043F\u0440\u0438\u043D\u044F\u0442\u0438\u044F \u0443\u0447\u0430\u0441\u0442\u0438\u044F \u0432 \xAB${WinterBash}\xBB, \u043F\u0440\u043E\u0441\u0442\u043E \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u043D\u0430 \u043A\u043D\u043E\u043F\u043A\u0443 \u043D\u0438\u0436\u0435!",love:"\u042F \u043B\u044E\u0431\u043B\u044E \u0448\u043B\u044F\u043F\u044B!",join:"\u041F\u0440\u0438\u0441\u043E\u0435\u0434\u0438\u043D\u0438\u0442\u044C\u0441\u044F \u043A \xABWinter Bash\xBB!",joining:"\u041F\u0440\u0438\u0441\u043E\u0435\u0434\u0438\u043D\u044F\u0435\u043C\u0441\u044F\u2026",joinerror:"\u0412\u043E \u0432\u0440\u0435\u043C\u044F \u043F\u0440\u0438\u0441\u043E\u0435\u0434\u0438\u043D\u0435\u043D\u0438\u044F \u043F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430\u2026",nohats:"\u0412\u044B \u0435\u0449\u0435 \u043D\u0435 \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043B\u0438 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0448\u043B\u044F\u043F\u044B.",hatonsite:"${hatName} \u043D\u0430 ${siteName}",youearned:"\u0412\u044B \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043B\u0438 ${hatName} \u043D\u0430 ${siteName}!",yourhats:"\u0412\u0430\u0448\u0438 \u0448\u043B\u044F\u043F\u044B",somebodysHats:"\u0428\u043B\u044F\u043F\u044B",onehat:"1 \u0448\u043B\u044F\u043F\u0430",nhats:function(e){return this._plural(e.n,"${n} \u0448\u043B\u044F\u043F\u0430","${n} \u0448\u043B\u044F\u043F\u044B","${n} \u0448\u043B\u044F\u043F")},hatdetails:"\u041D\u0430\u0436\u043C\u0438\u0442\u0435 \u043D\u0430 \u0448\u043B\u044F\u043F\u0443, \u0447\u0442\u043E\u0431\u044B \u0443\u0432\u0438\u0434\u0435\u0442\u044C \u0434\u0435\u0442\u0430\u043B\u0438 \u043E \u043D\u0435\u0439",showcontrols:"\u043F\u043E\u043A\u0430\u0437\u0430\u0442\u044C \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B",youearnedon:"\u0412\u044B \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043B\u0438 \u044D\u0442\u0443 \u0448\u043B\u044F\u043F\u0443 \u043D\u0430:",nameearnedon:"${username} \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043B \u044D\u0442\u0443 \u0448\u043B\u044F\u043F\u0443 \u043D\u0430:",userearnedon:"\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A \u0437\u0430\u0440\u0430\u0431\u043E\u0442\u0430\u043B \u044D\u0442\u0443 \u0448\u043B\u044F\u043F\u0443 \u043D\u0430:",andonesite:"\u0435\u0449\u0435 \u043E\u0434\u0438\u043D \u0441\u0430\u0439\u0442",andmoresites:function(e){return this._plural(e.n,"\u0435\u0449\u0435 ${n} \u0441\u0430\u0439\u0442","\u0435\u0449\u0435 ${n} \u0441\u0430\u0439\u0442\u0430","\u0435\u0449\u0435 ${n} \u0441\u0430\u0439\u0442\u043E\u0432")},onlyhere:"\u0442\u043E\u043B\u044C\u043A\u043E \u043D\u0430 \u044D\u0442\u043E\u043C \u0441\u0430\u0439\u0442\u0435",takeoffeverywhere:"\u0441\u043D\u044F\u0442\u044C \u0432\u0430\u0448\u0438 \u0448\u043B\u044F\u043F\u044B \u0432\u0435\u0437\u0434\u0435",takeoffhere:"\u0441\u043D\u044F\u0442\u044C \u0448\u043B\u044F\u043F\u0443 \u043D\u0430 \u044D\u0442\u043E\u043C \u0441\u0430\u0439\u0442\u0435",takeoffCU:"\u0441\u043D\u044F\u0442\u044C \u0448\u043B\u044F\u043F\u0443 \u0414\u0443\u0445\u0430 \u0441\u043E\u043E\u0431\u0449\u0435\u0441\u0442\u0432\u0430",wearhat:"\u041D\u0430\u0434\u0435\u0442\u044C \u0448\u043B\u044F\u043F\u0443",changeerror:"\u0412\u043E \u0432\u0440\u0435\u043C\u044F \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u0448\u043B\u044F\u043F\u044B \u043F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430. \u041F\u043E\u0436\u0430\u043B\u0443\u0439\u0441\u0442\u0430, \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0441\u043D\u043E\u0432\u0430.",_plural:function(e,a,t,o){if(e%=100,5<=e&&14>=e)return o;switch(e%10){case 1:return a;case 2:case 3:case 4:return t;}return o}},WinterBash.text.getGetText=function(e){var a=WinterBash.text.en,t=WinterBash.text[e];return t||(StackExchange.debug.log("no WinterBash translation for locale "+e),t=a),function(o,n){var r=t[o];return"function"==typeof r&&(r=r.call(t,n)),r||StackExchange.debug.log("no WinterBash translation for string "+o+" in locale "+e)||a[o]||StackExchange.debug.log("unknown string resource "+o)||"UNKNOWN STRING"}};